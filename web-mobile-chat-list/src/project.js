window.__require=function t(e,i,s){function n(a,o){if(!i[a]){if(!e[a]){var l=a.split("/");if(l=l[l.length-1],!e[l]){var r="function"==typeof __require&&__require;if(!o&&r)return r(l,!0);if(c)return c(l,!0);throw new Error("Cannot find module '"+a+"'")}}var h=i[a]={exports:{}};e[a][0].call(h.exports,function(t){return n(e[a][1][t]||t)},h,h.exports,t,e,i,s)}return i[a].exports}for(var c="function"==typeof __require&&__require,a=0;a<s.length;a++)n(s[a]);return n}({ListItem:[function(t,e,i){"use strict";cc._RF.push(e,"5a969vN49tNAbdnwfe6dffE","ListItem");var s=cc.Enum({NONE:0,TOGGLE:1,SWITCH:2});cc.Class({editor:{disallowMultiple:!1,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List Item",executionOrder:-5001},extends:cc.Component,properties:{icon:{default:null,type:cc.Sprite},title:cc.Node,selectedMode:{default:s.NONE,type:s,tooltip:!1},selectedFlag:{default:null,type:cc.Node,visible:function(){var t=this.selectedMode>0;return t||(this.selectedFlag=null),t}},selectedSpriteFrame:{default:null,type:cc.SpriteFrame,visible:function(){var t=this.selectedMode==s.SWITCH;return t||(this.selectedSpriteFrame=null),t}},_selected:!1,selected:{visible:!1,get:function(){return this._selected},set:function(t){if(this._selected=t,this.selectedFlag)switch(this.selectedMode){case s.TOGGLE:this.selectedFlag.active=t;break;case s.SWITCH:this.selectedFlag.spriteFrame=t?this.selectedSpriteFrame:this._unselectedSpriteFrame}}},_btnCom:null,btnCom:{visible:!1,get:function(){return this._btnCom||(this._btnCom=this.node.getComponent(cc.Button)),this._btnCom}}},onLoad:function(){if(this.title){var t=this.title.getComponent(cc.Label);t||(t=this.title.getComponent(cc.RichText)),this.title=t}if(this.btnCom||(this.selectedMode,s.NONE),this.selectedMode==s.SWITCH){var e=this.selectedFlag.getComponent(cc.Sprite);this.selectedFlag=e,this._unselectedSpriteFrame=e.spriteFrame}},_registerEvent:function(){if(this.btnCom&&this._list.selectedMode>0&&!this.eventReg){var t=new cc.Component.EventHandler;t.target=this.node,t.component="ListItem",t.handler="onClickThis",this.btnCom.clickEvents.unshift(t),this.eventReg=!0}},showAni:function(t,e,i){var s=this,n=void 0;switch(t){case 0:n=[new cc.scaleTo(.2,.7),new cc.moveBy(.3,0,2*this.node.height)];break;case 1:n=[new cc.scaleTo(.2,.7),new cc.moveBy(.3,2*this.node.width,0)];break;case 2:n=[new cc.scaleTo(.2,.7),new cc.moveBy(.3,0,-2*this.node.height)];break;case 3:n=[new cc.scaleTo(.2,.7),new cc.moveBy(.3,-2*this.node.width,0)];break;default:n=[new cc.scaleTo(.3,.1)]}(e||i)&&n.push(new cc.CallFunc(function(){if(i){s._list._delSingleItem(s.node);for(var t=s._list.displayData.length-1;t>=0;t--)if(s._list.displayData[t].listId==s.node._listId){s._list.displayData.splice(t,1);break}}e()})),this.node.runAction(new cc.Sequence(n))},onClickThis:function(){this._list.selectedId=this.node._listId}}),cc._RF.pop()},{}],List:[function(t,e,i){"use strict";cc._RF.push(e,"5132c1xKI5En6Qjk/W16Qt+","List");var s=cc.Enum({NODE:1,PREFAB:2}),n=cc.Enum({NORMAL:1,ADHERING:2,PAGE:3}),c=cc.Enum({NONE:0,SINGLE:1,MULT:2}),a=t("ListItem");cc.Class({extends:cc.Component,editor:{disallowMultiple:!1,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List",requireComponent:cc.ScrollView,executionOrder:-5e3},properties:{templateType:{default:s.NODE,type:s},tmpNode:{default:null,type:cc.Node,tooltip:!1,visible:function(){var t=this.templateType==s.NODE;return t||(this.tmpNode=null),t}},tmpPrefab:{default:null,type:cc.Prefab,tooltip:!1,visible:function(){var t=this.templateType==s.PREFAB;return t||(this.tmpPrefab=null),t}},_slideMode:1,slideMode:{type:n,tooltip:!1,get:function(){return this._slideMode},set:function(t){null!=t&&(this._slideMode=t)}},pageDistance:{default:.3,type:cc.Float,range:[0,1,.1],tooltip:!1,slide:!0,visible:function(){return this._slideMode==n.PAGE}},pageChangeEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1,visible:function(){var t=this._slideMode==n.PAGE;return t||(this.pageChangeEvent=null),t}},_virtual:!0,virtual:{tooltip:!1,get:function(){return this._virtual},set:function(t){null!=t&&(this._virtual=t),0!=this._numItems&&this._onScrolling()}},lackCenter:{default:!1,tooltip:!1,visible:function(){return this.virtual}},_updateRate:2,updateRate:{type:cc.Integer,range:[0,6,1],tooltip:!1,slide:!0,get:function(){return this._updateRate},set:function(t){t>=0&&t<=6&&(this._updateRate=t)}},frameByFrameRenderNum:{default:0,type:cc.Integer,range:[0,12,1],tooltip:!1,slide:!0},renderEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1},selectedMode:{default:c.NONE,type:c,tooltip:!1},repeatEventSingle:{default:!1,tooltip:!1,visible:function(){return this.selectedMode==c.SINGLE}},selectedEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1,visible:function(){var t=this.selectedMode>0;return t||(this.selectedEvent=null),t}},_selectedId:-1,selectedId:{visible:!1,get:function(){return this._selectedId},set:function(t){var e=this,i=void 0;switch(e.selectedMode){case c.SINGLE:if(!e.repeatEventSingle&&t==e._selectedId)return;if(i=e.getItemByListId(t),e._selectedId>=0?e._lastSelectedId=e._selectedId:e._lastSelectedId=null,e._selectedId=t,i&&(i.listItem.selected=!0),e._lastSelectedId>=0&&e._lastSelectedId!=e._selectedId){var s=e.getItemByListId(e._lastSelectedId);s&&(s.listItem.selected=!1)}e.selectedEvent&&cc.Component.EventHandler.emitEvents([e.selectedEvent],i,t,e._lastSelectedId);break;case c.MULT:if(!(i=e.getItemByListId(t)))return;e._selectedId>=0&&(e._lastSelectedId=e._selectedId),e._selectedId=t;var n=!i.listItem.selected;i.listItem.selected=n;var a=e.multSelected.indexOf(t);n&&a<0?e.multSelected.push(t):!n&&a>=0&&e.multSelected.splice(a,1),e.selectedEvent&&cc.Component.EventHandler.emitEvents([e.selectedEvent],i,t,e._lastSelectedId,n)}}},_numItems:{default:0,serializable:!1},numItems:{visible:!1,get:function(){return this._numItems},set:function(t){var e=this;if(e.checkInited())if(null==t||t<0)cc.error("numItems set the wrong::",t);else if(e._numItems=t,e._forceUpdate=!0,e._virtual)e._resizeContent(),e._onScrolling(),e.frameByFrameRenderNum||e.slideMode!=n.PAGE||(e.curPageNum=e.nearestListId);else{var i=e.content.getComponent(cc.Layout);if(i&&(i.enabled=!0),e._delRedundantItem(),e.firstListId=0,e.frameByFrameRenderNum>0){for(var s=e.frameByFrameRenderNum>e._numItems?e._numItems:e.frameByFrameRenderNum,c=0;c<s;c++)e._createOrUpdateItem2(c);e.frameByFrameRenderNum<e._numItems&&(e._updateCounter=e.frameByFrameRenderNum,e._updateDone=!1)}else{for(var a=0;a<t;a++)e._createOrUpdateItem2(a);e.actualNumItems=t}}}}},onLoad:function(){this._init()},onDestroy:function(){for(this._itemTmp&&this._itemTmp.destroy();this._pool.size();){this._pool.get().destroy()}},onEnable:function(){this._registerEvent(),this._init()},onDisable:function(){this._unregisterEvent()},_registerEvent:function(){var t=this;t.node.on(cc.Node.EventType.TOUCH_START,t._onTouchStart,t,!0),t.node.on("touch-up",t._onTouchUp,t,!0),t.node.on(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancelled,t,!0),t.node.on("scroll-began",t._onScrollBegan,t,!0),t.node.on("scroll-ended",t._onScrollEnded,t,!0),t.node.on("scrolling",t._onScrolling,t,!0)},_unregisterEvent:function(){var t=this;t.node.off(cc.Node.EventType.TOUCH_START,t._onTouchStart,t,!0),t.node.off("touch-up",t._onTouchUp,t,!0),t.node.off(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancelled,t,!0),t.node.off("scroll-began",t._onScrollBegan,t,!0),t.node.off("scroll-ended",t._onScrollEnded,t,!0),t.node.off("scrolling",t._onScrolling,t,!0)},_init:function(){var t=this;if(!t._inited)if(t._scrollView=t.node.getComponent(cc.ScrollView),t.content=t._scrollView.content,t.content){switch(t._layout=t.content.getComponent(cc.Layout),t._align=t._layout.type,t._resizeMode=t._layout.resizeMode,t._startAxis=t._layout.startAxis,t._topGap=t._layout.paddingTop,t._rightGap=t._layout.paddingRight,t._bottomGap=t._layout.paddingBottom,t._leftGap=t._layout.paddingLeft,t._columnGap=t._layout.spacingX,t._lineGap=t._layout.spacingY,t._colLineNum,t._verticalDir=t._layout.verticalDirection,t._horizontalDir=t._layout.horizontalDirection,t.setTemplateItem(t.templateType==s.PREFAB?cc.instantiate(t.tmpPrefab):t.tmpNode),t._slideMode!=n.ADHERING&&t._slideMode!=n.PAGE||(t._scrollView.inertia=!1),t.virtual||(t.lackCenter=!1),t._lastDisplayData=[],t.displayData=[],t._pool=new cc.NodePool,t._forceUpdate=!1,t._updateCounter=0,t._updateDone=!0,t.curPageNum=0,t._align){case cc.Layout.Type.HORIZONTAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}break;case cc.Layout.Type.VERTICAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.Type.GRID:switch(t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.AxisDirection.VERTICAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}}}t.content.removeAllChildren(),t._inited=!0}else cc.error(t.node.name+"'s cc.ScrollView unset content!")},setTemplateItem:function(t){if(t){var e=this;e._itemTmp=t,e._resizeMode==cc.Layout.ResizeMode.CHILDREN?e._itemSize=e._layout.cellSize:e._itemSize=new cc.size(e._itemTmp.width,e._itemTmp.height);var i=e._itemTmp.getComponent(a),s=!1;switch(i||(s=!0),i&&(i._btnCom||e._itemTmp.getComponent(cc.Button)||(s=!0)),s&&(e.selectedMode=c.NONE),e.selectedMode==c.MULT&&(e.multSelected=[]),e._align){case cc.Layout.Type.HORIZONTAL:e._colLineNum=1,e._sizeType=!1;break;case cc.Layout.Type.VERTICAL:e._colLineNum=1,e._sizeType=!0;break;case cc.Layout.Type.GRID:switch(e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var n=e.content.width-e._leftGap-e._rightGap;e._colLineNum=Math.floor((n+e._columnGap)/(e._itemSize.width+e._columnGap)),e._sizeType=!0;break;case cc.Layout.AxisDirection.VERTICAL:var o=e.content.height-e._topGap-e._bottomGap;e._colLineNum=Math.floor((o+e._lineGap)/(e._itemSize.height+e._lineGap)),e._sizeType=!1}}}},checkInited:function(t){return t=null==t||t,!!this._inited||(t&&cc.error("List initialization not completed!"),!1)},_resizeContent:function(){var t=this,e=void 0;switch(t._align){case cc.Layout.Type.HORIZONTAL:if(t.customSize){var i=t._getFixedSize();e=t._leftGap+i.val+t._itemSize.width*(t._numItems-i.count)+t._columnGap*(t._numItems-1)+t._rightGap}else e=t._leftGap+t._itemSize.width*t._numItems+t._columnGap*(t._numItems-1)+t._rightGap;break;case cc.Layout.Type.VERTICAL:if(t.customSize){var s=t._getFixedSize();e=t._topGap+s.val+t._itemSize.height*(t._numItems-s.count)+t._lineGap*(t._numItems-1)+t._bottomGap}else e=t._topGap+t._itemSize.height*t._numItems+t._lineGap*(t._numItems-1)+t._bottomGap;break;case cc.Layout.Type.GRID:switch(t.lackCenter&&(t.lackCenter=!1),t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var n=Math.ceil(t._numItems/t._colLineNum);e=t.content.height=t._topGap+t._itemSize.height*n+t._lineGap*(n-1)+t._bottomGap;break;case cc.Layout.AxisDirection.VERTICAL:var c=Math.ceil(t._numItems/t._colLineNum);e=t.content.width=t._leftGap+t._itemSize.width*c+t._columnGap*(c-1)+t._rightGap}}var a=t.content.getComponent(cc.Layout);a&&(a.enabled=!1),t._allItemSize=e;var o=void 0;t._sizeType?((o=e<t.node.height?t.node.height-.1:e)<0&&(o=0),t._lackSize=t.lackCenter?o:null,t._allItemSizeNoBorder=t._allItemSize-t._topGap-t._bottomGap,t.content.height=o):((o=e<t.node.width?t.node.width-.1:e)<0&&(o=0),t._lackSize=t.lackCenter?o:null,t._allItemSizeNoBorder=t._allItemSize-t._leftGap-t._rightGap,t.content.width=o)},_onScrolling:function(t){if(null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&t&&"scroll-ended"!=t.type&&this.frameCount>0)this.frameCount--;else if(this.frameCount=this._updateRate,!this._aniDelRuning){this._calcViewPos();var e=void 0,i=void 0,s=void 0,n=void 0;if(this._sizeType?(e=this.viewTop,s=this.viewBottom):(i=this.viewRight,n=this.viewLeft),this._virtual){this.displayData=[];var c=void 0,a=0,o=this._numItems-1;if(this.customSize)for(var l=!1;a<=o&&!l;a++)switch(c=this._calcItemPos(a),this._align){case cc.Layout.Type.HORIZONTAL:c.right>=n&&c.left<=i?this.displayData.push(c):0!=a&&this.displayData.length>0&&(l=!0);break;case cc.Layout.Type.VERTICAL:c.bottom<=e&&c.top>=s?this.displayData.push(c):0!=a&&this.displayData.length>0&&(l=!0);break;case cc.Layout.Type.GRID:switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:c.bottom<=e&&c.top>=s?this.displayData.push(c):0!=a&&this.displayData.length>0&&(l=!0);break;case cc.Layout.AxisDirection.VERTICAL:c.right>=n&&c.left<=i?this.displayData.push(c):0!=a&&this.displayData.length>0&&(l=!0)}}else{var r=this._itemSize.width+this._columnGap,h=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:a=(n+this._leftGap)/r,o=(i+this._rightGap)/r;break;case 2:a=(-i-this._rightGap)/r,o=(-n-this._leftGap)/r;break;case 3:a=(-e-this._topGap)/h,o=(-s-this._bottomGap)/h;break;case 4:a=(s+this._bottomGap)/h,o=(e+this._topGap)/h}for(a=Math.floor(a)*this._colLineNum,o=Math.ceil(o)*this._colLineNum,o--,a<0&&(a=0),o>=this._numItems&&(o=this._numItems-1);a<=o;a++)this.displayData.push(this._calcItemPos(a))}if(this.displayData.length<=0||!this._numItems)return void this._delRedundantItem();this.firstListId=this.displayData[0].id,this.actualNumItems=this.displayData.length;var d=this._lastDisplayData.length;if(this._forceUpdate||this.actualNumItems!=d||this.firstListId!=this._lastDisplayData[0]||this.displayData[this.actualNumItems-1].id!=this._lastDisplayData[d-1])if(this._lastDisplayData=[],this.frameByFrameRenderNum>0)this._numItems>0?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._delRedundantItem(),this._updateCounter=0,this._updateDone=!0);else{for(var u=0;u<this.actualNumItems;u++)this._createOrUpdateItem(this.displayData[u]);this._delRedundantItem(),this._forceUpdate=!1}this._calcNearestItem()}}},_calcViewPos:function(){var t=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=t.x>0?t.x:0,this.viewLeft=(t.x<0?-t.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this.node.width,this.elasticRight=this.viewRight>this.content.width?Math.abs(this.viewRight-this.content.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=t.x<0?-t.x:0,this.viewRight=(t.x>0?-t.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this.node.width,this.elasticLeft=this.viewLeft<-this.content.width?Math.abs(this.viewLeft+this.content.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=t.y<0?Math.abs(t.y):0,this.viewTop=(t.y>0?-t.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this.node.height,this.elasticBottom=this.viewBottom<-this.content.height?Math.abs(this.viewBottom+this.content.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=t.y>0?Math.abs(t.y):0,this.viewBottom=(t.y<0?-t.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this.node.height,this.elasticTop=this.viewTop>this.content.height?Math.abs(this.viewTop-this.content.height):0,this.viewTop-=this.elasticTop}},_calcItemPos:function(t){var e=void 0,i=void 0,s=void 0,n=void 0,c=void 0,a=void 0,o=void 0,l=void 0;switch(this._align){case cc.Layout.Type.HORIZONTAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:if(this.customSize){var r=this._getFixedSize(t);c=this._leftGap+(this._itemSize.width+this._columnGap)*(t-r.count)+(r.val+this._columnGap*r.count);var h=this.customSize[t];e=h>0?h:this._itemSize.width}else c=this._leftGap+(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;if(a=c+e,this.lackCenter&&this._lackSize>=0){var d=this.content.width/2-this._allItemSizeNoBorder/2;c+=d,a+=d}return{id:t,left:c,right:a,x:c+this._itemTmp.anchorX*e,y:this._itemTmp.y};case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:if(this.customSize){var u=this._getFixedSize(t);a=-this._rightGap-(this._itemSize.width+this._columnGap)*(t-u.count)-(u.val+this._columnGap*u.count);var m=this.customSize[t];e=m>0?m:this._itemSize.width}else a=-this._rightGap-(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;if(c=a-e,this.lackCenter&&this._lackSize>=0){var _=this.content.width/2-this._allItemSizeNoBorder/2;c-=_,a-=_}return{id:t,right:a,left:c,x:c+this._itemTmp.anchorX*e,y:this._itemTmp.y}}break;case cc.Layout.Type.VERTICAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:if(this.customSize){var p=this._getFixedSize(t);s=-this._topGap-(this._itemSize.height+this._lineGap)*(t-p.count)-(p.val+this._lineGap*p.count);var g=this.customSize[t];n=s-(i=g>0?g:this._itemSize.height)}else s=-this._topGap-(this._itemSize.height+this._lineGap)*t,i=this._itemSize.height;if(n=s-i,this.lackCenter&&this._lackSize>=0){var f=this.content.height/2-this._allItemSizeNoBorder/2;s-=f,n-=f}return{id:t,top:s,bottom:n,x:this._itemTmp.x,y:n+this._itemTmp.anchorY*i};case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:if(this.customSize){var v=this._getFixedSize(t);n=this._bottomGap+(this._itemSize.height+this._lineGap)*(t-v.count)+(v.val+this._lineGap*v.count);var I=this.customSize[t];i=I>0?I:this._itemSize.height}else n=this._bottomGap+(this._itemSize.height+this._lineGap)*t,i=this._itemSize.height;if(s=n+i,this.lackCenter&&this._lackSize>=0){var y=this.content.height/2-this._allItemSizeNoBorder/2;s+=y,n+=y}return{id:t,top:s,bottom:n,x:this._itemTmp.x,y:n+this._itemTmp.anchorY*i}}case cc.Layout.Type.GRID:var T=Math.floor(t/this._colLineNum);switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:l=(n=(s=-this._topGap-(this._itemSize.height+this._lineGap)*T)-this._itemSize.height)+this._itemTmp.anchorY*this._itemSize.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:s=(n=this._bottomGap+(this._itemSize.height+this._lineGap)*T)+this._itemSize.height,l=n+this._itemTmp.anchorY*this._itemSize.height}switch(o=this._leftGap+t%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:o+=this._itemTmp.anchorX*this._itemSize.width,o-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:o+=(1-this._itemTmp.anchorX)*this._itemSize.width,o-=(1-this.content.anchorX)*this.content.width,o*=-1}return{id:t,top:s,bottom:n,x:o,y:l};case cc.Layout.AxisDirection.VERTICAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:a=(c=this._leftGap+(this._itemSize.width+this._columnGap)*T)+this._itemSize.width,o=c+this._itemTmp.anchorX*this._itemSize.width,o-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:o=(c=(a=-this._rightGap-(this._itemSize.width+this._columnGap)*T)-this._itemSize.width)+this._itemTmp.anchorX*this._itemSize.width,o+=(1-this.content.anchorX)*this.content.width}switch(l=-this._topGap-t%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:l-=(1-this._itemTmp.anchorY)*this._itemSize.height,l+=(1-this.content.anchorY)*this.content.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:l-=this._itemTmp.anchorY*this._itemSize.height,l+=this.content.anchorY*this.content.height,l*=-1}return{id:t,left:c,right:a,x:o,y:l}}}},_calcExistItemPos:function(t){var e=this.getItemByListId(t);if(!e)return null;var i={id:t,x:e.x,y:e.y};return this._sizeType?(i.top=e.y+e.height*(1-e.anchorY),i.bottom=e.y-e.height*e.anchorY):(i.left=e.x-e.width*e.anchorX,i.right=e.x+e.width*(1-e.anchorX)),i},getItemPos:function(t){return this._virtual?this._calcItemPos(t):this.frameByFrameRenderNum?this._calcItemPos(t):this._calcExistItemPos(t)},_getFixedSize:function(t){if(!this.customSize)return null;null==t&&(t=this._numItems);var e=0,i=0;for(var s in this.customSize)parseInt(s)<t&&(e+=this.customSize[s],i++);return{val:e,count:i}},_onScrollBegan:function(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft},_onScrollEnded:function(){var t=this;if(null!=t.scrollToListId){var e=t.getItemByListId(t.scrollToListId);t.scrollToListId=null,e&&e.runAction(new cc.sequence(new cc.scaleTo(.1,1.06),new cc.scaleTo(.1,1)))}t._onScrolling(),t._slideMode!=n.ADHERING||t.adhering?t._slideMode==n.PAGE&&(null!=t._beganPos?this._pageAdhere():t.adhere()):t.adhere()},_onTouchStart:function(t,e){if(!this._scrollView._hasNestedViewGroup(t,e)&&!(t.eventPhase===cc.Event.AT_TARGET&&t.target===this.node)){for(var i=t.target;null==i._listId&&i.parent;)i=i.parent;this._scrollItem=null!=i._listId?i:t.target}},_onTouchUp:function(){var t=this;t._scrollPos=null,t._slideMode==n.ADHERING?(t.adhering&&(t._adheringBarrier=!0),t.adhere()):t._slideMode==n.PAGE&&(null!=t._beganPos?t._pageAdhere():t.adhere()),this._scrollItem=null},_onTouchCancelled:function(t,e){var i=this;i._scrollView._hasNestedViewGroup(t,e)||t.simulate||(i._scrollPos=null,i._slideMode==n.ADHERING?(i.adhering&&(i._adheringBarrier=!0),i.adhere()):i._slideMode==n.PAGE&&(null!=i._beganPos?i._pageAdhere():i.adhere()),this._scrollItem=null)},_pageAdhere:function(){var t=this;if(!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){var e=t._sizeType?t.viewTop:t.viewLeft,i=(t._sizeType?t.node.height:t.node.width)*t.pageDistance;if(Math.abs(t._beganPos-e)>i){switch(t._alignCalcType){case 1:case 4:t._beganPos>e?t.prePage(.5):t.nextPage(.5);break;case 2:case 3:t._beganPos<e?t.prePage(.5):t.nextPage(.5)}}else t.elasticTop<=0&&t.elasticRight<=0&&t.elasticBottom<=0&&t.elasticLeft<=0&&t.adhere();t._beganPos=null}},adhere:function(){var t=this;if(t.checkInited()&&!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){t.adhering=!0,t._calcNearestItem();var e=(t._sizeType?t._topGap:t._leftGap)/(t._sizeType?t.node.height:t.node.width);t.scrollTo(t.nearestListId,.7,e)}},update:function(){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){for(var t=this._updateCounter+this.frameByFrameRenderNum>this.actualNumItems?this.actualNumItems:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++){var i=this.displayData[e];i&&this._createOrUpdateItem(i)}this._updateCounter>=this.actualNumItems-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._scrollView.isScrolling()||(this._doneAfterUpdate=!1)):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem(),this.slideMode==n.PAGE&&(this.curPageNum=this.nearestListId)):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){for(var s=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,c=this._updateCounter;c<s;c++)this._createOrUpdateItem2(c);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem(),this.slideMode==n.PAGE&&(this.curPageNum=this.nearestListId)},_createOrUpdateItem:function(t){var e=this.getItemByListId(t.id);if(e)this._forceUpdate&&this.renderEvent&&(e.setPosition(new cc.v2(t.x,t.y)),this._resetItemSize(e),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t.id));else{(e=this._pool.size()?this._pool.get():cc.instantiate(this._itemTmp))._listId=t.id,e.setPosition(new cc.v2(t.x,t.y)),this._resetItemSize(e),this.content.addChild(e),e.setSiblingIndex(this.content.childrenCount-1);var i=e.getComponent(a);e.listItem=i,i&&(i._list=this,i._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t.id)}this._resetItemSize(e),this._updateListItem(e.listItem),this._lastDisplayData.indexOf(t.id)<0&&this._lastDisplayData.push(t.id)},_createOrUpdateItem2:function(t){var e=this.content.children[t];if(e)this._forceUpdate&&this.renderEvent&&(e._listId=t,this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t));else{(e=cc.instantiate(this._itemTmp))._listId=t,this.content.addChild(e);var i=e.getComponent(a);e.listItem=i,i&&(i._list=this,i._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t)}this._updateListItem(e.listItem),this._lastDisplayData.indexOf(t)<0&&this._lastDisplayData.push(t)},_updateListItem:function(t){if(t&&this.selectedMode>c.NONE)switch(this.selectedMode){case c.SINGLE:t.selected=this.selectedId==t.node._listId;break;case c.MULT:t.selected=this.multSelected.indexOf(t.node._listId)>=0}},_resetItemSize:function(t){if(this.customSize&&this.customSize[t._listId]){var e=this.customSize[t._listId];this._align==cc.Layout.Type.HORIZONTAL?t.width=e:this._align==cc.Layout.Type.VERTICAL&&(t.height=e)}else t.setContentSize(this._itemSize)},setMultSelected:function(t,e){var i=this;if(i.checkInited()){if(Array.isArray(t)||(t=[t]),null==e)i.multSelected=t;else{var s=void 0,n=void 0;if(e)for(var c=t.length-1;c>=0;c--)s=t[c],(n=i.multSelected.indexOf(s))<0&&i.multSelected.push(s);else for(var a=t.length-1;a>=0;a--)s=t[a],(n=i.multSelected.indexOf(s))>=0&&i.multSelected.splice(n,1)}i._forceUpdate=!0,i._onScrolling()}},updateItem:function(t){if(this.checkInited()){Array.isArray(t)||(t=[t]);for(var e=0,i=t.length;e<i;e++){var s=t[e],n=this.getItemByListId(s);n&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,s)}}},updateAll:function(){this.checkInited()&&(this.numItems=this.numItems)},getItemByListId:function(t){for(var e=this.content.childrenCount-1;e>=0;e--)if(this.content.children[e]._listId==t)return this.content.children[e]},_getOutsideItem:function(){for(var t=void 0,e=void 0,i=[],s=this.content.childrenCount-1;s>=0;s--){if(t=this.content.children[s],e=!0)for(var n=this.actualNumItems-1;n>=0;n--)if(this.displayData[n]){var c=this.displayData[n].id;if(t._listId==c){e=!1;break}}e&&i.push(t)}return i},_delRedundantItem:function(){if(this._virtual)for(var t=this._getOutsideItem(),e=t.length-1;e>=0;e--){var i=t[e];this._scrollItem&&i._listId==this._scrollItem._listId||this._pool.put(i)}else for(;this.content.childrenCount>this._numItems;)this._delSingleItem(this.content.children[this.content.childrenCount-1])},_delSingleItem:function(t){t.removeFromParent(),t.destroy&&t.destroy(),t=null},aniDelItem:function(t,e,i){var s=this;if(s.checkInited()){var n=s.getItemByListId(t);if(!s._aniDelRuning&&s._virtual)if(n){s._aniDelRuning=!0;var a=s.displayData[s.displayData.length-1].id,o=n.listItem.selected;n.listItem.showAni(i,function(){var i=void 0;if(a<s._numItems-2&&(i=a+1),null!=i){var l=s._calcItemPos(i);s.displayData.push(l),s._virtual?s._createOrUpdateItem(l):s._createOrUpdateItem2(i)}else s._numItems--;if(s.selectedMode==c.SINGLE)o?s._selectedId=-1:s._selectedId-1>=0&&s._selectedId--;else if(s.selectedMode==c.MULT&&s.multSelected.length){var r=s.multSelected.indexOf(t);r>=0&&s.multSelected.splice(r,1);for(var h=s.multSelected.length-1;h>=0;h--){s.multSelected[h]>=t&&s.multSelected[h]--}}if(s.customSize){s.customSize[t]&&delete s.customSize[t];var d={},u=void 0;for(var m in s.customSize)u=s.customSize[m],d[(m=parseInt(m))-(m>=t?1:0)]=u;s.customSize=d}for(var _=void 0,p=void 0,g=null!=i?i:a;g>=t+1;g--)if(n=s.getItemByListId(g)){var f=s._calcItemPos(g-1);_=[new cc.moveTo(.2333,new cc.v2(f.x,f.y))],g<=t+1&&(p=!0,_.push(new cc.CallFunc(function(){s._aniDelRuning=!1,e(t)}))),_.length>1?n.runAction(new cc.Sequence(_)):n.runAction(_[0])}p||(s._aniDelRuning=!1,e(t))},!0)}else e(t)}},scrollTo:function(t,e,i,s){var n=this;if(n.checkInited()){n._scrollView.stopAutoScroll(),null==e?e=.5:e<0&&(e=0),t<0?t=0:t>=n._numItems&&(t=n._numItems-1),!n._virtual&&n._layout&&n._layout.enabled&&n._layout.updateLayout();var c=n.getItemPos(t),a=void 0,o=void 0;switch(n._alignCalcType){case 1:a=c.left,a-=null!=i?n.node.width*i:n._leftGap,c=new cc.v2(a,0);break;case 2:a=c.right-n.node.width,a+=null!=i?n.node.width*i:n._rightGap,c=new cc.v2(a+n.content.width,0);break;case 3:o=c.top,o+=null!=i?n.node.height*i:n._topGap,c=new cc.v2(0,-o);break;case 4:o=c.bottom+n.node.height,o-=null!=i?n.node.height*i:n._bottomGap,c=new cc.v2(0,-o+n.content.height)}var l=n.content.getPosition();l=Math.abs(n._sizeType?l.y:l.x);var r=n._sizeType?c.y:c.x,h=Math.abs((null!=n._scrollPos?n._scrollPos:l)-r)>.5;n._scrollView.stopAutoScroll(),h&&(n._scrollPos=r,n._scrollView.scrollToOffset(c,e),n.scheduleOnce(function(){if(n._adheringBarrier||(n.adhering=n._adheringBarrier=!1),n._scrollPos=null,s){var e=n.getItemByListId(t);e&&e.runAction(new cc.sequence(new cc.scaleTo(.1,1.05),new cc.scaleTo(.1,1)))}},e+.1),e<=0&&n._onScrolling())}},_calcNearestItem:function(){var t=this;t.nearestListId=null;var e=void 0,i=void 0;t._virtual&&t._calcViewPos();var s,n,c,a;s=t.viewTop,n=t.viewRight,c=t.viewBottom,a=t.viewLeft;for(var o=!1,l=0;l<t.content.childrenCount&&!o;l+=t._colLineNum)switch(e=this._virtual?this.displayData[l]:this._calcExistItemPos(l),i=this._sizeType?(e.top+e.bottom)/2:i=(e.left+e.right)/2,this._alignCalcType){case 1:e.right>=a&&(this.nearestListId=e.id,a>i&&(this.nearestListId+=this._colLineNum),o=!0);break;case 2:e.left<=n&&(this.nearestListId=e.id,n<i&&(this.nearestListId+=this._colLineNum),o=!0);break;case 3:e.bottom<=s&&(this.nearestListId=e.id,s<i&&(this.nearestListId+=this._colLineNum),o=!0);break;case 4:e.top>=c&&(this.nearestListId=e.id,c>i&&(this.nearestListId+=this._colLineNum),o=!0)}if((e=this._virtual?this.displayData[this.actualNumItems-1]:this._calcExistItemPos(this._numItems-1))&&e.id==t._numItems-1)switch(i=t._sizeType?(e.top+e.bottom)/2:i=(e.left+e.right)/2,t._alignCalcType){case 1:n>i&&(t.nearestListId=e.id);break;case 2:a<i&&(t.nearestListId=e.id);break;case 3:c<i&&(t.nearestListId=e.id);break;case 4:s>i&&(t.nearestListId=e.id)}},prePage:function(t){this.checkInited()&&(null==t&&(t=.5),this.skipPage(this.curPageNum-1,t))},nextPage:function(t){this.checkInited()&&(null==t&&(t=.5),this.skipPage(this.curPageNum+1,t))},skipPage:function(t,e){var i=this;if(i.checkInited())return i._slideMode!=n.PAGE?cc.error("This function is not allowed to be called, Must SlideMode = PAGE!"):void(t<0||t>=i._numItems||i.curPageNum!=t&&(i.curPageNum=t,i.pageChangeEvent&&cc.Component.EventHandler.emitEvents([i.pageChangeEvent],t),i.scrollTo(t,e)))},calcCustomSize:function(t){var e=this;if(e.checkInited()){if(!e._itemTmp)return cc.error("Unset template item!");if(!e.renderEvent)return cc.error("Unset Render-Event!");e.customSize={};var i=cc.instantiate(e._itemTmp);e.content.addChild(i);for(var s=0;s<t;s++)cc.Component.EventHandler.emitEvents([e.renderEvent],i,s),i.height==e._itemSize.height&&i.width==e._itemSize.width||(e.customSize[s]=e._sizeType?i.height:i.width);return Object.keys(e.customSize).length||(e.customSize=null),i.removeFromParent(),i.destroy&&i.destroy(),e.customSize}}}),cc._RF.pop()},{ListItem:"ListItem"}],Main:[function(t,e,i){"use strict";cc._RF.push(e,"909f1lfF59IwKwOGAXybpgj","Main");var s=t("List");cc.Class({extends:cc.Component,properties:{listV:s,listH:s,listG:s,listG2:s,input:cc.EditBox,info:cc.Label},onLoad:function(){this.data=[];for(var t=0;t<999;t++)this.data.push(t);this.listV.numItems=this.data.length,this.listH.numItems=this.data.length,this.listG.numItems=this.data.length,this.listG2.numItems=this.data.length},onListVRender:function(t,e){t.listItem.title.string=this.data[e];var i=t.getChildByName("label2"),s=void 0;i&&(s=i.getComponent(cc.Label)),s&&(s.string="height="+t.height),this.info.string="ListV\u5f53\u524d\u6e32\u67d3\u603b\u6570 = "+this.listV.actualNumItems},onListHRender:function(t,e){t.listItem.title.string=this.data[e];var i=t.getChildByName("label2"),s=void 0;i&&(s=i.getComponent(cc.Label)),s&&(s.string="width="+t.width),this.info.string="ListH\u5f53\u524d\u6e32\u67d3\u603b\u6570 = "+this.listH.actualNumItems},onListGridRender:function(t,e){t.listItem.title.string=this.data[e],this.info.string="ListG\u5f53\u524d\u6e32\u67d3\u603b\u6570 = "+this.listG.actualNumItems},onListGrid2Render:function(t,e){t.listItem.title.string=this.data[e],this.info.string="ListG2\u5f53\u524d\u6e32\u67d3\u603b\u6570 = "+this.listG2.actualNumItems},onListSelected:function(t,e,i,s){if(t){var n=t.listItem._list,c="\u5f53\u524d\u64cd\u4f5cList\u4e3a\uff1a"+n.node.name+"\uff0c\u5f53\u524d\u9009\u62e9\u7684\u662f\uff1a"+e+"\uff0c\u4e0a\u4e00\u6b21\u9009\u62e9\u7684\u662f\uff1a"+i;2==n.selectedMode&&(c+="\uff0c\u5f53\u524d\u503c\u4e3a\uff1a"+s),console.log(c)}},btnEvent:function(t){var e=this,i=function(t){null!=t&&(e.data.splice(t,1),console.log("------\u5220\u9664\u5b8c\u6bd5\uff01",t),e.listV.numItems=e.data.length,e.listH.numItems=e.data.length,e.listG.numItems=e.data.length,e.listG2.numItems=e.data.length)};switch(t.target.name){case"btn1":e.listV.aniDelItem(1,i,3);break;case"btn2":e.listH.aniDelItem(e.listH.selectedId,i,0);break;case"btn3":e.listG.aniDelItem(1,i);break;case"btn4":e.listV.customSize={0:300,5:260,6:300,10:210,13:100,14:130,15:160,17:1e3},e.listV.numItems=e.data.length;break;case"btn5":e.listH.customSize={0:400,5:260,6:300,10:210,13:100,14:130,15:160},e.listH.numItems=e.data.length;break;case"btn6":e.listV.scrollTo(parseInt(e.input.string),.5),e.listH.scrollTo(parseInt(e.input.string),.5),e.listG.scrollTo(parseInt(e.input.string),.5),e.listG2.scrollTo(parseInt(e.input.string),.5)}}}),cc._RF.pop()},{List:"List"}],TestBag:[function(t,e,i){"use strict";cc._RF.push(e,"f9e8dSA4rFKIYLHZnrxJ36j","TestBag");var s=t("List");cc.Class({extends:cc.Component,properties:{list:s,bagItem:cc.Prefab,curPage:cc.Label},onLoad:function(){this.totalItemNum=90,this.pagePreNum=16,this.pageTotalNum=Math.ceil(this.totalItemNum/this.pagePreNum),this.list.numItems=this.pageTotalNum,this.onPageChange()},onListRender:function(t,e){if(t.childrenCount)for(var i=0;i<t.childrenCount;i++){var s=t.children[i],n=e*this.pagePreNum+i;s.getComponentInChildren(cc.Label).string=n<this.totalItemNum?n+1:""}else for(var c=0;c<this.pagePreNum;c++){var a=cc.instantiate(this.bagItem);t.addChild(a);var o=e*this.pagePreNum+c;a.getComponentInChildren(cc.Label).string=o<this.totalItemNum?o+1:""}},onPageChange:function(t){var e=null==t?this.list.curPageNum:t;this.curPage.string="\u5f53\u524d\u9875\u6570\uff1a"+(e+1)}}),cc._RF.pop()},{List:"List"}],TestCustomSize:[function(t,e,i){"use strict";cc._RF.push(e,"3991bTH395GAJ1iMr9cYFxx","TestCustomSize");var s=t("List");cc.Class({extends:cc.Component,properties:{list:s,avatar1SF:cc.SpriteFrame,avatar2SF:cc.SpriteFrame,bubble1SF:cc.SpriteFrame,bubble2SF:cc.SpriteFrame},onLoad:function(){this.data=[{type:3,text:"8\u670830\u65e5 1:37"},{type:1,text:"\u70e7\u5427\uff0c\u5347\u8d77<color=#cc6600>\u7cdc\u70c2</color>\u7684\u70df\u3002\n\u62bd\u5427\uff0c\u5410\u51fa\u5168\u8eab\u7684\u75b2\u60eb\u3002"},{type:2,text:"\u9057\u5fd8\uff0c\u90a3\u4e9b\u7410\u788e\u7684\u4e00\u5207\u3002\n\u8ff7\u60d8\uff0c\u5728\u81ea\u5df1<color=#cc6600>\u865a\u7a7a</color>\u7684\u4e16\u754c\u3002"},{type:3,text:"\u6628\u5929 3:17"},{type:1,text:"\u4e00\u8d77\u505a\u4e2a<color=#cc6600>\u62dc\u91d1\u4e3b\u4e49</color>\u7684\u6bd2\u866b\u3002"},{type:2,text:"\u7528<color=#cc6600>\u6d88\u8d39</color>\u9ebb\u9189\u81ea\u5df1\u3002"},{type:1,text:"\u7528\u79f0\u4f5c<color=#cc6600>\u7269\u8d28\u6b32\u671b</color>\u7684<color=#cc6600>\u9488\u5934</color>\u3002"},{type:2,text:"\u6ce8\u5c04<color=#cc6600>\u8d2a\u5a6a</color>\u548c<color=#cc6600>\u6743\u529b</color>\u3002"},{type:3,text:"14:55"},{type:1,text:"<color=#cc6600>\u78e8\u788e\u4e2d\u4e0b\u9636\u7ea7\u7684\u7c89\u672b\uff0c\n\u5316\u6210\u9ad8\u7eaf\u5ea6\u7684\u4e0a\u6d41\u3002</color>"},{type:1,text:"\u6e34\u671b\u91d1\u5b57\u5854\u9876\u7aef\u7684\u5815\u843d<color=#cc6600>\u5931\u5fc3\u75af</color>\uff0c\n\u7684\u4f60\u548c\u6211\u3002"},{type:2,text:"\u7684\u4f60\u548c\u6211\u3002"},{type:3,text:"23:56"},{type:2,text:"<color=#cc6600>\u62dc\u91d1\u4e3b\u4e49</color>\u2014\u2014\uff01"},{type:1,text:"<color=#cc6600>\u62dc\u91d1\u4e3b\u4e49</color>\u2014\u2014\uff01"},{type:2,text:"<color=#cc6600>\u62dc\u91d1\u4e3b\u4e49</color>\u2014\u2014\uff01"},{type:1,text:"<color=#cc6600>\u62dc\u91d1\u4e3b\u4e49</color>\u7684\u6bd2\u866b\u2014\u2014\uff01"},{type:1,text:"<color=#cc6600>\u62dc\u91d1\u4e3b\u4e49</color>\u2014\u2014\uff01"},{type:2,text:"<color=#cc6600>\u62dc\u91d1\u4e3b\u4e49</color>\u2014\u2014\uff01"},{type:1,text:"<color=#cc6600>\u62dc\u91d1\u4e3b\u4e49</color>\u2014\u2014\uff01"},{type:2,text:"<color=#cc6600>\u62dc\u91d1\u4e3b\u4e49</color>\u7684<color=#ff0000><size=28>\u6bd2\u866b</size></color>\u2014\u2014\uff01"},{type:1,text:"\u70e7\u5427\uff0c\u5347\u8d77<color=#cc6600>\u7cdc\u70c2</color>\u7684\u70df\u3002\n\u62bd\u5427\uff0c\u5410\u51fa\u5168\u8eab\u7684\u75b2\u60eb\u3002"},{type:3,text:"\u8001\u7834\u9ebb - \u6bd2\u866b"},{type:2,text:'\u8c22\u8c22\u89c2\u8d4f<img src="37"/><img src="37"/><img src="37"/>'},{type:2,text:"\u4e0a\u9762\u7684\u6587\u5b57\u6458\u81ea\u4e00\u9996\u6447\u6eda\u6b4c\u66f2\u2014\u2014<color=#cc6600>\u300a\u6bd2\u866b\u300b</color>\uff0c\u521b\u4f5c\u4e50\u961f\uff1a<color=#cc6600>\u8001\u7834\u9ebb</color>\u3002"},{type:2,text:"emmmm...\u6211\u89c9\u5f97\u5199\u7684\u5f88\u597d\uff0c\u5531\u7684\u4e5f\u5f88\u597d\u3002"},{type:2,text:"<color=#ff0000><size=28>\u5899\u88c2\u63a8\u8350</size></color>\uff01\uff01\uff01"},{type:1,text:"\u55ef\uff0c<color=#cc6600>\u8001\u7834\u9ebb</color>\u662f\u4e00\u652f\u53f0\u6e7e\u4e50\u961f\uff0c\u76ee\u524d\u8fd8\u5f88\u5c0f\u4f17\u3002"},{type:1,text:'\u4f46\u7edd\u5bf9\u662f<color=#ff0000><size=28>\u5b9d\u85cf\u4e50\u961f</size></color>\uff01<img src="42"/><img src="42"/><img src="42"/>'},{type:2,text:"\u662f\u7684\u6ca1\u9519\uff0c\u4ed6\u4eec\u7684\u98ce\u683c\u56ca\u62ec\u4e86<color=#cc6600>\u6447\u6eda</color>\u3001<color=#cc6600>\u91d1\u5c5e</color>\u3001<color=#cc6600>\u6838</color>\uff0c\u751a\u81f3\u662f<color=#cc6600>BossaNova</color>\u3002"},{type:2,text:'\u501f\u7528<color=#cc6600>\u5f20\u4e9a\u4e1c</color>\u8001\u5e08\u7684\u4e00\u53e5\u7ecf\u5178\u53f0\u8bcd\uff1a\u975e\u5e38\u597d\u2014\u2014<img src="15"/><img src="15"/><img src="15"/>'},{type:2,text:'\u597d\u4e86\uff0c\u6211\u4eec\u8bf4\u4e00\u4e0b\u8fd9\u4e2a\u7ec4\u4ef6<img src="22"/><img src="22"/>'},{type:1,text:'\u8bf4\u6bdb\u7ebf\uff0c\u6709\u6bdb\u7ebf\u597d\u8bf4\u554a\uff0c\u90a3\u4e48\u7b80\u5355\u8c01\u4e0d\u4f1a\u7528\u554a\uff01<img src="20"/><img src="20"/>'},{type:2,text:'okok...<img src="53"/><img src="53"/>'},{type:2,text:'\u6709\u95ee\u9898\u53ef\u4ee5\u53bb\u6211\u4eec\u56e2\u961f\u7684Github\u63d0Issues\u3002<img src="39"/><img src="39"/><img src="39"/>'},{type:2,text:"\u94fe\u63a5\uff1a\n<u><color=#cc6600>https://github.com/gh-kL/cocoscreator-list</color></u>"},{type:1,text:'\u56e2\u4f60\u59b9\u592b\uff01\u5c31\u4e00\u7834\u7ec4\u4ef6<img src="20"/><img src="20"/>\u8fd8\u56e2\u961f\u5462\u6211\u53bb'},{type:2,text:"\u3002\u3002\u3002"},{type:2,text:'\u522b\u6233\u7a7f\u6211\u561b<img src="27"/><img src="27"/>'},{type:1,text:'\u6211tm<img src="39"/><img src="39"/>'},{type:2,text:'\u6211\u5e0c\u671b\u8fd9\u4e2a\u7ec4\u4ef6\u5927\u5bb6\u7528\u4e86\u4e4b\u540e\u4f1a\u89c9\u5f97<color=#cc6600>\u771f\u9999</color>\uff0c\u800c\u4e0d\u662f<color=#cc6600>\u771f\u81ed</color><img src="37"/><img src="37"/><img src="37"/>'},{type:1,text:'\u6211\u8ddf\u4f60\u8bf4\u5c31\u4f60\u8fd9\u7834\u7ec4\u4ef6\u5403\u67a3\u836f\u4e38<img src="32"/><img src="32"/>'},{type:2,text:'\u72d7\u5934\u4fdd\u547d<img src="58"/><img src="58"/><img src="58"/>'},{type:1,text:'\u8d70\u4f60\uff01<img src="55"/><img src="55"/><img src="55"/>'},{type:2,text:'\u518d\u89c1\u4e86\u60a8\u561e~<img src="29"/><img src="29"/><img src="29"/>'}],this.list.calcCustomSize(this.data.length),this.list.numItems=this.data.length},onListRender:function(t,e){var i=t.getChildByName("avatarNode"),s=i.getComponentInChildren(cc.Sprite),n=t.getChildByName("timeNode"),c=n.getComponentInChildren(cc.Label),a=t.getChildByName("chatBg").getComponent(cc.Sprite),o=a.node.getComponent(cc.Layout),l=a.node.getComponentInChildren(cc.RichText),r=this.data[e];i.active=a.node.active=3!=r.type,n.active=3==r.type;var h=void 0;switch(r.type){case 1:i.x=-170,s.spriteFrame=this.avatar1SF,a.spriteFrame=this.bubble1SF,l.node.x=-108,l.string=r.text,o.updateLayout(),h=a.node.y+a.node.height+43,t.height=h<80?80:h;break;case 2:i.x=170,s.spriteFrame=this.avatar2SF,a.spriteFrame=this.bubble2SF,l.node.x=-122,l.string=r.text,o.updateLayout(),h=a.node.y+a.node.height+43,t.height=h<80?80:h;break;case 3:c.string=r.text,t.height=60}}}),cc._RF.pop()},{List:"List"}],TestLack:[function(t,e,i){"use strict";cc._RF.push(e,"94cd9mzTXdKF4KEA1q+QJff","TestLack");var s=t("List");cc.Class({extends:cc.Component,properties:{listH:s,listV:s},onLoad:function(){this.data=[];for(var t=0;t<3;t++)this.data.push(t);this.listH.numItems=this.data.length,this.listV.numItems=this.data.length},onListRender:function(t,e){t.listItem.title.string=this.data[e]}}),cc._RF.pop()},{List:"List"}],TestPage:[function(t,e,i){"use strict";cc._RF.push(e,"49ed1UIr7tD8oTfwKSyh6O8","TestPage");var s=t("List");cc.Class({extends:cc.Component,properties:{list:s,input:cc.EditBox},onLoad:function(){this.data=[];for(var t=0;t<20;t++)this.data.push(t);this.list.numItems=this.data.length},onListRender:function(t,e){t.listItem.title.string=this.data[e]},onListPageNumChange:function(t){cc.log("\u5f53\u524d\u662f\u7b2c"+t+"\u9875")},btnEvent:function(t){var e=this;switch(t.target.name){case"btn1":e.list.prePage(.5);break;case"btn2":e.list.nextPage(.5);break;case"btn3":e.list.skipPage(parseInt(e.input.string),.5)}}}),cc._RF.pop()},{List:"List"}]},{},["List","ListItem","Main","TestBag","TestCustomSize","TestLack","TestPage"]);