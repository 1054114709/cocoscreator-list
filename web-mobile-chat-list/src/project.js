window.__require=function t(e,i,s){function c(n,a){if(!i[n]){if(!e[n]){var l=n.split("/");if(l=l[l.length-1],!e[l]){var r="function"==typeof __require&&__require;if(!a&&r)return r(l,!0);if(o)return o(l,!0);throw new Error("Cannot find module '"+n+"'")}n=l}var h=i[n]={exports:{}};e[n][0].call(h.exports,function(t){return c(e[n][1][t]||t)},h,h.exports,t,e,i,s)}return i[n].exports}for(var o="function"==typeof __require&&__require,n=0;n<s.length;n++)c(s[n]);return c}({ListItem:[function(t,e,i){"use strict";cc._RF.push(e,"5a969vN49tNAbdnwfe6dffE","ListItem");var s=cc.Enum({NONE:0,TOGGLE:1,SWITCH:2});cc.Class({editor:{disallowMultiple:!1,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List Item",executionOrder:-5001},extends:cc.Component,properties:{icon:{default:null,type:cc.Sprite},title:cc.Node,selectedMode:{default:s.NONE,type:s,tooltip:!1},selectedFlag:{default:null,type:cc.Node,visible:function(){var t=this.selectedMode>0;return t||(this.selectedFlag=null),t}},selectedSpriteFrame:{default:null,type:cc.SpriteFrame,visible:function(){var t=this.selectedMode==s.SWITCH;return t||(this.selectedSpriteFrame=null),t}},adaptiveSize:{default:!1,tooltip:!1},_selected:!1,selected:{visible:!1,get:function(){return this._selected},set:function(t){if(this._selected=t,this.selectedFlag)switch(this.selectedMode){case s.TOGGLE:this.selectedFlag.active=t;break;case s.SWITCH:this.selectedFlag.spriteFrame=t?this.selectedSpriteFrame:this._unselectedSpriteFrame}}},_btnCom:null,btnCom:{visible:!1,get:function(){return this._btnCom||(this._btnCom=this.node.getComponent(cc.Button)),this._btnCom}}},onLoad:function(){if(this.title){var t=this.title.getComponent(cc.Label);t||(t=this.title.getComponent(cc.RichText)),this.title=t}if(this.selectedMode==s.SWITCH){var e=this.selectedFlag.getComponent(cc.Sprite);this.selectedFlag=e,this._unselectedSpriteFrame=e.spriteFrame}},onDestroy:function(){this.node.off(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this)},_registerEvent:function(){this.eventReg||(this.btnCom&&this._list.selectedMode>0&&this.btnCom.clickEvents.unshift(this.createEvt(this,"onClickThis")),this.adaptiveSize&&this.node.on(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this),this.eventReg=!0)},_onSizeChange:function(){this._list._onItemAdaptive(this.node)},createEvt:function(t,e,i){if(t.isValid){t.comName=t.comName||t.name.match(/\<(.*?)\>/g).pop().replace(/\<|>/g,"");var s=new cc.Component.EventHandler;return s.target=i||t.node,s.component=t.comName,s.handler=e,s}},showAni:function(t,e,i){var s,c=this;switch(t){case 0:s=[new cc.scaleTo(.2,.7),new cc.moveBy(.3,0,2*this.node.height)];break;case 1:s=[new cc.scaleTo(.2,.7),new cc.moveBy(.3,2*this.node.width,0)];break;case 2:s=[new cc.scaleTo(.2,.7),new cc.moveBy(.3,0,-2*this.node.height)];break;case 3:s=[new cc.scaleTo(.2,.7),new cc.moveBy(.3,-2*this.node.width,0)];break;default:s=[new cc.scaleTo(.3,.1)]}(e||i)&&s.push(new cc.CallFunc(function(){if(i){c._list._delSingleItem(c.node);for(var t=c._list.displayData.length-1;t>=0;t--)if(c._list.displayData[t].listId==c.node._listId){c._list.displayData.splice(t,1);break}}e()})),this.node.runAction(new cc.Sequence(s))},onClickThis:function(){this._list.selectedId=this.node._listId}}),cc._RF.pop()},{}],List:[function(t,e,i){"use strict";cc._RF.push(e,"5132c1xKI5En6Qjk/W16Qt+","List");var s=cc.Enum({NODE:1,PREFAB:2}),c=cc.Enum({NORMAL:1,ADHERING:2,PAGE:3}),o=cc.Enum({NONE:0,SINGLE:1,MULT:2}),n=t("ListItem");cc.Class({extends:cc.Component,editor:{disallowMultiple:!1,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List",requireComponent:cc.ScrollView,executionOrder:-5e3},properties:{templateType:{default:s.NODE,type:s},tmpNode:{default:null,type:cc.Node,tooltip:!1,visible:function(){var t=this.templateType==s.NODE;return t||(this.tmpNode=null),t}},tmpPrefab:{default:null,type:cc.Prefab,tooltip:!1,visible:function(){var t=this.templateType==s.PREFAB;return t||(this.tmpPrefab=null),t}},_slideMode:1,slideMode:{type:c,tooltip:!1,get:function(){return this._slideMode},set:function(t){null!=t&&(this._slideMode=t)}},pageDistance:{default:.3,type:cc.Float,range:[0,1,.1],tooltip:!1,slide:!0,visible:function(){return this._slideMode==c.PAGE}},pageChangeEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1,visible:function(){var t=this._slideMode==c.PAGE;return t||(this.pageChangeEvent=null),t}},_virtual:!0,virtual:{tooltip:!1,get:function(){return this._virtual},set:function(t){null!=t&&(this._virtual=t),0!=this._numItems&&this._onScrolling()}},cyclic:{default:!1,tooltip:!1,visible:function(){var t=this.virtual&&this.slideMode==c.NORMAL;return t||(this.cyclic=!1),t}},lackCenter:{default:!1,tooltip:!1,visible:function(){return this.virtual}},lackSlide:{default:!1,tooltip:!1,visible:function(){var t=this.virtual&&!this.lackCenter;return t||(this.lackSlide=!1),t}},_updateRate:0,updateRate:{type:cc.Integer,range:[0,6,1],tooltip:!1,slide:!0,get:function(){return this._updateRate},set:function(t){t>=0&&t<=6&&(this._updateRate=t)}},frameByFrameRenderNum:{default:0,type:cc.Integer,range:[0,12,1],tooltip:!1,slide:!0},renderEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1},selectedMode:{default:o.NONE,type:o,tooltip:!1},repeatEventSingle:{default:!1,tooltip:!1,visible:function(){return this.selectedMode==o.SINGLE}},selectedEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1,visible:function(){var t=this.selectedMode>0;return t||(this.selectedEvent=null),t}},_selectedId:-1,selectedId:{visible:!1,get:function(){return this._selectedId},set:function(t){var e,i=this;switch(i.selectedMode){case o.SINGLE:if(!i.repeatEventSingle&&t==i._selectedId)return;if(e=i.getItemByListId(t),i._selectedId>=0?i._lastSelectedId=i._selectedId:i._lastSelectedId=null,i._selectedId=t,e&&(e.listItem.selected=!0),i._lastSelectedId>=0&&i._lastSelectedId!=i._selectedId){var s=i.getItemByListId(i._lastSelectedId);s&&(s.listItem.selected=!1)}i.selectedEvent&&cc.Component.EventHandler.emitEvents([i.selectedEvent],e,t%this._actualNumItems,null==i._lastSelectedId?null:i._lastSelectedId%this._actualNumItems);break;case o.MULT:if(!(e=i.getItemByListId(t)))return;i._selectedId>=0&&(i._lastSelectedId=i._selectedId),i._selectedId=t;var c=!e.listItem.selected;e.listItem.selected=c;var n=i.multSelected.indexOf(t);c&&n<0?i.multSelected.push(t):!c&&n>=0&&i.multSelected.splice(n,1),i.selectedEvent&&cc.Component.EventHandler.emitEvents([i.selectedEvent],e,t%this._actualNumItems,null==i._lastSelectedId?null:i._lastSelectedId%this._actualNumItems,c)}}},_numItems:{default:0,serializable:!1},numItems:{visible:!1,get:function(){return this._actualNumItems},set:function(t){var e=this;if(e.checkInited())if(null==t||t<0)cc.error("numItems set the wrong::",t);else if(e._actualNumItems=e._numItems=t,e._forceUpdate=!0,e._virtual)e._resizeContent(),e.cyclic&&(e._numItems=e._cyclicNum*e._numItems),e._onScrolling(),e.frameByFrameRenderNum||e.slideMode!=c.PAGE||(e.curPageNum=e.nearestListId);else{var i=e.content.getComponent(cc.Layout);if(i&&(i.enabled=!0),e._delRedundantItem(),e.firstListId=0,e.frameByFrameRenderNum>0){for(var s=e.frameByFrameRenderNum>e._numItems?e._numItems:e.frameByFrameRenderNum,o=0;o<s;o++)e._createOrUpdateItem2(o);e.frameByFrameRenderNum<e._numItems&&(e._updateCounter=e.frameByFrameRenderNum,e._updateDone=!1)}else{for(var n=0;n<t;n++)e._createOrUpdateItem2(n);e.displayItemNum=t}}}}},onLoad:function(){this._init()},onDestroy:function(){var t=this;for(t._itemTmp&&t._itemTmp.isValid&&t._itemTmp.destroy(),t.tmpNode&&t.tmpNode.isValid&&t.tmpNode.destroy();t._pool.size();){t._pool.get().destroy()}},onEnable:function(){this._registerEvent(),this._init()},onDisable:function(){this._unregisterEvent()},_registerEvent:function(){var t=this;t.node.on(cc.Node.EventType.TOUCH_START,t._onTouchStart,t,!0),t.node.on("touch-up",t._onTouchUp,t,!0),t.node.on(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancelled,t,!0),t.node.on("scroll-began",t._onScrollBegan,t,!0),t.node.on("scroll-ended",t._onScrollEnded,t,!0),t.node.on("scrolling",t._onScrolling,t,!0),t.node.on(cc.Node.EventType.SIZE_CHANGED,t._onSizeChanged,t)},_unregisterEvent:function(){var t=this;t.node.off(cc.Node.EventType.TOUCH_START,t._onTouchStart,t,!0),t.node.off("touch-up",t._onTouchUp,t,!0),t.node.off(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancelled,t,!0),t.node.off("scroll-began",t._onScrollBegan,t,!0),t.node.off("scroll-ended",t._onScrollEnded,t,!0),t.node.off("scrolling",t._onScrolling,t,!0),t.node.off(cc.Node.EventType.SIZE_CHANGED,t._onSizeChanged,t)},_init:function(){var t=this;if(!t._inited)if(t._scrollView=t.node.getComponent(cc.ScrollView),t.content=t._scrollView.content,t.content){switch(t._layout=t.content.getComponent(cc.Layout),t._align=t._layout.type,t._resizeMode=t._layout.resizeMode,t._startAxis=t._layout.startAxis,t._topGap=t._layout.paddingTop,t._rightGap=t._layout.paddingRight,t._bottomGap=t._layout.paddingBottom,t._leftGap=t._layout.paddingLeft,t._columnGap=t._layout.spacingX,t._lineGap=t._layout.spacingY,t._colLineNum,t._verticalDir=t._layout.verticalDirection,t._horizontalDir=t._layout.horizontalDirection,t.setTemplateItem(cc.instantiate(t.templateType==s.PREFAB?t.tmpPrefab:t.tmpNode)),t._slideMode!=c.ADHERING&&t._slideMode!=c.PAGE||(t._scrollView.inertia=!1,t._scrollView._onMouseWheel=function(){}),t.virtual||(t.lackCenter=!1),t._lastDisplayData=[],t.displayData=[],t._pool=new cc.NodePool,t._forceUpdate=!1,t._updateCounter=0,t._updateDone=!0,t.curPageNum=0,t.cyclic&&(t._scrollView._processAutoScrolling=this._processAutoScrolling.bind(t),t._scrollView._startBounceBackIfNeeded=function(){return!1}),t._align){case cc.Layout.Type.HORIZONTAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}break;case cc.Layout.Type.VERTICAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.Type.GRID:switch(t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.AxisDirection.VERTICAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}}}t.content.removeAllChildren(),t._inited=!0}else cc.error(t.node.name+"'s cc.ScrollView unset content!")},_processAutoScrolling:function(t){this._scrollView._autoScrollAccumulatedTime+=1*t;var e=Math.min(1,this._scrollView._autoScrollAccumulatedTime/this._scrollView._autoScrollTotalTime);if(this._scrollView._autoScrollAttenuate){var i=e-1;e=i*i*i*i*i+1}var s=this._scrollView._autoScrollStartPosition.add(this._scrollView._autoScrollTargetDelta.mul(e)),c=this._scrollView.getScrollEndedEventTiming(),o=Math.abs(e-1)<=c;Math.abs(e-1)<=this._scrollView.getScrollEndedEventTiming()&&!this._scrollView._isScrollEndedWithThresholdEventFired&&(this._scrollView._dispatchEvent("scroll-ended-with-threshold"),this._scrollView._isScrollEndedWithThresholdEventFired=!0),o&&(this._scrollView._autoScrolling=!1);var n=s.sub(this._scrollView.getContentPosition());this._scrollView._moveContent(this._scrollView._clampDelta(n),o),this._scrollView._dispatchEvent("scrolling"),this._scrollView._autoScrolling||(this._scrollView._isBouncing=!1,this._scrollView._scrolling=!1,this._scrollView._dispatchEvent("scroll-ended"))},setTemplateItem:function(t){if(t){var e=this;e._itemTmp=t,e._resizeMode==cc.Layout.ResizeMode.CHILDREN?e._itemSize=e._layout.cellSize:e._itemSize=new cc.size(t.width,t.height);var i=t.getComponent(n),s=!1;switch(i||(s=!0),s&&(e.selectedMode=o.NONE),(i=t.getComponent(cc.Widget))&&i.enabled&&(e._needUpdateWidget=!0),e.selectedMode==o.MULT&&(e.multSelected=[]),e._align){case cc.Layout.Type.HORIZONTAL:e._colLineNum=1,e._sizeType=!1;break;case cc.Layout.Type.VERTICAL:e._colLineNum=1,e._sizeType=!0;break;case cc.Layout.Type.GRID:switch(e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var c=e.content.width-e._leftGap-e._rightGap;e._colLineNum=Math.floor((c+e._columnGap)/(e._itemSize.width+e._columnGap)),e._sizeType=!0;break;case cc.Layout.AxisDirection.VERTICAL:var a=e.content.height-e._topGap-e._bottomGap;e._colLineNum=Math.floor((a+e._lineGap)/(e._itemSize.height+e._lineGap)),e._sizeType=!1}}}},checkInited:function(t){return t=null==t||t,!!this._inited||(t&&cc.error("List initialization not completed!"),!1)},_resizeContent:function(){var t,e=this;switch(e._align){case cc.Layout.Type.HORIZONTAL:if(e._customSize){var i=e._getFixedSize();t=e._leftGap+i.val+e._itemSize.width*(e._numItems-i.count)+e._columnGap*(e._numItems-1)+e._rightGap}else t=e._leftGap+e._itemSize.width*e._numItems+e._columnGap*(e._numItems-1)+e._rightGap;break;case cc.Layout.Type.VERTICAL:if(e._customSize){var s=e._getFixedSize();t=e._topGap+s.val+e._itemSize.height*(e._numItems-s.count)+e._lineGap*(e._numItems-1)+e._bottomGap}else t=e._topGap+e._itemSize.height*e._numItems+e._lineGap*(e._numItems-1)+e._bottomGap;break;case cc.Layout.Type.GRID:switch(e.lackCenter&&(e.lackCenter=!1),e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var c=Math.ceil(e._numItems/e._colLineNum);t=e._topGap+e._itemSize.height*c+e._lineGap*(c-1)+e._bottomGap;break;case cc.Layout.AxisDirection.VERTICAL:var o=Math.ceil(e._numItems/e._colLineNum);t=e._leftGap+e._itemSize.width*o+e._columnGap*(o-1)+e._rightGap}}var n=e.content.getComponent(cc.Layout);if(n&&(n.enabled=!1),e._allItemSize=t,e._allItemSizeNoEdge=e._allItemSize-(e._sizeType?e._topGap+e._bottomGap:e._leftGap+e._rightGap),e.cyclic){var a=e._sizeType?e.node.height:e.node.width;e._cyclicPos1=0,a-=e._cyclicPos1,e._cyclicNum=Math.ceil(a/e._allItemSizeNoEdge)+1;var l=e._sizeType?e._lineGap:e._columnGap;e._cyclicPos2=e._cyclicPos1+e._allItemSizeNoEdge+l,e._cyclicAllItemSize=e._allItemSize+e._allItemSizeNoEdge*(e._cyclicNum-1)+l*(e._cyclicNum-1),e._cycilcAllItemSizeNoEdge=e._allItemSizeNoEdge*e._cyclicNum,e._cycilcAllItemSizeNoEdge+=l*(e._cyclicNum-1)}e._lack=!e.cyclic&&e._allItemSize<(e._sizeType?e.node.height:e.node.width);var r=e._lack&&e.lackCenter||!e.lackSlide?.1:0,h=e._lack?(e._sizeType?e.node.height:e.node.width)-r:e.cyclic?e._cyclicAllItemSize:e._allItemSize;h<0&&(h=0),e._sizeType?e.content.height=h:e.content.width=h},_onScrolling:function(t){if(null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&t&&"scroll-ended"!=t.type&&this.frameCount>0)this.frameCount--;else if(this.frameCount=this._updateRate,!this._aniDelRuning){if(this.cyclic){var e=this.content.getPosition();e=this._sizeType?e.y:e.x;var i=this._allItemSizeNoEdge+(this._sizeType?this._lineGap:this._columnGap),s=this._sizeType?cc.v2(0,i):cc.v2(i,0);switch(this._alignCalcType){case 1:e>-this._cyclicPos1?(this.content.x=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(s))):e<-this._cyclicPos2&&(this.content.x=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(s)));break;case 2:e<this._cyclicPos1?(this.content.x=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(s))):e>this._cyclicPos2&&(this.content.x=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(s)));break;case 3:e<this._cyclicPos1?(this.content.y=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(s))):e>this._cyclicPos2&&(this.content.y=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(s)));break;case 4:e>-this._cyclicPos1?(this.content.y=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(s))):e<-this._cyclicPos2&&(this.content.y=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(s)))}}var c,o,n,a;if(this._calcViewPos(),this._sizeType?(c=this.viewTop,n=this.viewBottom):(o=this.viewRight,a=this.viewLeft),this._virtual){var l;this.displayData=[];var r=0,h=this._numItems-1;if(this._customSize)for(var d=!1;r<=h&&!d;r++)switch(l=this._calcItemPos(r),this._align){case cc.Layout.Type.HORIZONTAL:l.right>=a&&l.left<=o?this.displayData.push(l):0!=r&&this.displayData.length>0&&(d=!0);break;case cc.Layout.Type.VERTICAL:l.bottom<=c&&l.top>=n?this.displayData.push(l):0!=r&&this.displayData.length>0&&(d=!0);break;case cc.Layout.Type.GRID:switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:l.bottom<=c&&l.top>=n?this.displayData.push(l):0!=r&&this.displayData.length>0&&(d=!0);break;case cc.Layout.AxisDirection.VERTICAL:l.right>=a&&l.left<=o?this.displayData.push(l):0!=r&&this.displayData.length>0&&(d=!0)}}else{var _=this._itemSize.width+this._columnGap,u=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:r=(a+this._leftGap)/_,h=(o+this._rightGap)/_;break;case 2:r=(-o-this._rightGap)/_,h=(-a-this._leftGap)/_;break;case 3:r=(-c-this._topGap)/u,h=(-n-this._bottomGap)/u;break;case 4:r=(n+this._bottomGap)/u,h=(c+this._topGap)/u}for(r=Math.floor(r)*this._colLineNum,h=Math.ceil(h)*this._colLineNum,h--,r<0&&(r=0),h>=this._numItems&&(h=this._numItems-1);r<=h;r++)this.displayData.push(this._calcItemPos(r))}if(this._delRedundantItem(),this.displayData.length<=0||!this._numItems)return void(this._lastDisplayData=[]);this.firstListId=this.displayData[0].id,this.displayItemNum=this.displayData.length;var m=this._lastDisplayData.length,p=this.displayItemNum!=m;if(p&&(this.frameByFrameRenderNum>0&&this._lastDisplayData.sort(function(t,e){return t-e}),p=this.firstListId!=this._lastDisplayData[0]||this.displayData[this.displayItemNum-1].id!=this._lastDisplayData[m-1]),this._forceUpdate||p)if(this.frameByFrameRenderNum>0)this._numItems>0?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._updateCounter=0,this._updateDone=!0);else{this._lastDisplayData=[];for(var g=0;g<this.displayItemNum;g++)this._createOrUpdateItem(this.displayData[g]);this._forceUpdate=!1}this._calcNearestItem()}}},_calcViewPos:function(){var t=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=t.x>0?t.x:0,this.viewLeft=(t.x<0?-t.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this.node.width,this.elasticRight=this.viewRight>this.content.width?Math.abs(this.viewRight-this.content.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=t.x<0?-t.x:0,this.viewRight=(t.x>0?-t.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this.node.width,this.elasticLeft=this.viewLeft<-this.content.width?Math.abs(this.viewLeft+this.content.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=t.y<0?Math.abs(t.y):0,this.viewTop=(t.y>0?-t.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this.node.height,this.elasticBottom=this.viewBottom<-this.content.height?Math.abs(this.viewBottom+this.content.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=t.y>0?Math.abs(t.y):0,this.viewBottom=(t.y<0?-t.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this.node.height,this.elasticTop=this.viewTop>this.content.height?Math.abs(this.viewTop-this.content.height):0,this.viewTop-=this.elasticTop}},_calcItemPos:function(t){var e,i,s,c,o,n,a,l;switch(this._align){case cc.Layout.Type.HORIZONTAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:if(this._customSize){var r=this._getFixedSize(t);o=this._leftGap+(this._itemSize.width+this._columnGap)*(t-r.count)+(r.val+this._columnGap*r.count);var h=this._customSize[t];e=h>0?h:this._itemSize.width}else o=this._leftGap+(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;if(n=o+e,this.lackCenter){var d=this.content.width/2-this._allItemSizeNoEdge/2;o+=d,n+=d}return{id:t,left:o,right:n,x:o+this._itemTmp.anchorX*e,y:this._itemTmp.y};case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:if(this._customSize){var _=this._getFixedSize(t);n=-this._rightGap-(this._itemSize.width+this._columnGap)*(t-_.count)-(_.val+this._columnGap*_.count);var u=this._customSize[t];e=u>0?u:this._itemSize.width}else n=-this._rightGap-(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;if(o=n-e,this.lackCenter){var m=this.content.width/2-this._allItemSizeNoEdge/2;o-=m,n-=m}return{id:t,right:n,left:o,x:o+this._itemTmp.anchorX*e,y:this._itemTmp.y}}break;case cc.Layout.Type.VERTICAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:if(this._customSize){var p=this._getFixedSize(t);s=-this._topGap-(this._itemSize.height+this._lineGap)*(t-p.count)-(p.val+this._lineGap*p.count);var g=this._customSize[t];c=s-(i=g>0?g:this._itemSize.height)}else s=-this._topGap-(this._itemSize.height+this._lineGap)*t,i=this._itemSize.height;if(c=s-i,this.lackCenter){var f=this.content.height/2-this._allItemSizeNoEdge/2;s-=f,c-=f}return{id:t,top:s,bottom:c,x:this._itemTmp.x,y:c+this._itemTmp.anchorY*i};case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:if(this._customSize){var y=this._getFixedSize(t);c=this._bottomGap+(this._itemSize.height+this._lineGap)*(t-y.count)+(y.val+this._lineGap*y.count);var I=this._customSize[t];i=I>0?I:this._itemSize.height}else c=this._bottomGap+(this._itemSize.height+this._lineGap)*t,i=this._itemSize.height;if(s=c+i,this.lackCenter){var v=this.content.height/2-this._allItemSizeNoEdge/2;s+=v,c+=v}return{id:t,top:s,bottom:c,x:this._itemTmp.x,y:c+this._itemTmp.anchorY*i}}case cc.Layout.Type.GRID:var T=Math.floor(t/this._colLineNum);switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:l=(c=(s=-this._topGap-(this._itemSize.height+this._lineGap)*T)-this._itemSize.height)+this._itemTmp.anchorY*this._itemSize.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:s=(c=this._bottomGap+(this._itemSize.height+this._lineGap)*T)+this._itemSize.height,l=c+this._itemTmp.anchorY*this._itemSize.height}switch(a=this._leftGap+t%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:a+=this._itemTmp.anchorX*this._itemSize.width,a-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:a+=(1-this._itemTmp.anchorX)*this._itemSize.width,a-=(1-this.content.anchorX)*this.content.width,a*=-1}return{id:t,top:s,bottom:c,x:a,y:l};case cc.Layout.AxisDirection.VERTICAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:n=(o=this._leftGap+(this._itemSize.width+this._columnGap)*T)+this._itemSize.width,a=o+this._itemTmp.anchorX*this._itemSize.width,a-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:a=(o=(n=-this._rightGap-(this._itemSize.width+this._columnGap)*T)-this._itemSize.width)+this._itemTmp.anchorX*this._itemSize.width,a+=(1-this.content.anchorX)*this.content.width}switch(l=-this._topGap-t%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:l-=(1-this._itemTmp.anchorY)*this._itemSize.height,l+=(1-this.content.anchorY)*this.content.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:l-=this._itemTmp.anchorY*this._itemSize.height,l+=this.content.anchorY*this.content.height,l*=-1}return{id:t,left:o,right:n,x:a,y:l}}}},_calcExistItemPos:function(t){var e=this.getItemByListId(t);if(!e)return null;var i={id:t,x:e.x,y:e.y};return this._sizeType?(i.top=e.y+e.height*(1-e.anchorY),i.bottom=e.y-e.height*e.anchorY):(i.left=e.x-e.width*e.anchorX,i.right=e.x+e.width*(1-e.anchorX)),i},getItemPos:function(t){return this._virtual?this._calcItemPos(t):this.frameByFrameRenderNum?this._calcItemPos(t):this._calcExistItemPos(t)},_getFixedSize:function(t){if(!this._customSize)return null;null==t&&(t=this._numItems);var e=0,i=0;for(var s in this._customSize)parseInt(s)<t&&(e+=this._customSize[s],i++);return{val:e,count:i}},_onScrollBegan:function(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft},_onScrollEnded:function(){var t=this;if(null!=t.scrollToListId){var e=t.getItemByListId(t.scrollToListId);t.scrollToListId=null,e&&e.runAction(new cc.sequence(new cc.scaleTo(.1,1.06),new cc.scaleTo(.1,1)))}t._onScrolling(),t._slideMode!=c.ADHERING||t.adhering?t._slideMode==c.PAGE&&(null!=t._beganPos?this._pageAdhere():t.adhere()):t.adhere()},_onTouchStart:function(t,e){if(!this._scrollView._hasNestedViewGroup(t,e)&&!(t.eventPhase===cc.Event.AT_TARGET&&t.target===this.node)){for(var i=t.target;null==i._listId&&i.parent;)i=i.parent;this._scrollItem=null!=i._listId?i:t.target}},_onTouchUp:function(){var t=this;t._scrollPos=null,t._slideMode==c.ADHERING?(t.adhering&&(t._adheringBarrier=!0),t.adhere()):t._slideMode==c.PAGE&&(null!=t._beganPos?t._pageAdhere():t.adhere()),this._scrollItem=null},_onTouchCancelled:function(t,e){var i=this;i._scrollView._hasNestedViewGroup(t,e)||t.simulate||(i._scrollPos=null,i._slideMode==c.ADHERING?(i.adhering&&(i._adheringBarrier=!0),i.adhere()):i._slideMode==c.PAGE&&(null!=i._beganPos?i._pageAdhere():i.adhere()),this._scrollItem=null)},_onSizeChanged:function(){this.checkInited(!1)&&this._onScrolling()},_onItemAdaptive:function(t){if(!this._sizeType&&t.width!=this._itemSize.width||this._sizeType&&t.height!=this._itemSize.height){this._customSize||(this._customSize={});var e=this._sizeType?t.height:t.width;this._customSize[t._listId]!=e&&(this._customSize[t._listId]=e,this._resizeContent(),this.updateAll(),null!=this._scrollToListId&&(this._scrollPos=null,this.unschedule(this._scrollToSo),this.scrollTo(this._scrollToListId,Math.max(0,this._scrollToEndTime-(new Date).getTime()/1e3))))}},_pageAdhere:function(){var t=this;if(t.cyclic||!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){var e=t._sizeType?t.viewTop:t.viewLeft,i=(t._sizeType?t.node.height:t.node.width)*t.pageDistance;if(Math.abs(t._beganPos-e)>i){switch(t._alignCalcType){case 1:case 4:t._beganPos>e?t.prePage(.5):t.nextPage(.5);break;case 2:case 3:t._beganPos<e?t.prePage(.5):t.nextPage(.5)}}else t.elasticTop<=0&&t.elasticRight<=0&&t.elasticBottom<=0&&t.elasticLeft<=0&&t.adhere();t._beganPos=null}},adhere:function(){var t=this;if(t.checkInited()&&!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){t.adhering=!0,t._calcNearestItem();var e=(t._sizeType?t._topGap:t._leftGap)/(t._sizeType?t.node.height:t.node.width);t.scrollTo(t.nearestListId,.7,e)}},update:function(){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){for(var t=this._updateCounter+this.frameByFrameRenderNum>this.displayItemNum?this.displayItemNum:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++){var i=this.displayData[e];i&&this._createOrUpdateItem(i)}this._updateCounter>=this.displayItemNum-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._doneAfterUpdate=!1):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem(),this.slideMode==c.PAGE&&(this.curPageNum=this.nearestListId)):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){for(var s=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,o=this._updateCounter;o<s;o++)this._createOrUpdateItem2(o);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem(),this.slideMode==c.PAGE&&(this.curPageNum=this.nearestListId)},_createOrUpdateItem:function(t){var e=this.getItemByListId(t.id);if(e)this._forceUpdate&&this.renderEvent&&(e.setPosition(new cc.v2(t.x,t.y)),this._resetItemSize(e),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t.id%this._actualNumItems));else{var i=this._pool.size()>0;if((e=i?this._pool.get():cc.instantiate(this._itemTmp))._listId!=t.id&&(e._listId=t.id,e.setContentSize(this._itemSize)),e.setPosition(new cc.v2(t.x,t.y)),this._resetItemSize(e),this.content.addChild(e),i&&this._needUpdateWidget){var s=e.getComponent(cc.Widget);s&&s.updateAlignment()}e.setSiblingIndex(this.content.childrenCount-1);var c=e.getComponent(n);e.listItem=c,c&&(c._list=this,c._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t.id%this._actualNumItems)}this._resetItemSize(e),this._updateListItem(e.listItem),this._lastDisplayData.indexOf(t.id)<0&&this._lastDisplayData.push(t.id)},_createOrUpdateItem2:function(t){var e=this.content.children[t];if(e)this._forceUpdate&&this.renderEvent&&(e._listId=t,this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t));else{(e=cc.instantiate(this._itemTmp))._listId=t,this.content.addChild(e);var i=e.getComponent(n);e.listItem=i,i&&(i._list=this,i._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t)}this._updateListItem(e.listItem),this._lastDisplayData.indexOf(t)<0&&this._lastDisplayData.push(t)},_updateListItem:function(t){if(t&&this.selectedMode>o.NONE)switch(this.selectedMode){case o.SINGLE:t.selected=this.selectedId==t.node._listId;break;case o.MULT:t.selected=this.multSelected.indexOf(t.node._listId)>=0}},_resetItemSize:function(t){},_updateItemPos:function(t){var e=isNaN(t)?t:this.getItemByListId(t),i=this.getItemPos(e._listId);e.setPosition(i.x,i.y)},setMultSelected:function(t,e){var i=this;if(i.checkInited()){var s,c;if(Array.isArray(t)||(t=[t]),null==e)i.multSelected=t;else if(e)for(var o=t.length-1;o>=0;o--)s=t[o],(c=i.multSelected.indexOf(s))<0&&i.multSelected.push(s);else for(var n=t.length-1;n>=0;n--)s=t[n],(c=i.multSelected.indexOf(s))>=0&&i.multSelected.splice(c,1);i._forceUpdate=!0,i._onScrolling()}},updateItem:function(t){if(this.checkInited()){Array.isArray(t)||(t=[t]);for(var e=0,i=t.length;e<i;e++){var s=t[e],c=this.getItemByListId(s);c&&cc.Component.EventHandler.emitEvents([this.renderEvent],c,s%this._actualNumItems)}}},updateAll:function(){this.checkInited()&&(this.numItems=this.numItems)},getItemByListId:function(t){for(var e=this.content.childrenCount-1;e>=0;e--)if(this.content.children[e]._listId==t)return this.content.children[e]},_getOutsideItem:function(){for(var t,e=[],i=this.content.childrenCount-1;i>=0;i--)t=this.content.children[i],this.displayData.find(function(e){return e.id==t._listId})||e.push(t);return e},_delRedundantItem:function(){if(this._virtual)for(var t=this._getOutsideItem(),e=t.length-1;e>=0;e--){var i=t[e];if(!this._scrollItem||i._listId!=this._scrollItem._listId){this._pool.put(i);for(var s=this._lastDisplayData.length-1;s>=0;s--)if(this._lastDisplayData[s]==i._listId){this._lastDisplayData.splice(s,1);break}}}else for(;this.content.childrenCount>this._numItems;)this._delSingleItem(this.content.children[this.content.childrenCount-1])},_delSingleItem:function(t){t.removeFromParent(),t.destroy&&t.destroy(),t=null},aniDelItem:function(t,e,i){var s=this;if(!s.checkInited()||s.cyclic||!s._virtual)return cc.error("This function is not allowed to be called!");if(s._aniDelRuning)return cc.warn("Please wait for the current deletion to finish!");var c=s.getItemByListId(t);if(c){s._aniDelRuning=!0;var n=s.displayData[s.displayData.length-1].id,a=c.listItem.selected;c.listItem.showAni(i,function(){var i;if(n<s._numItems-2&&(i=n+1),null!=i){var l=s._calcItemPos(i);s.displayData.push(l),s._virtual?s._createOrUpdateItem(l):s._createOrUpdateItem2(i)}else s._numItems--;if(s.selectedMode==o.SINGLE)a?s._selectedId=-1:s._selectedId-1>=0&&s._selectedId--;else if(s.selectedMode==o.MULT&&s.multSelected.length){var r=s.multSelected.indexOf(t);r>=0&&s.multSelected.splice(r,1);for(var h=s.multSelected.length-1;h>=0;h--){s.multSelected[h]>=t&&s.multSelected[h]--}}if(s._customSize){s._customSize[t]&&delete s._customSize[t];var d,_={};for(var u in s._customSize)d=s._customSize[u],_[(u=parseInt(u))-(u>=t?1:0)]=d;s._customSize=_}for(var m,p,g=null!=i?i:n;g>=t+1;g--)if(c=s.getItemByListId(g)){var f=s._calcItemPos(g-1);m=[new cc.moveTo(.2333,new cc.v2(f.x,f.y))],g<=t+1&&(p=!0,m.push(new cc.CallFunc(function(){s._aniDelRuning=!1,e(t)}))),m.length>1?c.runAction(new cc.Sequence(m)):c.runAction(m[0])}p||(s._aniDelRuning=!1,e(t))},!0)}else e(t)},scrollTo:function(t,e,i,s){var c=this;if(c.checkInited()){null==e?e=.5:e<0&&(e=0),t<0?t=0:t>=c._numItems&&(t=c._numItems-1),!c._virtual&&c._layout&&c._layout.enabled&&c._layout.updateLayout();var o,n,a=c.getItemPos(t);switch(c._alignCalcType){case 1:o=a.left,o-=null!=i?c.node.width*i:c._leftGap,a=new cc.v2(o,0);break;case 2:o=a.right-c.node.width,o+=null!=i?c.node.width*i:c._rightGap,a=new cc.v2(o+c.content.width,0);break;case 3:n=a.top,n+=null!=i?c.node.height*i:c._topGap,a=new cc.v2(0,-n);break;case 4:n=a.bottom+c.node.height,n-=null!=i?c.node.height*i:c._bottomGap,a=new cc.v2(0,-n+c.content.height)}var l=c.content.getPosition();l=Math.abs(c._sizeType?l.y:l.x);var r=c._sizeType?a.y:a.x;Math.abs((null!=c._scrollPos?c._scrollPos:l)-r)>.5&&(c._scrollPos=r,c._scrollToListId=t,c._scrollToEndTime=(new Date).getTime()/1e3+e,c._scrollView.scrollToOffset(a,e),c._scrollToSo=c.scheduleOnce(function(){if(c._adheringBarrier||(c.adhering=c._adheringBarrier=!1),c._scrollPos=c._scrollToListId=c._scrollToEndTime=c._scrollToSo=null,s){var e=c.getItemByListId(t);e&&e.runAction(new cc.sequence(new cc.scaleTo(.1,1.05),new cc.scaleTo(.1,1)))}},e+.1),e<=0&&c._onScrolling())}},_calcNearestItem:function(){var t,e,i,s,c,o,n=this;n.nearestListId=null,n._virtual&&n._calcViewPos(),i=n.viewTop,s=n.viewRight,c=n.viewBottom,o=n.viewLeft;for(var a=!1,l=0;l<n.content.childrenCount&&!a;l+=n._colLineNum)if(t=this._virtual?this.displayData[l]:this._calcExistItemPos(l))switch(e=this._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,this._alignCalcType){case 1:t.right>=o&&(this.nearestListId=t.id,o>e&&(this.nearestListId+=this._colLineNum),a=!0);break;case 2:t.left<=s&&(this.nearestListId=t.id,s<e&&(this.nearestListId+=this._colLineNum),a=!0);break;case 3:t.bottom<=i&&(this.nearestListId=t.id,i<e&&(this.nearestListId+=this._colLineNum),a=!0);break;case 4:t.top>=c&&(this.nearestListId=t.id,c>e&&(this.nearestListId+=this._colLineNum),a=!0)}if((t=this._virtual?this.displayData[this.displayItemNum-1]:this._calcExistItemPos(this._numItems-1))&&t.id==n._numItems-1)switch(e=n._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,n._alignCalcType){case 1:s>e&&(n.nearestListId=t.id);break;case 2:o<e&&(n.nearestListId=t.id);break;case 3:c<e&&(n.nearestListId=t.id);break;case 4:i>e&&(n.nearestListId=t.id)}},prePage:function(t){this.checkInited()&&(null==t&&(t=.5),this.skipPage(this.curPageNum-1,t))},nextPage:function(t){this.checkInited()&&(null==t&&(t=.5),this.skipPage(this.curPageNum+1,t))},skipPage:function(t,e){var i=this;if(i.checkInited())return i._slideMode!=c.PAGE?cc.error("This function is not allowed to be called, Must SlideMode = PAGE!"):void(t<0||t>=i._numItems||i.curPageNum!=t&&(i.curPageNum=t,i.pageChangeEvent&&cc.Component.EventHandler.emitEvents([i.pageChangeEvent],t),i.scrollTo(t,e)))},calcCustomSize:function(t){var e=this;if(e.checkInited()){if(!e._itemTmp)return cc.error("Unset template item!");if(!e.renderEvent)return cc.error("Unset Render-Event!");e._customSize={};var i=cc.instantiate(e._itemTmp);e.content.addChild(i);for(var s=0;s<t;s++)cc.Component.EventHandler.emitEvents([e.renderEvent],i,s),i.height==e._itemSize.height&&i.width==e._itemSize.width||(e._customSize[s]=e._sizeType?i.height:i.width);return Object.keys(e._customSize).length||(e._customSize=null),i.removeFromParent(),i.destroy&&i.destroy(),e._customSize}}}),cc._RF.pop()},{ListItem:"ListItem"}],Main:[function(t,e,i){"use strict";cc._RF.push(e,"909f1lfF59IwKwOGAXybpgj","Main");var s=t("List");cc.Class({extends:cc.Component,properties:{listV:s,listH:s,listG:s,listG2:s,input:cc.EditBox,info:cc.Label},onLoad:function(){this.data=[];for(var t=0;t<999;t++)this.data.push(t);this.listV.numItems=this.data.length,this.listH.numItems=this.data.length,this.listG.numItems=this.data.length,this.listG2.numItems=this.data.length},onListVRender:function(t,e){t.listItem.title.string=this.data[e],this.info.string="ListV\u5f53\u524d\u6e32\u67d3\u603b\u6570 = "+this.listV.displayItemNum},onListHRender:function(t,e){t.listItem.title.string=this.data[e],this.info.string="ListH\u5f53\u524d\u6e32\u67d3\u603b\u6570 = "+this.listH.displayItemNum},onListGridRender:function(t,e){t.listItem.title.string=this.data[e],this.info.string="ListG\u5f53\u524d\u6e32\u67d3\u603b\u6570 = "+this.listG.displayItemNum},onListGrid2Render:function(t,e){t.listItem.title.string=this.data[e],this.info.string="ListG2\u5f53\u524d\u6e32\u67d3\u603b\u6570 = "+this.listG2.displayItemNum},onListSelected:function(t,e,i,s){if(t){var c=t.listItem._list,o="\u5f53\u524d\u64cd\u4f5cList\u4e3a\uff1a"+c.node.name+"\uff0c\u5f53\u524d\u9009\u62e9\u7684\u662f\uff1a"+e+"\uff0c\u4e0a\u4e00\u6b21\u9009\u62e9\u7684\u662f\uff1a"+i;2==c.selectedMode&&(o+="\uff0c\u5f53\u524d\u503c\u4e3a\uff1a"+s),console.log(o)}},btnEvent:function(t){var e=this,i=function(t){null!=t&&(e.data.splice(t,1),console.log("------\u5220\u9664\u5b8c\u6bd5\uff01",t),e.listV.numItems=e.data.length,e.listH.numItems=e.data.length,e.listG.numItems=e.data.length,e.listG2.numItems=e.data.length)};switch(t.target.name){case"btn1":e.listV.aniDelItem(1,i,3);break;case"btn2":e.listH.aniDelItem(e.listH.selectedId,i,0);break;case"btn3":e.listG.aniDelItem(1,i);break;case"btn4":e.listV.scrollTo(parseInt(e.input.string),.5),e.listH.scrollTo(parseInt(e.input.string),.5),e.listG.scrollTo(parseInt(e.input.string),.5),e.listG2.scrollTo(parseInt(e.input.string),.5)}}}),cc._RF.pop()},{List:"List"}],TestAdaptive:[function(t,e,i){"use strict";cc._RF.push(e,"3991bTH395GAJ1iMr9cYFxx","TestAdaptive");var s=t("List");cc.Class({extends:cc.Component,properties:{list:s,avatar1SF:cc.SpriteFrame,avatar2SF:cc.SpriteFrame,bubble1SF:cc.SpriteFrame,bubble2SF:cc.SpriteFrame},onLoad:function(){this.data=[{type:3,text:"8\u670830\u65e5 1:37"},{type:1,text:"\u70e7\u5427\uff0c\u5347\u8d77<color=#cc6600>\u7cdc\u70c2</color>\u7684\u70df\u3002\n\u62bd\u5427\uff0c\u5410\u51fa\u5168\u8eab\u7684\u75b2\u60eb\u3002"},{type:2,text:"\u9057\u5fd8\uff0c\u90a3\u4e9b\u7410\u788e\u7684\u4e00\u5207\u3002\n\u8ff7\u60d8\uff0c\u5728\u81ea\u5df1<color=#cc6600>\u865a\u7a7a</color>\u7684\u4e16\u754c\u3002"},{type:3,text:"\u6628\u5929 3:17"},{type:1,text:"\u4e00\u8d77\u505a\u4e2a<color=#cc6600>\u62dc\u91d1\u4e3b\u4e49</color>\u7684\u6bd2\u866b\u3002"},{type:2,text:"\u7528<color=#cc6600>\u6d88\u8d39</color>\u9ebb\u9189\u81ea\u5df1\u3002"},{type:1,text:"\u7528\u79f0\u4f5c<color=#cc6600>\u7269\u8d28\u6b32\u671b</color>\u7684<color=#cc6600>\u9488\u5934</color>\u3002"},{type:2,text:"\u6ce8\u5c04<color=#cc6600>\u8d2a\u5a6a</color>\u548c<color=#cc6600>\u6743\u529b</color>\u3002"},{type:3,text:"14:55"},{type:1,text:"<color=#cc6600>\u78e8\u788e\u4e2d\u4e0b\u9636\u7ea7\u7684\u7c89\u672b\uff0c\n\u5316\u6210\u9ad8\u7eaf\u5ea6\u7684\u4e0a\u6d41\u3002</color>"},{type:1,text:"\u6e34\u671b\u91d1\u5b57\u5854\u9876\u7aef\u7684\u5815\u843d<color=#cc6600>\u5931\u5fc3\u75af</color>\uff0c\n\u7684\u4f60\u548c\u6211\u3002"},{type:2,text:"\u7684\u4f60\u548c\u6211\u3002"},{type:3,text:"23:56"},{type:2,text:"<color=#cc6600>\u62dc\u91d1\u4e3b\u4e49</color>\u2014\u2014\uff01"},{type:1,text:"<color=#cc6600>\u62dc\u91d1\u4e3b\u4e49</color>\u2014\u2014\uff01"},{type:2,text:"<color=#cc6600>\u62dc\u91d1\u4e3b\u4e49</color>\u2014\u2014\uff01"},{type:1,text:"<color=#cc6600>\u62dc\u91d1\u4e3b\u4e49</color>\u7684\u6bd2\u866b\u2014\u2014\uff01"},{type:1,text:"<color=#cc6600>\u62dc\u91d1\u4e3b\u4e49</color>\u2014\u2014\uff01"},{type:2,text:"<color=#cc6600>\u62dc\u91d1\u4e3b\u4e49</color>\u2014\u2014\uff01"},{type:1,text:"<color=#cc6600>\u62dc\u91d1\u4e3b\u4e49</color>\u2014\u2014\uff01"},{type:2,text:"<color=#cc6600>\u62dc\u91d1\u4e3b\u4e49</color>\u7684<color=#ff0000><size=28>\u6bd2\u866b</size></color>\u2014\u2014\uff01"},{type:1,text:"\u70e7\u5427\uff0c\u5347\u8d77<color=#cc6600>\u7cdc\u70c2</color>\u7684\u70df\u3002\n\u62bd\u5427\uff0c\u5410\u51fa\u5168\u8eab\u7684\u75b2\u60eb\u3002"},{type:3,text:"\u8001\u7834\u9ebb - \u6bd2\u866b"},{type:2,text:'\u8c22\u8c22\u89c2\u8d4f<img src="37"/><img src="37"/><img src="37"/>'},{type:2,text:"\u4e0a\u9762\u7684\u6587\u5b57\u6458\u81ea\u4e00\u9996\u6447\u6eda\u6b4c\u66f2\u2014\u2014<color=#cc6600>\u300a\u6bd2\u866b\u300b</color>\uff0c\u521b\u4f5c\u4e50\u961f\uff1a<color=#cc6600>\u8001\u7834\u9ebb</color>\u3002"},{type:2,text:"emmmm...\u6211\u89c9\u5f97\u5199\u7684\u5f88\u597d\uff0c\u5531\u7684\u4e5f\u5f88\u597d\u3002"},{type:2,text:"<color=#ff0000><size=28>\u5899\u88c2\u63a8\u8350</size></color>\uff01\uff01\uff01"},{type:1,text:"\u55ef\uff0c<color=#cc6600>\u8001\u7834\u9ebb</color>\u662f\u4e00\u652f\u53f0\u6e7e\u4e50\u961f\uff0c\u76ee\u524d\u8fd8\u5f88\u5c0f\u4f17\u3002"},{type:1,text:'\u4f46\u7edd\u5bf9\u662f<color=#ff0000><size=28>\u5b9d\u85cf\u4e50\u961f</size></color>\uff01<img src="42"/><img src="42"/><img src="42"/>'},{type:2,text:"\u662f\u7684\u6ca1\u9519\uff0c\u4ed6\u4eec\u7684\u98ce\u683c\u56ca\u62ec\u4e86<color=#cc6600>\u6447\u6eda</color>\u3001<color=#cc6600>\u91d1\u5c5e</color>\u3001<color=#cc6600>\u6838</color>\uff0c\u751a\u81f3\u662f<color=#cc6600>BossaNova</color>\u3002"},{type:2,text:'\u501f\u7528<color=#cc6600>\u5f20\u4e9a\u4e1c</color>\u8001\u5e08\u7684\u4e00\u53e5\u7ecf\u5178\u53f0\u8bcd\uff1a\u975e\u5e38\u597d\u2014\u2014<img src="15"/><img src="15"/><img src="15"/>'},{type:2,text:'\u597d\u4e86\uff0c\u6211\u4eec\u8bf4\u4e00\u4e0b\u8fd9\u4e2a\u7ec4\u4ef6<img src="22"/><img src="22"/>'},{type:1,text:'\u8bf4\u6bdb\u7ebf\uff0c\u6709\u6bdb\u7ebf\u597d\u8bf4\u554a\uff0c\u90a3\u4e48\u7b80\u5355\u8c01\u4e0d\u4f1a\u7528\u554a\uff01<img src="20"/><img src="20"/>'},{type:2,text:'okok...<img src="53"/><img src="53"/>'},{type:2,text:'\u6709\u95ee\u9898\u53ef\u4ee5\u53bb\u6211\u4eec\u56e2\u961f\u7684Github\u63d0Issues\u3002<img src="39"/><img src="39"/><img src="39"/>'},{type:2,text:"\u94fe\u63a5\uff1a\n<u><color=#cc6600>https://github.com/gh-kL/cocoscreator-list</color></u>"},{type:1,text:'\u56e2\u4f60\u59b9\u592b\uff01\u5c31\u4e00\u7834\u7ec4\u4ef6<img src="20"/><img src="20"/>\u8fd8\u56e2\u961f\u5462\u6211\u53bb'},{type:2,text:"\u3002\u3002\u3002"},{type:2,text:'\u522b\u6233\u7a7f\u6211\u561b<img src="27"/><img src="27"/>'},{type:1,text:'\u6211tm<img src="39"/><img src="39"/>'},{type:2,text:'\u6211\u5e0c\u671b\u8fd9\u4e2a\u7ec4\u4ef6\u5927\u5bb6\u7528\u4e86\u4e4b\u540e\u4f1a\u89c9\u5f97<color=#cc6600>\u771f\u9999</color>\uff0c\u800c\u4e0d\u662f<color=#cc6600>\u771f\u81ed</color><img src="37"/><img src="37"/><img src="37"/>'},{type:1,text:'\u6211\u8ddf\u4f60\u8bf4\u5c31\u4f60\u8fd9\u7834\u7ec4\u4ef6\u5403\u67a3\u836f\u4e38<img src="32"/><img src="32"/>'},{type:2,text:'\u72d7\u5934\u4fdd\u547d<img src="58"/><img src="58"/><img src="58"/>'},{type:1,text:'\u8d70\u4f60\uff01<img src="55"/><img src="55"/><img src="55"/>'},{type:2,text:'\u518d\u89c1\u4e86\u60a8\u561e~<img src="29"/><img src="29"/><img src="29"/>'}],this.list.numItems=this.data.length},onListRender:function(t,e){var i,s=t.getChildByName("avatarNode"),c=s.getComponentInChildren(cc.Sprite),o=t.getChildByName("timeNode"),n=o.getComponentInChildren(cc.Label),a=t.getChildByName("chatBg").getComponent(cc.Sprite),l=a.node.getComponent(cc.Layout),r=a.node.getComponentInChildren(cc.RichText),h=this.data[e];s.active=a.node.active=3!=h.type,o.active=3==h.type;switch(h.type){case 1:s.x=-170,c.spriteFrame=this.avatar1SF,a.spriteFrame=this.bubble1SF,r.node.x=-108,r.string=h.text,l.updateLayout(),i=a.node.y+a.node.height+43,t.height=i<80?80:i;break;case 2:s.x=170,c.spriteFrame=this.avatar2SF,a.spriteFrame=this.bubble2SF,r.node.x=-122,r.string=h.text,l.updateLayout(),i=a.node.y+a.node.height+43,t.height=i<80?80:i;break;case 3:n.string=h.text,t.height=60}},btnPlusEv:function(t,e){for(var i=+e||1,s=0;s<i;s++)this.data.push(this.data[Math.round(Math.random()*(this.data.length-1))]),this.list.numItems=this.data.length;this.list.scrollTo(this.data.length-1)}}),cc._RF.pop()},{List:"List"}],TestBag:[function(t,e,i){"use strict";cc._RF.push(e,"f9e8dSA4rFKIYLHZnrxJ36j","TestBag");var s=t("List");cc.Class({extends:cc.Component,properties:{list:s,bagItem:cc.Prefab,curPage:cc.Label},onLoad:function(){this.totalItemNum=90,this.pagePreNum=16,this.pageTotalNum=Math.ceil(this.totalItemNum/this.pagePreNum),this.list.numItems=this.pageTotalNum,this.onPageChange()},onListRender:function(t,e){if(t.childrenCount)for(var i=0;i<t.childrenCount;i++){var s=t.children[i],c=e*this.pagePreNum+i;s.getComponentInChildren(cc.Label).string=c<this.totalItemNum?c+1:""}else for(var o=0;o<this.pagePreNum;o++){var n=cc.instantiate(this.bagItem);t.addChild(n);var a=e*this.pagePreNum+o;n.getComponentInChildren(cc.Label).string=a<this.totalItemNum?a+1:""}},onPageChange:function(t){var e=null==t?this.list.curPageNum:t;this.curPage.string="\u5f53\u524d\u9875\u6570\uff1a"+(e+1)}}),cc._RF.pop()},{List:"List"}],TestCyclic:[function(t,e,i){"use strict";cc._RF.push(e,"cf9d05u6sdN8rlYzMX04cDo","TestCyclic");var s=t("List");cc.Class({extends:cc.Component,properties:{listV:s,listV2:s,listH:s,listH2:s},onLoad:function(){this.listV.numItems=this.listV2.numItems=this.listH.numItems=this.listH2.numItems=3},onListRender:function(t,e){t.getComponentInChildren(cc.Label).string=e}}),cc._RF.pop()},{List:"List"}],TestFrameByFrame:[function(t,e,i){"use strict";cc._RF.push(e,"31322F1dwZOVITr8sFd+D7N","TestFrameByFrame");var s=t("List");cc.Class({extends:cc.Component,properties:{list:s},onLoad:function(){this.data=[];for(var t=0;t<20;t++)this.data.push(t);this.list.numItems=this.data.length},onListRender:function(t,e){t.getComponentInChildren(cc.Label).string=this.data[e]}}),cc._RF.pop()},{List:"List"}],TestLack:[function(t,e,i){"use strict";cc._RF.push(e,"94cd9mzTXdKF4KEA1q+QJff","TestLack");var s=t("List");cc.Class({extends:cc.Component,properties:{listH:s,listV:s},onLoad:function(){this.data=[];for(var t=0;t<3;t++)this.data.push(t);this.listH.numItems=this.data.length,this.listV.numItems=this.data.length},onListRender:function(t,e){t.listItem.title.string=this.data[e]}}),cc._RF.pop()},{List:"List"}],TestPage:[function(t,e,i){"use strict";cc._RF.push(e,"49ed1UIr7tD8oTfwKSyh6O8","TestPage");var s=t("List");cc.Class({extends:cc.Component,properties:{list:s,input:cc.EditBox},onLoad:function(){this.data=[];for(var t=0;t<20;t++)this.data.push(t);this.list.numItems=this.data.length},onListRender:function(t,e){t.listItem.title.string=this.data[e]},onListPageNumChange:function(t){cc.log("\u5f53\u524d\u662f\u7b2c"+t+"\u9875")},btnEvent:function(t){var e=this;switch(t.target.name){case"btn1":e.list.prePage(.5);break;case"btn2":e.list.nextPage(.5);break;case"btn3":e.list.skipPage(parseInt(e.input.string),.5)}}}),cc._RF.pop()},{List:"List"}],TestWidget:[function(t,e,i){"use strict";cc._RF.push(e,"7fe91UYE/NC3q2E2g83JCEw","TestWidget");var s=t("List");cc.Class({extends:cc.Component,properties:{list:s},onLoad:function(){this.data=[];for(var t=0;t<100;t++)this.data.push(t);this.list.numItems=this.data.length},onListRender:function(t,e){t.getComponentInChildren(cc.Label).string=this.data[e]}}),cc._RF.pop()},{List:"List"}]},{},["List","ListItem","Main","TestAdaptive","TestBag","TestCyclic","TestFrameByFrame","TestLack","TestPage","TestWidget"]);