window.__require=function t(e,i,n){function o(r,a){if(!i[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!a&&l)return l(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+r+"'")}}var h=i[r]={exports:{}};e[r][0].call(h.exports,function(t){return o(e[r][1][t]||t)},h,h.exports,t,e,i,n)}return i[r].exports}for(var s="function"==typeof __require&&__require,r=0;r<n.length;r++)o(n[r]);return o}({AdjustPos:[function(t,e,i){"use strict";cc._RF.push(e,"d6406aoqctBTKFuThbqHIA/","AdjustPos"),cc.Class({extends:cc.Component,editor:{disallowMultiple:!1,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Adjust Pos"},properties:{posStep:{default:1,min:0},scaleStep:{default:.05,min:0}},onLoad:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onDestroy:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onKeyDown:function(t){0}}),cc._RF.pop()},{}],AutoInstantiate:[function(t,e,i){"use strict";cc._RF.push(e,"260cc4GE4hECqiKzDjKal9O","AutoInstantiate");var n=cc.Class({name:"InstantiateData",properties:{name:"",prefab:cc.Prefab,position:cc.Vec2,siblingIndex:{default:-1,min:-1,step:1,tooltip:!1}}});cc.Class({extends:cc.Component,editor:{disallowMultiple:!1,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Auto Instantiate",executionOrder:-6e3},properties:{auto:{default:!0,tooltip:!1},afterDel:{default:!0,tooltip:!1,visible:function(){return 1==this.auto}},prefabList:[n]},onLoad:function(){this.dict={},this.auto&&(this.createAll(),this.afterDel&&this.node._removeComponent(this))},createAll:function(){for(var t=0,e=this.prefabList.length;t<e;t++)this.createItem(t)},createItem:function(t){var e=this.getItem(t);if(!e){var i=this.prefabList[t];return(e=cc.instantiate(i.prefab))._$idx=t,this.node.addChild(e),i.name&&""!=e.name&&(e._$name=e.name=i.name),i.siblingIndex>=0&&e.setSiblingIndex(i.siblingIndex),e.setPosition(i.position),this.dict[t]=e,e}},createItemByName:function(t){var e=this.prefabList.find(function(e){if(e.name&&e.name==t)return e});return e?this.createItem(e):cc.error("Not find '"+t+"' instantiate data!")},delItem:function(t){var e=this.dict[t];if(!e)return cc.error("Not find '"+t+"' index node!");e.removeFromParent(),e.destroy&&e.destroy(),delete this.dict[t]},delItemByName:function(t){var e=void 0;for(var i in this.dict)if(i._$name==t){e=i;break}if(!e)return cc.error("Not find '"+t+"' node!");e.removeFromParent(),e.destroy&&e.destroy(),delete this.dict[idx]},delAll:function(){for(var t in this.dict)this.delItem(t._$idx)},getItem:function(t){return this.dict[t]},getItemByName:function(t){var e=void 0;for(var i in this.dict)if(i._$name==t){e=i;break}return e}}),cc._RF.pop()},{}],AutoLayout:[function(t,e,i){"use strict";cc._RF.push(e,"736675uGj9DipKXZfaxSydT","AutoLayout");var n=cc.Enum({NODE:1,PREFAB:2});cc.Class({extends:cc.Component,editor:{disallowMultiple:!1,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Auto Layout",executionOrder:-5e3},properties:{templateType:{default:n.NODE,type:n},tmpNode:{default:null,type:cc.Node,tooltip:!1,visible:function(){var t=this.templateType==n.NODE;return t||(this.tmpNode=null),t}},tmpPrefab:{default:null,type:cc.Prefab,tooltip:!1,visible:function(){var t=this.templateType==n.PREFAB;return t||(this.tmpPrefab=null),t}},frameByFrameRenderNum:{default:0,type:cc.Integer,range:[0,12,1],tooltip:!1,slide:!0},renderEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1},_numItems:{default:0,serializable:!1},numItems:{visible:!1,get:function(){return this._numItems},set:function(t){if(null==t||t<0)cc.error("\u6e32\u67d3\u6570\u91cf\u8bbe\u7f6e\u6709\u8bef::",t);else{this._numItems=t,this.startRenderItems()}}}},onLoad:function(){var t=this;t._itemTmp=t.tmpPrefab?t.tmpPrefab.data:t.tmpNode,t._updateCounter=0,t._updateDone=!0,t.node.removeAllChildren(),t.numItems&&t.startRenderItems()},startRenderItems:function(){var t=this;if(t.enabledInHierarchy&&(t._delRedundantItem(),t.numItems>0))if(t.frameByFrameRenderNum>0){for(var e=t.frameByFrameRenderNum>t.numItems?t.numItems:t.frameByFrameRenderNum,i=0;i<e;i++)t._createOrUpdateItem(i);t.frameByFrameRenderNum<t.numItems&&(t._updateCounter=t.frameByFrameRenderNum,t._updateDone=!1)}else for(var n=0;n<t.numItems;n++)t._createOrUpdateItem(n)},update:function(){if(!(this.frameByFrameRender<=0||this._updateDone)){for(var t=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++)this._createOrUpdateItem(e);this._updateCounter>=this._numItems-1?this._updateDone=!0:this._updateCounter+=this.frameByFrameRenderNum}},_createOrUpdateItem:function(t){var e=this,i=e.node.children[t];i||(i=cc.instantiate(e._itemTmp)),i.parent=e.node,e.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],i,t)},updateItem:function(t){Array.isArray(t)||(t=[t]);for(var e=0,i=t.length;e<i;e++){var n=t[e],o=this.node.children[n];o&&this._itemRenderer.emit([o,id])}},updateAll:function(){this.numItems=this.numItems},_delRedundantItem:function(){for(var t=this;t.node.childrenCount>t._numItems;)t._delSingleItem(t.node.children[t.node.childrenCount-1])},_delSingleItem:function(t){t.removeFromParent(),t.destroy&&t.destroy(),t=null},getItemById:function(t){if(t>this._numItems-1||t<0)cc.error("Invalid id.");else{var e=this.node.children[t];if(e)return e;cc.error("Invalid id.")}}}),cc._RF.pop()},{}],BigNumber:[function(t,e,i){"use strict";cc._RF.push(e,"25bfdgoJN9JC4TObKMsEFp8","BigNumber");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(t){var i,o=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,r=Math.floor,a="[BigNumber Error] ",c=a+"Number primitive has more than 15 significant digits: ",l=1e14,h=14,u=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e7,f=1e9;function m(t){var e=0|t;return t>0||t===e?e:e-1}function _(t){for(var e,i,n=1,o=t.length,s=t[0]+"";n<o;){for(e=t[n++]+"",i=h-e.length;i--;e="0"+e);s+=e}for(o=s.length;48===s.charCodeAt(--o););return s.slice(0,o+1||1)}function g(t,e){var i,n,o=t.c,s=e.c,r=t.s,a=e.s,c=t.e,l=e.e;if(!r||!a)return null;if(i=o&&!o[0],n=s&&!s[0],i||n)return i?n?0:-a:r;if(r!=a)return r;if(i=r<0,n=c==l,!o||!s)return n?0:!o^i?1:-1;if(!n)return c>l^i?1:-1;for(a=(c=o.length)<(l=s.length)?c:l,r=0;r<a;r++)if(o[r]!=s[r])return o[r]>s[r]^i?1:-1;return c==l?0:c>l^i?1:-1}function v(t,e,i,n){if(t<e||t>i||t!==(t<0?s(t):r(t)))throw Error(a+(n||"Argument")+("number"==typeof t?t<e||t>i?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function T(t){var e=t.c.length-1;return m(t.e/h)==e&&t.c[e]%2!=0}function y(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function b(t,e,i){var n,o;if(e<0){for(o=i+".";++e;o+=i);t=o+t}else if(++e>(n=t.length)){for(o=i,e-=n;--e;o+=i);t+=o}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}(i=function t(e){var i,I,E,S=B.prototype={constructor:B,toString:null,valueOf:null},L=new B(1),w=20,C=4,N=-7,R=21,O=-1e7,D=1e7,A=!1,x=1,F=0,P={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},M="0123456789abcdefghijklmnopqrstuvwxyz";function B(t,e){var i,n,s,a,l,d,p,f,m=this;if(!(m instanceof B))return new B(t,e);if(null==e){if(t instanceof B)return m.s=t.s,m.e=t.e,void(m.c=(t=t.c)?t.slice():t);if((d="number"==typeof t)&&0*t==0){if(m.s=1/t<0?(t=-t,-1):1,t===~~t){for(a=0,l=t;l>=10;l/=10,a++);return m.e=a,void(m.c=[t])}f=String(t)}else{if(f=String(t),!o.test(f))return E(m,f,d);m.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(a=f.indexOf("."))>-1&&(f=f.replace(".","")),(l=f.search(/e/i))>0?(a<0&&(a=l),a+=+f.slice(l+1),f=f.substring(0,l)):a<0&&(a=f.length)}else{if(v(e,2,M.length,"Base"),f=String(t),10==e)return H(m=new B(t instanceof B?t:f),w+m.e+1,C);if(d="number"==typeof t){if(0*t!=0)return E(m,f,d,e);if(m.s=1/t<0?(f=f.slice(1),-1):1,B.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(c+t);d=!1}else m.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(i=M.slice(0,e),a=l=0,p=f.length;l<p;l++)if(i.indexOf(n=f.charAt(l))<0){if("."==n){if(l>a){a=p;continue}}else if(!s&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){s=!0,l=-1,a=0;continue}return E(m,String(t),d,e)}(a=(f=I(f,e,10,m.s)).indexOf("."))>-1?f=f.replace(".",""):a=f.length}for(l=0;48===f.charCodeAt(l);l++);for(p=f.length;48===f.charCodeAt(--p););if(f=f.slice(l,++p)){if(p-=l,d&&B.DEBUG&&p>15&&(t>u||t!==r(t)))throw Error(c+m.s*t);if((a=a-l-1)>D)m.c=m.e=null;else if(a<O)m.c=[m.e=0];else{if(m.e=a,m.c=[],l=(a+1)%h,a<0&&(l+=h),l<p){for(l&&m.c.push(+f.slice(0,l)),p-=h;l<p;)m.c.push(+f.slice(l,l+=h));f=f.slice(l),l=h-f.length}else l-=p;for(;l--;f+="0");m.c.push(+f)}}else m.c=[m.e=0]}function G(t,e,i,n){var o,s,r,a,c;if(null==i?i=C:v(i,0,8),!t.c)return t.toString();if(o=t.c[0],r=t.e,null==e)c=_(t.c),c=1==n||2==n&&r<=N?y(c,r):b(c,r,"0");else if(s=(t=H(new B(t),e,i)).e,a=(c=_(t.c)).length,1==n||2==n&&(e<=s||s<=N)){for(;a<e;c+="0",a++);c=y(c,s)}else if(e-=r,c=b(c,s,"0"),s+1>a){if(--e>0)for(c+=".";e--;c+="0");}else if((e+=s-a)>0)for(s+1==a&&(c+=".");e--;c+="0");return t.s<0&&o?"-"+c:c}function k(t,e){for(var i,n=1,o=new B(t[0]);n<t.length;n++){if(!(i=new B(t[n])).s){o=i;break}e.call(o,i)&&(o=i)}return o}function z(t,e,i){for(var n=1,o=e.length;!e[--o];e.pop());for(o=e[0];o>=10;o/=10,n++);return(i=n+i*h-1)>D?t.c=t.e=null:i<O?t.c=[t.e=0]:(t.e=i,t.c=e),t}function H(t,e,i,n){var o,a,c,u,p,f,m,_=t.c,g=d;if(_){t:{for(o=1,u=_[0];u>=10;u/=10,o++);if((a=e-o)<0)a+=h,c=e,m=(p=_[f=0])/g[o-c-1]%10|0;else if((f=s((a+1)/h))>=_.length){if(!n)break t;for(;_.length<=f;_.push(0));p=m=0,o=1,c=(a%=h)-h+1}else{for(p=u=_[f],o=1;u>=10;u/=10,o++);m=(c=(a%=h)-h+o)<0?0:p/g[o-c-1]%10|0}if(n=n||e<0||null!=_[f+1]||(c<0?p:p%g[o-c-1]),n=i<4?(m||n)&&(0==i||i==(t.s<0?3:2)):m>5||5==m&&(4==i||n||6==i&&(a>0?c>0?p/g[o-c]:0:_[f-1])%10&1||i==(t.s<0?8:7)),e<1||!_[0])return _.length=0,n?(e-=t.e+1,_[0]=g[(h-e%h)%h],t.e=-e||0):_[0]=t.e=0,t;if(0==a?(_.length=f,u=1,f--):(_.length=f+1,u=g[h-a],_[f]=c>0?r(p/g[o-c]%g[c])*u:0),n)for(;;){if(0==f){for(a=1,c=_[0];c>=10;c/=10,a++);for(c=_[0]+=u,u=1;c>=10;c/=10,u++);a!=u&&(t.e++,_[0]==l&&(_[0]=1));break}if(_[f]+=u,_[f]!=l)break;_[f--]=0,u=1}for(a=_.length;0===_[--a];_.pop());}t.e>D?t.c=t.e=null:t.e<O&&(t.c=[t.e=0])}return t}function U(t){var e,i=t.e;return null===i?t.toString():(e=_(t.c),e=i<=N||i>=R?y(e,i):b(e,i,"0"),t.s<0?"-"+e:e)}return B.clone=t,B.ROUND_UP=0,B.ROUND_DOWN=1,B.ROUND_CEIL=2,B.ROUND_FLOOR=3,B.ROUND_HALF_UP=4,B.ROUND_HALF_DOWN=5,B.ROUND_HALF_EVEN=6,B.ROUND_HALF_CEIL=7,B.ROUND_HALF_FLOOR=8,B.EUCLID=9,B.config=B.set=function(t){var e,i;if(null!=t){if("object"!=(void 0===t?"undefined":n(t)))throw Error(a+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(v(i=t[e],0,f,e),w=i),t.hasOwnProperty(e="ROUNDING_MODE")&&(v(i=t[e],0,8,e),C=i),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((i=t[e])&&i.pop?(v(i[0],-f,0,e),v(i[1],0,f,e),N=i[0],R=i[1]):(v(i,-f,f,e),N=-(R=i<0?-i:i))),t.hasOwnProperty(e="RANGE"))if((i=t[e])&&i.pop)v(i[0],-f,-1,e),v(i[1],1,f,e),O=i[0],D=i[1];else{if(v(i,-f,f,e),!i)throw Error(a+e+" cannot be zero: "+i);O=-(D=i<0?-i:i)}if(t.hasOwnProperty(e="CRYPTO")){if((i=t[e])!==!!i)throw Error(a+e+" not true or false: "+i);if(i){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw A=!i,Error(a+"crypto unavailable");A=i}else A=i}if(t.hasOwnProperty(e="MODULO_MODE")&&(v(i=t[e],0,9,e),x=i),t.hasOwnProperty(e="POW_PRECISION")&&(v(i=t[e],0,f,e),F=i),t.hasOwnProperty(e="FORMAT")){if("object"!=(void 0===(i=t[e])?"undefined":n(i)))throw Error(a+e+" not an object: "+i);P=i}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(i=t[e])||/^.$|[+-.\s]|(.).*\1/.test(i))throw Error(a+e+" invalid: "+i);M=i}}return{DECIMAL_PLACES:w,ROUNDING_MODE:C,EXPONENTIAL_AT:[N,R],RANGE:[O,D],CRYPTO:A,MODULO_MODE:x,POW_PRECISION:F,FORMAT:P,ALPHABET:M}},B.isBigNumber=function(t){return t instanceof B||t&&!0===t._isBigNumber||!1},B.maximum=B.max=function(){return k(arguments,S.lt)},B.minimum=B.min=function(){return k(arguments,S.gt)},B.random=function(){var t=9007199254740992*Math.random()&2097151?function(){return r(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(e){var i,n,o,c,l,u=0,p=[],m=new B(L);if(null==e?e=w:v(e,0,f),c=s(e/h),A)if(crypto.getRandomValues){for(i=crypto.getRandomValues(new Uint32Array(c*=2));u<c;)(l=131072*i[u]+(i[u+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),i[u]=n[0],i[u+1]=n[1]):(p.push(l%1e14),u+=2);u=c/2}else{if(!crypto.randomBytes)throw A=!1,Error(a+"crypto unavailable");for(i=crypto.randomBytes(c*=7);u<c;)(l=281474976710656*(31&i[u])+1099511627776*i[u+1]+4294967296*i[u+2]+16777216*i[u+3]+(i[u+4]<<16)+(i[u+5]<<8)+i[u+6])>=9e15?crypto.randomBytes(7).copy(i,u):(p.push(l%1e14),u+=7);u=c/7}if(!A)for(;u<c;)(l=t())<9e15&&(p[u++]=l%1e14);for(c=p[--u],e%=h,c&&e&&(l=d[h-e],p[u]=r(c/l)*l);0===p[u];p.pop(),u--);if(u<0)p=[o=0];else{for(o=-1;0===p[0];p.splice(0,1),o-=h);for(u=1,l=p[0];l>=10;l/=10,u++);u<h&&(o-=h-u)}return m.e=o,m.c=p,m}}(),B.sum=function(){for(var t=1,e=arguments,i=new B(e[0]);t<e.length;)i=i.plus(e[t++]);return i},I=function(){function t(t,e,i,n){for(var o,s,r=[0],a=0,c=t.length;a<c;){for(s=r.length;s--;r[s]*=e);for(r[0]+=n.indexOf(t.charAt(a++)),o=0;o<r.length;o++)r[o]>i-1&&(null==r[o+1]&&(r[o+1]=0),r[o+1]+=r[o]/i|0,r[o]%=i)}return r.reverse()}return function(e,n,o,s,r){var a,c,l,h,u,d,p,f,m=e.indexOf("."),g=w,v=C;for(m>=0&&(h=F,F=0,e=e.replace(".",""),d=(f=new B(n)).pow(e.length-m),F=h,f.c=t(b(_(d.c),d.e,"0"),10,o,"0123456789"),f.e=f.c.length),l=h=(p=t(e,n,o,r?(a=M,"0123456789"):(a="0123456789",M))).length;0==p[--h];p.pop());if(!p[0])return a.charAt(0);if(m<0?--l:(d.c=p,d.e=l,d.s=s,p=(d=i(d,f,g,v,o)).c,u=d.r,l=d.e),m=p[c=l+g+1],h=o/2,u=u||c<0||null!=p[c+1],u=v<4?(null!=m||u)&&(0==v||v==(d.s<0?3:2)):m>h||m==h&&(4==v||u||6==v&&1&p[c-1]||v==(d.s<0?8:7)),c<1||!p[0])e=u?b(a.charAt(1),-g,a.charAt(0)):a.charAt(0);else{if(p.length=c,u)for(--o;++p[--c]>o;)p[c]=0,c||(++l,p=[1].concat(p));for(h=p.length;!p[--h];);for(m=0,e="";m<=h;e+=a.charAt(p[m++]));e=b(e,l,a.charAt(0))}return e}}(),i=function(){function t(t,e,i){var n,o,s,r,a=0,c=t.length,l=e%p,h=e/p|0;for(t=t.slice();c--;)a=((o=l*(s=t[c]%p)+(n=h*s+(r=t[c]/p|0)*l)%p*p+a)/i|0)+(n/p|0)+h*r,t[c]=o%i;return a&&(t=[a].concat(t)),t}function e(t,e,i,n){var o,s;if(i!=n)s=i>n?1:-1;else for(o=s=0;o<i;o++)if(t[o]!=e[o]){s=t[o]>e[o]?1:-1;break}return s}function i(t,e,i,n){for(var o=0;i--;)t[i]-=o,o=t[i]<e[i]?1:0,t[i]=o*n+t[i]-e[i];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(n,o,s,a,c){var u,d,p,f,_,g,v,T,y,b,I,E,S,L,w,C,N,R=n.s==o.s?1:-1,O=n.c,D=o.c;if(!(O&&O[0]&&D&&D[0]))return new B(n.s&&o.s&&(O?!D||O[0]!=D[0]:D)?O&&0==O[0]||!D?0*R:R/0:NaN);for(y=(T=new B(R)).c=[],R=s+(d=n.e-o.e)+1,c||(c=l,d=m(n.e/h)-m(o.e/h),R=R/h|0),p=0;D[p]==(O[p]||0);p++);if(D[p]>(O[p]||0)&&d--,R<0)y.push(1),f=!0;else{for(L=O.length,C=D.length,p=0,R+=2,(_=r(c/(D[0]+1)))>1&&(D=t(D,_,c),O=t(O,_,c),C=D.length,L=O.length),S=C,I=(b=O.slice(0,C)).length;I<C;b[I++]=0);N=D.slice(),N=[0].concat(N),w=D[0],D[1]>=c/2&&w++;do{if(_=0,(u=e(D,b,C,I))<0){if(E=b[0],C!=I&&(E=E*c+(b[1]||0)),(_=r(E/w))>1)for(_>=c&&(_=c-1),v=(g=t(D,_,c)).length,I=b.length;1==e(g,b,v,I);)_--,i(g,C<v?N:D,v,c),v=g.length,u=1;else 0==_&&(u=_=1),v=(g=D.slice()).length;if(v<I&&(g=[0].concat(g)),i(b,g,I,c),I=b.length,-1==u)for(;e(D,b,C,I)<1;)_++,i(b,C<I?N:D,I,c),I=b.length}else 0===u&&(_++,b=[0]);y[p++]=_,b[0]?b[I++]=O[S]||0:(b=[O[S]],I=1)}while((S++<L||null!=b[0])&&R--);f=null!=b[0],y[0]||y.splice(0,1)}if(c==l){for(p=1,R=y[0];R>=10;R/=10,p++);H(T,s+(T.e=p+d*h-1)+1,a,f)}else T.e=d,T.r=+f;return T}}(),E=function(){var t=/^(-?)0([xbo])(?=\w[\w.]*$)/i,e=/^([^.]+)\.$/,i=/^\.([^.]+)$/,n=/^-?(Infinity|NaN)$/,o=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(s,r,c,l){var h,u=c?r:r.replace(o,"");if(n.test(u))s.s=isNaN(u)?null:u<0?-1:1,s.c=s.e=null;else{if(!c&&(u=u.replace(t,function(t,e,i){return h="x"==(i=i.toLowerCase())?16:"b"==i?2:8,l&&l!=h?t:e}),l&&(h=l,u=u.replace(e,"$1").replace(i,"0.$1")),r!=u))return new B(u,h);if(B.DEBUG)throw Error(a+"Not a"+(l?" base "+l:"")+" number: "+r);s.c=s.e=s.s=null}}}(),S.absoluteValue=S.abs=function(){var t=new B(this);return t.s<0&&(t.s=1),t},S.comparedTo=function(t,e){return g(this,new B(t,e))},S.decimalPlaces=S.dp=function(t,e){var i,n,o,s=this;if(null!=t)return v(t,0,f),null==e?e=C:v(e,0,8),H(new B(s),t+s.e+1,e);if(!(i=s.c))return null;if(n=((o=i.length-1)-m(this.e/h))*h,o=i[o])for(;o%10==0;o/=10,n--);return n<0&&(n=0),n},S.dividedBy=S.div=function(t,e){return i(this,new B(t,e),w,C)},S.dividedToIntegerBy=S.idiv=function(t,e){return i(this,new B(t,e),0,1)},S.exponentiatedBy=S.pow=function(t,e){var i,n,o,c,l,u,d,p,f=this;if((t=new B(t)).c&&!t.isInteger())throw Error(a+"Exponent not an integer: "+U(t));if(null!=e&&(e=new B(e)),l=t.e>14,!f.c||!f.c[0]||1==f.c[0]&&!f.e&&1==f.c.length||!t.c||!t.c[0])return p=new B(Math.pow(+U(f),l?2-T(t):+U(t))),e?p.mod(e):p;if(u=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new B(NaN);(n=!u&&f.isInteger()&&e.isInteger())&&(f=f.mod(e))}else{if(t.e>9&&(f.e>0||f.e<-1||(0==f.e?f.c[0]>1||l&&f.c[1]>=24e7:f.c[0]<8e13||l&&f.c[0]<=9999975e7)))return c=f.s<0&&T(t)?-0:0,f.e>-1&&(c=1/c),new B(u?1/c:c);F&&(c=s(F/h+2))}for(l?(i=new B(.5),u&&(t.s=1),d=T(t)):d=(o=Math.abs(+U(t)))%2,p=new B(L);;){if(d){if(!(p=p.times(f)).c)break;c?p.c.length>c&&(p.c.length=c):n&&(p=p.mod(e))}if(o){if(0===(o=r(o/2)))break;d=o%2}else if(H(t=t.times(i),t.e+1,1),t.e>14)d=T(t);else{if(0==(o=+U(t)))break;d=o%2}f=f.times(f),c?f.c&&f.c.length>c&&(f.c.length=c):n&&(f=f.mod(e))}return n?p:(u&&(p=L.div(p)),e?p.mod(e):c?H(p,F,C,void 0):p)},S.integerValue=function(t){var e=new B(this);return null==t?t=C:v(t,0,8),H(e,e.e+1,t)},S.isEqualTo=S.eq=function(t,e){return 0===g(this,new B(t,e))},S.isFinite=function(){return!!this.c},S.isGreaterThan=S.gt=function(t,e){return g(this,new B(t,e))>0},S.isGreaterThanOrEqualTo=S.gte=function(t,e){return 1===(e=g(this,new B(t,e)))||0===e},S.isInteger=function(){return!!this.c&&m(this.e/h)>this.c.length-2},S.isLessThan=S.lt=function(t,e){return g(this,new B(t,e))<0},S.isLessThanOrEqualTo=S.lte=function(t,e){return-1===(e=g(this,new B(t,e)))||0===e},S.isNaN=function(){return!this.s},S.isNegative=function(){return this.s<0},S.isPositive=function(){return this.s>0},S.isZero=function(){return!!this.c&&0==this.c[0]},S.minus=function(t,e){var i,n,o,s,r=this,a=r.s;if(e=(t=new B(t,e)).s,!a||!e)return new B(NaN);if(a!=e)return t.s=-e,r.plus(t);var c=r.e/h,u=t.e/h,d=r.c,p=t.c;if(!c||!u){if(!d||!p)return d?(t.s=-e,t):new B(p?r:NaN);if(!d[0]||!p[0])return p[0]?(t.s=-e,t):new B(d[0]?r:3==C?-0:0)}if(c=m(c),u=m(u),d=d.slice(),a=c-u){for((s=a<0)?(a=-a,o=d):(u=c,o=p),o.reverse(),e=a;e--;o.push(0));o.reverse()}else for(n=(s=(a=d.length)<(e=p.length))?a:e,a=e=0;e<n;e++)if(d[e]!=p[e]){s=d[e]<p[e];break}if(s&&(o=d,d=p,p=o,t.s=-t.s),(e=(n=p.length)-(i=d.length))>0)for(;e--;d[i++]=0);for(e=l-1;n>a;){if(d[--n]<p[n]){for(i=n;i&&!d[--i];d[i]=e);--d[i],d[n]+=l}d[n]-=p[n]}for(;0==d[0];d.splice(0,1),--u);return d[0]?z(t,d,u):(t.s=3==C?-1:1,t.c=[t.e=0],t)},S.modulo=S.mod=function(t,e){var n,o,s=this;return t=new B(t,e),!s.c||!t.s||t.c&&!t.c[0]?new B(NaN):!t.c||s.c&&!s.c[0]?new B(s):(9==x?(o=t.s,t.s=1,n=i(s,t,0,3),t.s=o,n.s*=o):n=i(s,t,0,x),(t=s.minus(n.times(t))).c[0]||1!=x||(t.s=s.s),t)},S.multipliedBy=S.times=function(t,e){var i,n,o,s,r,a,c,u,d,f,_,g,v,T,y,b=this,I=b.c,E=(t=new B(t,e)).c;if(!(I&&E&&I[0]&&E[0]))return!b.s||!t.s||I&&!I[0]&&!E||E&&!E[0]&&!I?t.c=t.e=t.s=null:(t.s*=b.s,I&&E?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=m(b.e/h)+m(t.e/h),t.s*=b.s,(c=I.length)<(f=E.length)&&(v=I,I=E,E=v,o=c,c=f,f=o),o=c+f,v=[];o--;v.push(0));for(T=l,y=p,o=f;--o>=0;){for(i=0,_=E[o]%y,g=E[o]/y|0,s=o+(r=c);s>o;)i=((u=_*(u=I[--r]%y)+(a=g*u+(d=I[r]/y|0)*_)%y*y+v[s]+i)/T|0)+(a/y|0)+g*d,v[s--]=u%T;v[s]=i}return i?++n:v.splice(0,1),z(t,v,n)},S.negated=function(){var t=new B(this);return t.s=-t.s||null,t},S.plus=function(t,e){var i,n=this,o=n.s;if(e=(t=new B(t,e)).s,!o||!e)return new B(NaN);if(o!=e)return t.s=-e,n.minus(t);var s=n.e/h,r=t.e/h,a=n.c,c=t.c;if(!s||!r){if(!a||!c)return new B(o/0);if(!a[0]||!c[0])return c[0]?t:new B(a[0]?n:0*o)}if(s=m(s),r=m(r),a=a.slice(),o=s-r){for(o>0?(r=s,i=c):(o=-o,i=a),i.reverse();o--;i.push(0));i.reverse()}for((o=a.length)-(e=c.length)<0&&(i=c,c=a,a=i,e=o),o=0;e;)o=(a[--e]=a[e]+c[e]+o)/l|0,a[e]=l===a[e]?0:a[e]%l;return o&&(a=[o].concat(a),++r),z(t,a,r)},S.precision=S.sd=function(t,e){var i,n,o,s=this;if(null!=t&&t!==!!t)return v(t,1,f),null==e?e=C:v(e,0,8),H(new B(s),t,e);if(!(i=s.c))return null;if(n=(o=i.length-1)*h+1,o=i[o]){for(;o%10==0;o/=10,n--);for(o=i[0];o>=10;o/=10,n++);}return t&&s.e+1>n&&(n=s.e+1),n},S.shiftedBy=function(t){return v(t,-u,u),this.times("1e"+t)},S.squareRoot=S.sqrt=function(){var t,e,n,o,s,r=this,a=r.c,c=r.s,l=r.e,h=w+4,u=new B("0.5");if(1!==c||!a||!a[0])return new B(!c||c<0&&(!a||a[0])?NaN:a?r:1/0);if(0==(c=Math.sqrt(+U(r)))||c==1/0?(((e=_(a)).length+l)%2==0&&(e+="0"),c=Math.sqrt(+e),l=m((l+1)/2)-(l<0||l%2),n=new B(e=c==1/0?"1e"+l:(e=c.toExponential()).slice(0,e.indexOf("e")+1)+l)):n=new B(c+""),n.c[0])for((c=(l=n.e)+h)<3&&(c=0);;)if(s=n,n=u.times(s.plus(i(r,s,h,1))),_(s.c).slice(0,c)===(e=_(n.c)).slice(0,c)){if(n.e<l&&--c,"9999"!=(e=e.slice(c-3,c+1))&&(o||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(H(n,n.e+w+2,1),t=!n.times(n).eq(r));break}if(!o&&(H(s,s.e+w+2,0),s.times(s).eq(r))){n=s;break}h+=4,c+=4,o=1}return H(n,n.e+w+1,C,t)},S.toExponential=function(t,e){return null!=t&&(v(t,0,f),t++),G(this,t,e,1)},S.toFixed=function(t,e){return null!=t&&(v(t,0,f),t=t+this.e+1),G(this,t,e)},S.toFormat=function(t,e,i){var o,s=this;if(null==i)null!=t&&e&&"object"==(void 0===e?"undefined":n(e))?(i=e,e=null):t&&"object"==(void 0===t?"undefined":n(t))?(i=t,t=e=null):i=P;else if("object"!=(void 0===i?"undefined":n(i)))throw Error(a+"Argument not an object: "+i);if(o=s.toFixed(t,e),s.c){var r,c=o.split("."),l=+i.groupSize,h=+i.secondaryGroupSize,u=i.groupSeparator||"",d=c[0],p=c[1],f=s.s<0,m=f?d.slice(1):d,_=m.length;if(h&&(r=l,l=h,h=r,_-=r),l>0&&_>0){for(r=_%l||l,d=m.substr(0,r);r<_;r+=l)d+=u+m.substr(r,l);h>0&&(d+=u+m.slice(r)),f&&(d="-"+d)}o=p?d+(i.decimalSeparator||"")+((h=+i.fractionGroupSize)?p.replace(new RegExp("\\d{"+h+"}\\B","g"),"$&"+(i.fractionGroupSeparator||"")):p):d}return(i.prefix||"")+o+(i.suffix||"")},S.toFraction=function(t){var e,n,o,s,r,c,l,u,p,f,m,g,v=this,T=v.c;if(null!=t&&(!(l=new B(t)).isInteger()&&(l.c||1!==l.s)||l.lt(L)))throw Error(a+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+U(l));if(!T)return new B(v);for(e=new B(L),p=n=new B(L),o=u=new B(L),g=_(T),r=e.e=g.length-v.e-1,e.c[0]=d[(c=r%h)<0?h+c:c],t=!t||l.comparedTo(e)>0?r>0?e:p:l,c=D,D=1/0,l=new B(g),u.c[0]=0;f=i(l,e,0,1),1!=(s=n.plus(f.times(o))).comparedTo(t);)n=o,o=s,p=u.plus(f.times(s=p)),u=s,e=l.minus(f.times(s=e)),l=s;return s=i(t.minus(n),o,0,1),u=u.plus(s.times(p)),n=n.plus(s.times(o)),u.s=p.s=v.s,m=i(p,o,r*=2,C).minus(v).abs().comparedTo(i(u,n,r,C).minus(v).abs())<1?[p,o]:[u,n],D=c,m},S.toNumber=function(){return+U(this)},S.toPrecision=function(t,e){return null!=t&&v(t,1,f),G(this,t,e,2)},S.toString=function(t){var e,i=this,n=i.s,o=i.e;return null===o?n?(e="Infinity",n<0&&(e="-"+e)):e="NaN":(e=_(i.c),null==t?e=o<=N||o>=R?y(e,o):b(e,o,"0"):(v(t,2,M.length,"Base"),e=I(b(e,o,"0"),10,t,n,!0)),n<0&&i.c[0]&&(e="-"+e)),e},S.valueOf=S.toJSON=function(){return U(this)},S._isBigNumber=!0,"function"==typeof Symbol&&"symbol"==n(Symbol.iterator)&&(S[Symbol.toStringTag]="BigNumber",S[Symbol.for("nodejs.util.inspect.custom")]=S.valueOf),null!=e&&B.set(e),B}()).default=i.BigNumber=i,"function"==typeof define&&define.amd?define(function(){return i}):void 0!==e&&e.exports?e.exports=i:(t||(t="undefined"!=typeof self&&self?self:window),t.BigNumber=i)})(void 0),cc._RF.pop()},{}],Breath:[function(t,e,i){"use strict";cc._RF.push(e,"90a98GtxtRLUZXD/Wx/SF5A","Breath");var n=cc.Enum({OPACITY:1,SCALE:2});cc.Class({editor:{disallowMultiple:!0,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Breath"},extends:cc.Component,properties:{duration:{default:2,min:.2,step:.1,tooltip:!1},breathType:{default:n.OPACITY,type:n},opacityMin:{default:50,rang:[0,255,1],tooltip:!1,visible:function(){return this.breathType==n.OPACITY}},opacityMax:{default:255,rang:[0,255,1],tooltip:!1,visible:function(){return this.breathType==n.OPACITY}},scaleMin:{default:1,min:0,tooltip:!1,visible:function(){return this.breathType==n.SCALE}},scaleMax:{default:1.1,min:0,tooltip:!1,visible:function(){return this.breathType==n.SCALE}},times:{default:0,type:cc.Integer,min:0,tooltip:!1},afterDel:{default:!1,tooltip:!1,visible:function(){return this.times>0}},delayDel:{default:0,type:cc.Float,min:0,tooltip:!1}},start:function(){var t=this;t.duration=Math.abs(t.duration);var e=void 0;switch(t.breathType){case n.OPACITY:e=new cc.Sequence([new cc.fadeTo(t.duration/2,t.opacityMin),new cc.fadeTo(t.duration/2,t.opacityMax)]);break;case n.SCALE:var i=void 0;i=t.node.scaleX==t.opacityMax?[new cc.scaleTo(t.duration/2,t.scaleMin),new cc.scaleTo(t.duration/2,t.scaleMax)]:[new cc.scaleTo(t.duration/2,t.scaleMax),new cc.scaleTo(t.duration/2,t.scaleMin)],e=new cc.Sequence(i)}var o=void 0;t.times>0?(o=cc.repeat(e,t.times),t.node.runAction(new cc.Sequence([o,new cc.callFunc(function(){t.afterDel&&(t.node.removeFromParent(),t.node.destroy())})]))):(o=cc.repeatForever(e),t.node.runAction(o)),t.delayDel>0&&t.scheduleOnce(function(){t.node.removeFromParent(),t.node.destroy()},t.delayDel)},onDestroy:function(){this.node&&this.node.stopAllActions(),this.unscheduleAllCallbacks()}}),cc._RF.pop()},{}],Debug:[function(t,e,i){"use strict";cc._RF.push(e,"d0a39W19QFFrZ+CVpRPwMet","Debug"),window.ylhlog=function(){},window.lzplog=function(){},window.kllog=function(){},window.lkllog=function(){cc.log.apply(cc,arguments)},cc._RF.pop()},{}],Drag:[function(t,e,i){"use strict";cc._RF.push(e,"497aa0dZs1PD43+RQUKYWOu","Drag"),cc.Class({extends:cc.Component,editor:{disallowMultiple:!1,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Drag"},properties:{dragStartEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1},dragMoveEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1},dragEndEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1},boundsActive:{tooltip:!1,default:!1},boundTop:{default:0,visible:function(){return this.boundsActive},notify:function(){this._checkedBounds=null}},boundBottom:{default:0,visible:function(){return this.boundsActive},notify:function(){this._checkedBounds=null}},boundLeft:{default:0,visible:function(){return this.boundsActive},notify:function(){this._checkedBounds=null}},boundRight:{default:0,visible:function(){return this.boundsActive},notify:function(){this._checkedBounds=null}}},onEnable:function(){this._registerEvent()},onDisable:function(){this._unregisterEvent()},_registerEvent:function(){var t=this;t.node.on(cc.Node.EventType.TOUCH_START,t._onTouchStart,t),t.node.on(cc.Node.EventType.TOUCH_MOVE,t._onTouchMove,t),t.node.on(cc.Node.EventType.TOUCH_END,t._onTouchEnd,t),t.node.on(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancel,t)},_unregisterEvent:function(){var t=this;t.node.off(cc.Node.EventType.TOUCH_START,t._onTouchStart,t),t.node.off(cc.Node.EventType.TOUCH_MOVE,t._onTouchMove,t),t.node.off(cc.Node.EventType.TOUCH_END,t._onTouchEnd,t),t.node.off(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancel,t)},_onTouchStart:function(t){this._startNodePos=this.node.getPosition(),this._startTouchPos={x:t.touch._point.x,y:t.touch._point.y},this.dragStartEvent&&cc.Component.EventHandler.emitEvents([this.dragStartEvent],this.node,this._startNodePos)},_onTouchMove:function(t){if(this._startNodePos&&this._startTouchPos){var e=t.touch._point,i=e.x-this._startTouchPos.x,n=e.y-this._startTouchPos.y,o=this._startNodePos.x+i,s=this._startNodePos.y+n;this.boundsActive&&(this._checkBounds(),s>this.boundTop&&(s=this.boundTop),o>this.boundRight&&(o=this.boundRight),s<this.boundBottom&&(s=this.boundBottom),o<this.boundLeft&&(o=this.boundLeft));var r=cc.v2(o,s);this.node.setPosition(r),this.dragMoveEvent&&cc.Component.EventHandler.emitEvents([this.dragMoveEvent],this.node,r)}},_onTouchEnd:function(t){this.stopDarg()},_onTouchCancel:function(t){},_checkBounds:function(){!this._checkedBounds&&this.boundsActive&&(this.boundBottom>this.boundTop&&(cc.warn("The boundBottom > boundTop"),this.boundBottom=this.boundTop),this.boundRight<this.boundLeft&&(cc.warn("The boundRight > boundLeft"),this.boundRight=this.boundLeft),this._checkedBounds=!0)},stopDarg:function(){this._startNodePos=this._startTouchPos=null,this.dragEndEvent&&cc.Component.EventHandler.emitEvents([this.dragEndEvent],this.node,this.node.getPosition())}}),cc._RF.pop()},{}],Game:[function(t,e,i){"use strict";cc._RF.push(e,"a0208gxaz1DIqkvR6C+mTPj","Game");var n=t("Drag"),o=t("LocalStorage"),s=t("List");cc.Class({extends:cc.Component,properties:{titleNode:cc.Node,playNode:cc.Node,overNode:cc.Node,rankNode:cc.Node,rankSpriteFrames:[cc.SpriteFrame],listRank:s,rankNone:cc.Node,pieceNode:cc.Node,nameNode:cc.Node,time:cc.Label,overShowTime:cc.Label,edit:cc.EditBox,editErr:cc.Label,okAudio:cc.AudioSource,errAudio:cc.AudioSource},onLoad:function(){this.messData={1:cc.v2(-295,357),2:cc.v2(-451,-234),3:cc.v2(168,489),4:cc.v2(2,-484),5:cc.v2(-532,-450),6:cc.v2(-289,462),7:cc.v2(-662,436),8:cc.v2(-129,-468),9:cc.v2(613,-393),10:cc.v2(-874,96),11:cc.v2(370,-459),12:cc.v2(-117,479),13:cc.v2(755,-106),14:cc.v2(44,488),15:cc.v2(620,146),16:cc.v2(-716,109),17:cc.v2(-141,379),18:cc.v2(-475,468),19:cc.v2(-351,-411),20:cc.v2(-618,275),21:cc.v2(-722,-114),22:cc.v2(-788,266),23:cc.v2(-452,324),24:cc.v2(-632,-343),25:cc.v2(521,463),26:cc.v2(772,129),27:cc.v2(-829,-445),28:cc.v2(752,309),29:cc.v2(59,335),30:cc.v2(902,114),31:cc.v2(-522,222),32:cc.v2(214,488)},this.initComponent(),this.initGame()},start:function(){},initComponent:function(){var t=this;this.correctData={},this.allPiece(function(e){e.pid=+e.name,e.abbr=e.getChildByName("abbr"),e.drag=e.addComponent(n),e.drag.dragEndEvent=gL.Tools.createEvt(t,"onDragEnd"),e.drag.dragStartEvent=gL.Tools.createEvt(t,"onDragStart"),t.correctData[e.pid]=e.getPosition()})},initGame:function(){var t=this;this.titleNode.active=!0,this.rankNode.active=!1,this.playNode.active=!1,this.overNode.active=!1,this.allPiece(function(e){e.setPosition(t.messData[e.name]),e.abbr.active=!0,e.drag.enabled=!0}),this.sec=0},startGame:function(){this.titleNode.active=!1,this.rankNode.active=!1,this.playNode.active=!0,this.overNode.active=!1,this.allName(function(t){t.active=!1}),this.score=0,this.playing=!0},overGame:function(){this.titleNode.active=!1,this.rankNode.active=!1,this.playNode.active=!0,this.overNode.active=!0,this.playing=!1,this.overShowTime.string=this.sec.toFixed(2),this.editErr.node.opacity=0},switchRank:function(){var t=!this.rankNode.active;if(this.rankNode.active=t,t){for(var e in this.rankData=[],cc.sys.localStorage){var i=+cc.sys.localStorage[e];isNaN(i)||"length"==e||this.rankData.push({name:e,time:i})}if(gL.Tools.bubbleSort(this.rankData,"time"),this.listRank.numItems=this.rankData.length,this.rankNone.active=!this.rankData.length,this.scrollToRankName){for(var n=void 0,o=this.rankData.length-1;o>=0;o--){this.rankData[o].name==this.scrollToRankName&&(n=o)}null!=n&&this.listRank.scrollTo(n,.7,null,!0),delete this.scrollToRankName}}},onListRankRender:function(t,e){t.spRank||gL.Tools.parseNode(t,[["spRank",cc.Sprite],["labelRank",cc.Label],["labelName",cc.Label],["time",cc.Label]],1,null,1);var i=e<5;t.spRank.node.active=i,t.labelRank.node.active=!i,i?t.spRank.spriteFrame=this.rankSpriteFrames[e]:t.labelRank.string=e+1;var n=this.rankData[e];t.labelName.string=n.name,t.time.string=n.time.toFixed(2)},allPiece:function(t){for(var e=this.pieceNode.childrenCount-1;e>=0;e--){t(this.pieceNode.children[e])}},allName:function(t){for(var e=this.nameNode.childrenCount-1;e>=0;e--){t(this.nameNode.children[e])}},onDragStart:function(t,e){t.setSiblingIndex(t.parent.childrenCount-1)},onDragEnd:function(t,e){var i=this;t.drag.enabled=!1,gL.Tools.p2Dis(e,this.correctData[t.pid])<25?(cc.tween(t).to(.1,{position:this.correctData[t.pid]},{easing:"sineInOut"}).call(function(){t.abbr.active=!1,i.allName(function(e){+e.name==t.pid&&(e.active=!0,e.scale=0,cc.tween(e).to(.1,{scale:1}).start())})}).start(),this.score++,this.okAudio.play(),cc.log(this.score,this.correctData.length),this.score>=this.pieceNode.childrenCount&&this.overGame()):(cc.tween(t).to(.3,{position:this.messData[t.pid]},{easing:"sineInOut"}).call(function(){t.drag.enabled=!0}).start(),this.errAudio.play())},update:function(t){this.playing&&(this.sec+=t,this.time.string=this.sec.toFixed(2))},btnEv:function(t){switch(t.currentTarget.name){case"btnConfirm":if(!this.edit.string.replace(" ","").length)return this.editErrTween&&this.editErrTween.stop(),void(this.editErrTween=cc.tween(this.editErr.node).to(.01,{opacity:255}).delay(2).to(1,{opacity:0}).start());o.setItem(this.edit.string,this.sec),this.initGame(),this.scrollToRankName=this.edit.string,this.switchRank()}}}),cc._RF.pop()},{Drag:"Drag",List:"List",LocalStorage:"LocalStorage"}],Gesture:[function(t,e,i){"use strict";cc._RF.push(e,"21f4aJ57eVFqYjiFftN18S/","Gesture");cc.Enum({UP:1,RIGHT:2,DOWN:3,LEFT:4});cc.Class({editor:{menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Gesture"},extends:cc.Component,properties:{minDistance:{default:100,min:0,step:1,tooltip:!1},maxDistance:{default:300,min:-1,step:1,tooltip:!1},events:{default:[],type:cc.Component.EventHandler,tooltip:!1}},onEnable:function(){this.node.on(cc.Node.EventType.TOUCH_START,this._onSlideStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._onSliding,this),this.node.on(cc.Node.EventType.TOUCH_END,this._onSlideStop,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._onSlideStop,this)},onDisable:function(){this.node.off(cc.Node.EventType.TOUCH_START,this._onSlideStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this._onSliding,this),this.node.off(cc.Node.EventType.TOUCH_END,this._onSlideStop,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this._onSlideStop,this)},_onSlideStart:function(t){this._startPos=t.touch._point.clone(),this.interruption=null},_onSliding:function(t){this.maxDistance<=0||this.interruption||this._startPos.sub(t.touch._point.clone()).mag()>this.maxDistance&&(this._onSlideStop(t),this.interruption=!0)},_onSlideStop:function(t){if(this.interruption)return this.interruption=null;this._stopPos=t.touch._point.clone();for(var e=[this._stopPos.y-this._startPos.y,this._stopPos.x-this._startPos.x,this._startPos.y-this._stopPos.y,this._startPos.x-this._stopPos.x],i=e[e.length-1],n=e.length-1,o=e.length-2;o>=0;o--)i<e[o]&&(i=e[o],n=o);this._startPos.sub(this._stopPos).mag()<this.minDistance||(this.event(n+1),this._startPos=null)},event:function(t){cc.Component.EventHandler.emitEvents(this.events,t)}}),cc._RF.pop()},{}],Global:[function(t,e,i){(function(t){"use strict";cc._RF.push(e,"47c14mvmydDeYG0SWtiIrPU","Global"),("undefined"==typeof window?t:window).gL={ZS_TYPE:{FIST:1,SWORD:2,KNIFE:3,POLE:4,LEG:5,FINGER:6,WHIP:7,DART:7,VARIETY:9,DOUBLE:10},DARK_HEX:{DEFAULT:"FFFFFF",GRAY:"A5A5A5",BLUE:"16A9E5",PURPLE:"D458FD",YELLOW:"fed433",ORANGE_RED:"FF3600",PINK:"FF009C",GREEN:"50F225",ORANGE:"FF9000",RED:"FF0000",RED2:"FB4F4F"},LIGHT_HEX:{DEFAULT:"000000",DEFAULT2:"2C366B",GRAY:"8A8A8A",BLUE:"0069B3",PURPLE:"7C00A5",YELLOW:"B59000",ORANGE_RED:"C72A00",PINK:"FF009C",GREEN:"06A202",ORANGE:"A66200",RED:"A80000"}},cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],HtmlTextParser:[function(t,e,i){"use strict";cc._RF.push(e,"7b31c5PbXJEDKABFTxGOXGj","HtmlTextParser");var n=/^(click)(\s)*=|(param)(\s)*=/,o=/(\s)*src(\s)*=|(\s)*height(\s)*=|(\s)*width(\s)*=|(\s)*click(\s)*=|(\s)*param(\s)*=/,s=function(){this._parsedObject={},this._specialSymbolArray=[],this._specialSymbolArray.push([/&lt;/g,"<"]),this._specialSymbolArray.push([/&gt;/g,">"]),this._specialSymbolArray.push([/&amp;/g,"&"]),this._specialSymbolArray.push([/&quot;/g,'"']),this._specialSymbolArray.push([/&apos;/g,"'"])};s.prototype={constructor:s,parse:function(t){this._resultObjectArray=[],this._stack=[];for(var e=0,i=t.length;e<i;){var n=t.indexOf("<",e);if(n<0)this._stack.pop(),this._processResult(t.substring(e)),e=i;else{this._processResult(t.substring(e,n));var o=t.indexOf(">",e);-1===o?o=n:"/"===t.charAt(n+1)?this._stack.pop():this._addToStack(t.substring(n+1,o)),e=o+1}}return this._resultObjectArray},_attributeToObject:function(t){var e,i,n,s,r={},a=(t=t.trim()).match(/^(color|size)(\s)*=/);if(a){if(e=a[0],""===(t=t.substring(e.length).trim()))return r;switch(i=t.indexOf(" "),e[0]){case"c":r.color=i>-1?t.substring(0,i).trim():t;break;case"s":r.size=parseInt(t)}return i>-1&&(s=t.substring(i+1).trim(),n=this._processEventHandler(s),r.event=n),r}if((a=t.match(/^(br(\s)*\/)/))&&a[0].length>0&&(e=a[0].trim()).startsWith("br")&&"/"===e[e.length-1])return r.isNewLine=!0,this._resultObjectArray.push({text:"",style:{newline:!0}}),r;if((a=t.match(/^(img(\s)*src(\s)*=[^>]+\/)/))&&a[0].length>0&&(e=a[0].trim()).startsWith("img")&&"/"===e[e.length-1]){var c;a=t.match(o);for(var l=!1;a;)e=(t=t.substring(t.indexOf(a[0]))).substr(0,a[0].length),u=(i=(c=t.substring(e.length).trim()).indexOf(" "))>-1?c.substr(0,i):c,e=(e=e.replace(/[^a-zA-Z]/g,"").trim()).toLocaleLowerCase(),t=c.substring(i).trim(),"src"===e?(r.isImage=!0,u.endsWith("/")&&(u=u.substring(0,u.length-1)),0===u.indexOf("'")?(l=!0,u=u.substring(1,u.length-1)):0===u.indexOf('"')&&(l=!0,u=u.substring(1,u.length-1)),r.src=u):"height"===e?r.imageHeight=parseInt(u):"width"===e?r.imageWidth=parseInt(u):"click"===e&&(r.event=this._processEventHandler(e+"="+u)),r.event&&"param"===e&&(r.event.param=u.replace(/^\"|\"$/g,"")),a=t.match(o);return l&&r.isImage&&this._resultObjectArray.push({text:"",style:r}),{}}if(a=t.match(/^(outline(\s)*[^>]*)/)){var h={color:"#ffffff",width:1};if(t=a[0].substring("outline".length).trim()){var u,d=/(\s)*color(\s)*=|(\s)*width(\s)*=|(\s)*click(\s)*=|(\s)*param(\s)*=/;for(a=t.match(d);a;)e=(t=t.substring(t.indexOf(a[0]))).substr(0,a[0].length),u=(i=(c=t.substring(e.length).trim()).indexOf(" "))>-1?c.substr(0,i):c,e=(e=e.replace(/[^a-zA-Z]/g,"").trim()).toLocaleLowerCase(),t=c.substring(i).trim(),"click"===e?r.event=this._processEventHandler(e+"="+u):"color"===e?h.color=u:"width"===e&&(h.width=parseInt(u)),r.event&&"param"===e&&(r.event.param=u.replace(/^\"|\"$/g,"")),a=t.match(d)}r.outline=h}if((a=t.match(/^(on|u|b|i)(\s)*/))&&a[0].length>0){switch(e=a[0],t=t.substring(e.length).trim(),e[0]){case"u":r.underline=!0;break;case"i":r.italic=!0;break;case"b":r.bold=!0}if(""===t)return r;n=this._processEventHandler(t),r.event=n}return r},_processEventHandler:function(t){for(var e=0,i={},o=t.match(n),s=!1;o;){var r=o[0],a="";if(s=!1,'"'===(t=t.substring(r.length).trim()).charAt(0))(e=t.indexOf('"',1))>-1&&(a=t.substring(1,e).trim(),s=!0),e++;else if("'"===t.charAt(0))(e=t.indexOf("'",1))>-1&&(a=t.substring(1,e).trim(),s=!0),e++;else{var c=t.match(/(\S)+/);e=(a=c?c[0]:"").length}s&&(i[r=r.substring(0,r.length-1).trim()]=a),o=(t=t.substring(e).trim()).match(n)}return i},_addToStack:function(t){var e=this._attributeToObject(t);if(0===this._stack.length)this._stack.push(e);else{if(e.isNewLine||e.isImage)return;var i=this._stack[this._stack.length-1];for(var n in i)e[n]||(e[n]=i[n]);this._stack.push(e)}},_processResult:function(t){""!==t&&(t=this._escapeSpecialSymbol(t),this._stack.length>0?this._resultObjectArray.push({text:t,style:this._stack[this._stack.length-1]}):this._resultObjectArray.push({text:t}))},_escapeSpecialSymbol:function(t){for(var e=0;e<this._specialSymbolArray.length;++e){var i=this._specialSymbolArray[e][0],n=this._specialSymbolArray[e][1];t=t.replace(i,n)}return t}},e.exports=s,cc._RF.pop()},{}],ListItem:[function(t,e,i){"use strict";cc._RF.push(e,"23894dJFRhDN6afIEJWqoJd","ListItem");var n=cc.Enum({NONE:0,TOGGLE:1,SWITCH:2});cc.Class({editor:{disallowMultiple:!1,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List Item",executionOrder:-5001},extends:cc.Component,properties:{icon:{default:null,type:cc.Sprite},title:cc.Node,selectedMode:{default:n.NONE,type:n,tooltip:!1},selectedFlag:{default:null,type:cc.Node,visible:function(){var t=this.selectedMode>0;return t||(this.selectedFlag=null),t}},selectedSpriteFrame:{default:null,type:cc.SpriteFrame,visible:function(){var t=this.selectedMode==n.SWITCH;return t||(this.selectedSpriteFrame=null),t}},_selected:!1,selected:{visible:!1,get:function(){return this._selected},set:function(t){if(this._selected=t,this.selectedFlag)switch(this.selectedMode){case n.TOGGLE:this.selectedFlag.active=t;break;case n.SWITCH:this.selectedFlag.spriteFrame=t?this.selectedSpriteFrame:this._unselectedSpriteFrame}}}},onLoad:function(){if(this.title){var t=this.title.getComponent(cc.Label);t||(t=this.title.getComponent(cc.RichText)),this.title=t}if(this._btnCom=this.node.getComponent(cc.Button),this._btnCom||(this.selectedMode,n.NONE),this.selectedMode==n.SWITCH){var e=this.selectedFlag.getComponent(cc.Sprite);this.selectedFlag=e,this._unselectedSpriteFrame=e.spriteFrame}},_registerEvent:function(){if(this._btnCom&&this._list.selectedMode>0&&!this.eventReg){var t=new cc.Component.EventHandler;t.target=this.node,t.component="ListItem",t.handler="onClickThis",this._btnCom.clickEvents.unshift(t),this.eventReg=!0}},showAni:function(t,e,i){var n=this,o=void 0;switch(t){case 0:o=[new cc.scaleTo(.2,.7),new cc.moveBy(.3,0,2*this.node.height)];break;case 1:o=[new cc.scaleTo(.2,.7),new cc.moveBy(.3,2*this.node.width,0)];break;case 2:o=[new cc.scaleTo(.2,.7),new cc.moveBy(.3,0,-2*this.node.height)];break;case 3:o=[new cc.scaleTo(.2,.7),new cc.moveBy(.3,-2*this.node.width,0)];break;default:o=[new cc.scaleTo(.3,.1)]}(e||i)&&o.push(new cc.CallFunc(function(){if(i){n._list._delSingleItem(n.node);for(var t=n._list.displayData.length-1;t>=0;t--)if(n._list.displayData[t].listId==n.node._listId){n._list.displayData.splice(t,1);break}}e()})),this.node.runAction(new cc.Sequence(o))},onClickThis:function(){this._list.selectedId=this.node._listId}}),cc._RF.pop()},{}],List:[function(t,e,i){"use strict";cc._RF.push(e,"1ac1clssBBGlozAmaJDZci5","List");var n=cc.Enum({NODE:1,PREFAB:2}),o=cc.Enum({NORMAL:1,ADHERING:2,PAGE:3}),s=cc.Enum({NONE:0,SINGLE:1,MULT:2}),r=t("ListItem");cc.Class({extends:cc.Component,editor:{disallowMultiple:!1,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List",requireComponent:cc.ScrollView,executionOrder:-5e3},properties:{templateType:{default:n.NODE,type:n},tmpNode:{default:null,type:cc.Node,tooltip:!1,visible:function(){var t=this.templateType==n.NODE;return t||(this.tmpNode=null),t}},tmpPrefab:{default:null,type:cc.Prefab,tooltip:!1,visible:function(){var t=this.templateType==n.PREFAB;return t||(this.tmpPrefab=null),t}},_slideMode:1,slideMode:{type:o,tooltip:!1,get:function(){return this._slideMode},set:function(t){null!=t&&(this._slideMode=t)}},pageDistance:{default:.3,type:cc.Float,range:[0,1,.1],tooltip:!1,slide:!0,visible:function(){return this._slideMode==o.PAGE}},pageChangeEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1,visible:function(){var t=this._slideMode==o.PAGE;return t||(this.pageChangeEvent=null),t}},_virtual:!0,virtual:{tooltip:!1,get:function(){return this._virtual},set:function(t){null!=t&&(this._virtual=t),0!=this._numItems&&this._onScrolling()}},lackCenter:{default:!1,tooltip:!1,visible:function(){return this.virtual}},_updateRate:2,updateRate:{type:cc.Integer,range:[0,6,1],tooltip:!1,slide:!0,get:function(){return this._updateRate},set:function(t){t>=0&&t<=6&&(this._updateRate=t)}},frameByFrameRenderNum:{default:0,type:cc.Integer,range:[0,12,1],tooltip:!1,slide:!0},renderEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1},selectedMode:{default:s.NONE,type:s,tooltip:!1},repeatEventSingle:{default:!1,tooltip:!1,visible:function(){return this.selectedMode==s.SINGLE}},selectedEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1,visible:function(){var t=this.selectedMode>0;return t||(this.selectedEvent=null),t}},_selectedId:-1,selectedId:{visible:!1,get:function(){return this._selectedId},set:function(t){var e=this,i=void 0;switch(e.selectedMode){case s.SINGLE:if(!e.repeatEventSingle&&t==e._selectedId)return;if(i=e.getItemByListId(t),e._selectedId>=0?e._lastSelectedId=e._selectedId:e._lastSelectedId=null,e._selectedId=t,i&&(i.listItem.selected=!0),e._lastSelectedId>=0&&e._lastSelectedId!=e._selectedId){var n=e.getItemByListId(e._lastSelectedId);n&&(n.listItem.selected=!1)}e.selectedEvent&&cc.Component.EventHandler.emitEvents([e.selectedEvent],i,t,e._lastSelectedId);break;case s.MULT:if(!(i=e.getItemByListId(t)))return;e._selectedId>=0&&(e._lastSelectedId=e._selectedId),e._selectedId=t;var o=!i.listItem.selected;i.listItem.selected=o;var r=e.multSelected.indexOf(t);o&&r<0?e.multSelected.push(t):!o&&r>=0&&e.multSelected.splice(r,1),e.selectedEvent&&cc.Component.EventHandler.emitEvents([e.selectedEvent],i,t,e._lastSelectedId,o)}}},_numItems:{default:0,serializable:!1},numItems:{visible:!1,get:function(){return this._numItems},set:function(t){var e=this;if(e.checkInited())if(null==t||t<0)cc.error("numItems set the wrong::",t);else if(e._numItems=t,e._forceUpdate=!0,e._virtual)e._resizeContent(),e._onScrolling();else{var i=e.content.getComponent(cc.Layout);if(i&&(i.enabled=!0),e._delRedundantItem(),e.firstListId=0,e.frameByFrameRenderNum>0){for(var n=e.frameByFrameRenderNum>e._numItems?e._numItems:e.frameByFrameRenderNum,o=0;o<n;o++)e._createOrUpdateItem2(o);e.frameByFrameRenderNum<e._numItems&&(e._updateCounter=e.frameByFrameRenderNum,e._updateDone=!1)}else{for(var s=0;s<t;s++)e._createOrUpdateItem2(s);e.actualNumItems=t}}}}},onLoad:function(){this._init()},onDestroy:function(){this._itemTmp&&this._itemTmp.destroy();for(var t=this._pool.size();this._pool.size();){this._pool.get().destroy()}t&&cc.log("-----------------"+this.node.name+"<List> destroy node total num. =>",t)},onEnable:function(){this._registerEvent(),this._init()},onDisable:function(){this._unregisterEvent()},_registerEvent:function(){var t=this;t.node.on(cc.Node.EventType.TOUCH_START,this._onTouchStart,this,!0),t.node.on("touch-up",t._onTouchUp,t,!0),t.node.on(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancelled,t,!0),t.node.on("scroll-began",t._onScrollBegan,t,!0),t.node.on("scroll-ended",t._onScrollEnded,t,!0),t.node.on("scrolling",t._onScrolling,t,!0)},_unregisterEvent:function(){var t=this;t.node.off(cc.Node.EventType.TOUCH_START,this._onTouchStart,this,!0),t.node.off("touch-up",t._onTouchUp,t,!0),t.node.off(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancelled,t,!0),t.node.off("scroll-began",t._onScrollBegan,t,!0),t.node.off("scroll-ended",t._onScrollEnded,t,!0),t.node.off("scrolling",t._onScrolling,t,!0)},_init:function(){var t=this;if(!t._inited)if(t._scrollView=t.node.getComponent(cc.ScrollView),t._scrollView)if(t.content=t._scrollView.content,t.content){switch(t.initContentAnchor=t.content.getAnchorPoint(),t._layout=t.content.getComponent(cc.Layout),t._align=t._layout.type,t._resizeMode=t._layout.resizeMode,t._startAxis=t._layout.startAxis,t._topGap=t._layout.paddingTop,t._rightGap=t._layout.paddingRight,t._bottomGap=t._layout.paddingBottom,t._leftGap=t._layout.paddingLeft,t._columnGap=t._layout.spacingX,t._lineGap=t._layout.spacingY,t._colLineNum,t._verticalDir=t._layout.verticalDirection,t._horizontalDir=t._layout.horizontalDirection,t.setTemplateItem(t.templateType==n.PREFAB?cc.instantiate(t.tmpPrefab):t.tmpNode),t._slideMode!=o.ADHERING&&t._slideMode!=o.PAGE||(t._scrollView.inertia=!1),t.virtual||(t.lackCenter=!1),t._lastDisplayData=[],t.displayData=[],t._pool=new cc.NodePool,t._forceUpdate=!1,t._updateCounter=0,t._updateDone=!0,t.curPageNum=0,t._align){case cc.Layout.Type.HORIZONTAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}break;case cc.Layout.Type.VERTICAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.Type.GRID:switch(t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.AxisDirection.VERTICAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}}}t.content.removeAllChildren(),t._inited=!0}else cc.error(t.node.name+"'s cc.ScrollView unset content!");else cc.error(t.node.name+" no assembly cc.ScrollView!")},setTemplateItem:function(t){if(t){var e=this;e._itemTmp=t,e._resizeMode==cc.Layout.ResizeMode.CHILDREN?e._itemSize=e._layout.cellSize:e._itemSize=new cc.size(e._itemTmp.width,e._itemTmp.height);var i=e._itemTmp.getComponent(r),n=!1;switch(i||(n=!0),i&&(i._btnCom||e._itemTmp.getComponent(cc.Button)||(n=!0)),n&&(e.selectedMode=s.NONE),e.selectedMode==s.MULT&&(e.multSelected=[]),e._align){case cc.Layout.Type.HORIZONTAL:e._colLineNum=1,e._sizeType=!1;break;case cc.Layout.Type.VERTICAL:e._colLineNum=1,e._sizeType=!0;break;case cc.Layout.Type.GRID:switch(e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var o=e.content.width-e._leftGap-e._rightGap;e._colLineNum=Math.floor((o+e._columnGap)/(e._itemSize.width+e._columnGap)),e._sizeType=!0;break;case cc.Layout.AxisDirection.VERTICAL:var a=e.content.height-e._topGap-e._bottomGap;e._colLineNum=Math.floor((a+e._lineGap)/(e._itemSize.height+e._lineGap)),e._sizeType=!1}}}},checkInited:function(t){var e=t||!0;return!!this._inited||(e&&cc.error("List initialization not completed!"),!1)},_resizeContent:function(){var t=this,e=void 0;switch(t._align){case cc.Layout.Type.HORIZONTAL:if(t.customSize){var i=t._getFixedSize();e=t._leftGap+i.val+t._itemSize.width*(t._numItems-i.count)+t._columnGap*(t._numItems-1)+t._rightGap}else e=t._leftGap+t._itemSize.width*t._numItems+t._columnGap*(t._numItems-1)+t._rightGap;break;case cc.Layout.Type.VERTICAL:if(t.customSize){var n=t._getFixedSize();e=t._topGap+n.val+t._itemSize.height*(t._numItems-n.count)+t._lineGap*(t._numItems-1)+t._bottomGap}else e=t._topGap+t._itemSize.height*t._numItems+t._lineGap*(t._numItems-1)+t._bottomGap;break;case cc.Layout.Type.GRID:switch(t.lackCenter&&(t.lackCenter=!1),t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var o=Math.ceil(t._numItems/t._colLineNum);e=t.content.height=t._topGap+t._itemSize.height*o+t._lineGap*(o-1)+t._bottomGap;break;case cc.Layout.AxisDirection.VERTICAL:var s=Math.ceil(t._numItems/t._colLineNum);e=t.content.width=t._leftGap+t._itemSize.width*s+t._columnGap*(s-1)+t._rightGap}}var r=t.content.getComponent(cc.Layout);r&&(r.enabled=!1),t._allItemSize=e;var a=void 0;t._sizeType?((a=e<t.node.height?t.node.height-.1:e)<0&&(a=0),t._lackSize=t.lackCenter?a:null,t._allItemSizeNoBorder=t._allItemSize-t._topGap-t._bottomGap,t.content.height=a):((a=e<t.node.width?t.node.width-.1:e)<0&&(a=0),t._lackSize=t.lackCenter?a:null,t._allItemSizeNoBorder=t._allItemSize-t._leftGap-t._rightGap,t.content.width=a)},_onScrolling:function(t){if(null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&t&&"scroll-ended"!=t.type&&this.frameCount>0)this.frameCount--;else if(this.frameCount=this._updateRate,!this._aniDelRuning){this._calcViewPos();var e=void 0,i=void 0,n=void 0,o=void 0;if(this._sizeType?(e=this.viewTop,n=this.viewBottom):(i=this.viewRight,o=this.viewLeft),this._virtual){this.displayData=[];var s=void 0,r=0,a=this._numItems-1;if(this.customSize)for(var c=!1;r<=a&&!c;r++)switch(s=this._calcItemPos(r),this._align){case cc.Layout.Type.HORIZONTAL:s.right>=o&&s.left<=i?this.displayData.push(s):0!=r&&this.displayData.length>0&&(c=!0);break;case cc.Layout.Type.VERTICAL:s.bottom<=e&&s.top>=n?this.displayData.push(s):0!=r&&this.displayData.length>0&&(c=!0);break;case cc.Layout.Type.GRID:switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:s.bottom<=e&&s.top>=n?this.displayData.push(s):0!=r&&this.displayData.length>0&&(c=!0);break;case cc.Layout.AxisDirection.VERTICAL:s.right>=o&&s.left<=i?this.displayData.push(s):0!=r&&this.displayData.length>0&&(c=!0)}}else{var l=this._itemSize.width+this._columnGap,h=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:r=(o+this._leftGap)/l,a=(i+this._rightGap)/l;break;case 2:r=(-i-this._rightGap)/l,a=(-o-this._leftGap)/l;break;case 3:r=(-e-this._topGap)/h,a=(-n-this._bottomGap)/h;break;case 4:r=(n+this._bottomGap)/h,a=(e+this._topGap)/h}for(r=Math.floor(r)*this._colLineNum,a=Math.ceil(a)*this._colLineNum,a--,r<0&&(r=0),a>=this._numItems&&(a=this._numItems-1);r<=a;r++)this.displayData.push(this._calcItemPos(r))}if(this.displayData.length<=0||!this._numItems)return void this._delRedundantItem();this.firstListId=this.displayData[0].id,this.actualNumItems=this.displayData.length;var u=this._lastDisplayData.length;if(this._forceUpdate||this.actualNumItems!=u||this.firstListId!=this._lastDisplayData[0]||this.displayData[this.actualNumItems-1].id!=this._lastDisplayData[u-1])if(this._lastDisplayData=[],this.frameByFrameRenderNum>0)this._numItems>0?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._delRedundantItem(),this._updateCounter=0,this._updateDone=!0);else{for(var d=0;d<this.actualNumItems;d++)this._createOrUpdateItem(this.displayData[d]);this._delRedundantItem(),this._forceUpdate=!1}this._calcNearestItem()}}},_calcViewPos:function(){var t=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=t.x>0?t.x:0,this.viewLeft=(t.x<0?-t.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this.node.width,this.elasticRight=this.viewRight>this.content.width?Math.abs(this.viewRight-this.content.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=t.x<0?-t.x:0,this.viewRight=(t.x>0?-t.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this.node.width,this.elasticLeft=this.viewLeft<-this.content.width?Math.abs(this.viewLeft+this.content.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=t.y<0?Math.abs(t.y):0,this.viewTop=(t.y>0?-t.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this.node.height,this.elasticBottom=this.viewBottom<-this.content.height?Math.abs(this.viewBottom+this.content.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=t.y>0?Math.abs(t.y):0,this.viewBottom=(t.y<0?-t.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this.node.height,this.elasticTop=this.viewTop>this.content.height?Math.abs(this.viewTop-this.content.height):0,this.viewTop-=this.elasticTop}},_calcItemPos:function(t){var e=void 0,i=void 0,n=void 0,o=void 0,s=void 0,r=void 0,a=void 0,c=void 0;switch(this._align){case cc.Layout.Type.HORIZONTAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:if(this.customSize){var l=this._getFixedSize(t);s=this._leftGap+(this._itemSize.width+this._columnGap)*(t-l.count)+(l.val+this._columnGap*l.count);var h=this.customSize[t];e=h>0?h:this._itemSize.width}else s=this._leftGap+(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;if(r=s+e,this.lackCenter&&this._lackSize>=0){var u=this.content.width/2-this._allItemSizeNoBorder/2;s+=u,r+=u}return{id:t,left:s,right:r,x:s+this._itemTmp.anchorX*e,y:this._itemTmp.y};case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:if(this.customSize){var d=this._getFixedSize(t);r=-this._rightGap-(this._itemSize.width+this._columnGap)*(t-d.count)-(d.val+this._columnGap*d.count);var p=this.customSize[t];e=p>0?p:this._itemSize.width}else r=-this._rightGap-(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;if(s=r-e,this.lackCenter&&this._lackSize>=0){var f=this.content.width/2-this._allItemSizeNoBorder/2;s-=f,r-=f}return{id:t,right:r,left:s,x:s+this._itemTmp.anchorX*e,y:this._itemTmp.y}}break;case cc.Layout.Type.VERTICAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:if(this.customSize){var m=this._getFixedSize(t);n=-this._topGap-(this._itemSize.height+this._lineGap)*(t-m.count)-(m.val+this._lineGap*m.count);var _=this.customSize[t];o=n-(i=_>0?_:this._itemSize.height)}else n=-this._topGap-(this._itemSize.height+this._lineGap)*t,i=this._itemSize.height;if(o=n-i,this.lackCenter&&this._lackSize>=0){var g=this.content.height/2-this._allItemSizeNoBorder/2;n-=g,o-=g}return{id:t,top:n,bottom:o,x:this._itemTmp.x,y:o+this._itemTmp.anchorY*i};case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:if(this.customSize){var v=this._getFixedSize(t);o=this._bottomGap+(this._itemSize.height+this._lineGap)*(t-v.count)+(v.val+this._lineGap*v.count);var T=this.customSize[t];i=T>0?T:this._itemSize.height}else o=this._bottomGap+(this._itemSize.height+this._lineGap)*t,i=this._itemSize.height;if(n=o+i,this.lackCenter&&this._lackSize>=0){var y=this.content.height/2-this._allItemSizeNoBorder/2;n+=y,o+=y}return{id:t,top:n,bottom:o,x:this._itemTmp.x,y:o+this._itemTmp.anchorY*i}}case cc.Layout.Type.GRID:var b=Math.floor(t/this._colLineNum);switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:c=(o=(n=-this._topGap-(this._itemSize.height+this._lineGap)*b)-this._itemSize.height)+this._itemTmp.anchorY*this._itemSize.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:n=(o=this._bottomGap+(this._itemSize.height+this._lineGap)*b)+this._itemSize.height,c=o+this._itemTmp.anchorY*this._itemSize.height}switch(a=this._leftGap+t%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:a+=this._itemTmp.anchorX*this._itemSize.width,a-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:a+=(1-this._itemTmp.anchorX)*this._itemSize.width,a-=(1-this.content.anchorX)*this.content.width,a*=-1}return{id:t,top:n,bottom:o,x:a,y:c};case cc.Layout.AxisDirection.VERTICAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:r=(s=this._leftGap+(this._itemSize.width+this._columnGap)*b)+this._itemSize.width,a=s+this._itemTmp.anchorX*this._itemSize.width,a-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:a=(s=(r=-this._rightGap-(this._itemSize.width+this._columnGap)*b)-this._itemSize.width)+this._itemTmp.anchorX*this._itemSize.width,a+=(1-this.content.anchorX)*this.content.width}switch(c=-this._topGap-t%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:c-=(1-this._itemTmp.anchorY)*this._itemSize.height,c+=(1-this.content.anchorY)*this.content.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:c-=this._itemTmp.anchorY*this._itemSize.height,c+=this.content.anchorY*this.content.height,c*=-1}return{id:t,left:s,right:r,x:a,y:c}}}},_calcExistItemPos:function(t){var e=this.getItemByListId(t);if(!e)return null;var i={id:t,x:e.x,y:e.y};return this._sizeType?(i.top=e.y+e.height*(1-e.anchorY),i.bottom=e.y-e.height*e.anchorY):(i.left=e.x-e.width*e.anchorX,i.right=e.x+e.width*(1-e.anchorX)),i},getItemPos:function(t){return this._virtual?this._calcItemPos(t):this.frameByFrameRenderNum?this._calcItemPos(t):this._calcExistItemPos(t)},_getFixedSize:function(t){if(!this.customSize)return null;null==t&&(t=this._numItems);var e=0,i=0;for(var n in this.customSize)parseInt(n)<t&&(e+=this.customSize[n],i++);return{val:e,count:i}},_onScrollBegan:function(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft},_onScrollEnded:function(){var t=this;if(null!=t.scrollToListId){var e=t.getItemByListId(t.scrollToListId);t.scrollToListId=null,e&&e.runAction(new cc.sequence(new cc.scaleTo(.1,1.06),new cc.scaleTo(.1,1)))}t._onScrolling(),t._slideMode!=o.ADHERING||t.adhering?t._slideMode==o.PAGE&&(null!=t._beganPos?this._pageAdhere():t.adhere()):t.adhere()},_onTouchStart:function(t,e){if(!this._scrollView._hasNestedViewGroup(t,e)&&!(t.eventPhase===cc.Event.AT_TARGET&&t.target===this.node)){for(var i=t.target;null==i._listId&&i.parent;)i=i.parent;this._scrollItem=null!=i._listId?i:t.target}},_onTouchUp:function(){var t=this;t._scrollPos=null,t._slideMode==o.ADHERING?(t.adhering&&(t._adheringBarrier=!0),t.adhere()):t._slideMode==o.PAGE&&(null!=t._beganPos?t._pageAdhere():t.adhere()),this._scrollItem=null},_onTouchCancelled:function(t,e){var i=this;i._scrollView._hasNestedViewGroup(t,e)||t.simulate||(i._scrollPos=null,i._slideMode==o.ADHERING?(i.adhering&&(i._adheringBarrier=!0),i.adhere()):i._slideMode==o.PAGE&&(null!=i._beganPos?i._pageAdhere():i.adhere()),this._scrollItem=null)},_pageAdhere:function(){var t=this;if(!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){var e=t._sizeType?t.viewTop:t.viewLeft,i=(t._sizeType?t.node.height:t.node.width)*t.pageDistance;if(Math.abs(t._beganPos-e)>i){switch(t._alignCalcType){case 1:case 4:t._beganPos>e?t.prePage(.5):t.nextPage(.5);break;case 2:case 3:t._beganPos<e?t.prePage(.5):t.nextPage(.5)}}else t.elasticTop<=0&&t.elasticRight<=0&&t.elasticBottom<=0&&t.elasticLeft<=0&&t.adhere();t._beganPos=null}},adhere:function(){var t=this;if(!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){t.adhering=!0,t._calcNearestItem();var e=(t._sizeType?t._topGap:t._leftGap)/(t._sizeType?t.node.height:t.node.width);t.scrollTo(t.nearestListId,.7,e)}},update:function(){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){for(var t=this._updateCounter+this.frameByFrameRenderNum>this.actualNumItems?this.actualNumItems:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++){var i=this.displayData[e];i&&this._createOrUpdateItem(i)}this._updateCounter>=this.actualNumItems-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._scrollView.isScrolling()||(this._doneAfterUpdate=!1)):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem()):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){for(var n=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,o=this._updateCounter;o<n;o++)this._createOrUpdateItem2(o);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem()},_createOrUpdateItem:function(t){var e=this.getItemByListId(t.id);if(e)this._forceUpdate&&this.renderEvent&&(e.setPosition(new cc.v2(t.x,t.y)),this._resetItemSize(e),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t.id));else{(e=this._pool.size()?this._pool.get():cc.instantiate(this._itemTmp))._listId=t.id,e.setPosition(new cc.v2(t.x,t.y)),this._resetItemSize(e),this.content.addChild(e),e.setSiblingIndex(this.content.childrenCount-1);var i=e.getComponent(r);e.listItem=i,i&&(i._list=this,i._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t.id)}this._resetItemSize(e),this._updateListItem(e.listItem),this._lastDisplayData.indexOf(t.id)<0&&this._lastDisplayData.push(t.id)},_createOrUpdateItem2:function(t){var e=this.content.children[t];if(e)this._forceUpdate&&this.renderEvent&&(e._listId=t,this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t));else{(e=cc.instantiate(this._itemTmp))._listId=t,this.content.addChild(e);var i=e.getComponent(r);e.listItem=i,i&&(i._list=this,i._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t)}this._updateListItem(e.listItem),this._lastDisplayData.indexOf(t)<0&&this._lastDisplayData.push(t)},_updateListItem:function(t){if(t&&this.selectedMode>s.NONE)switch(this.selectedMode){case s.SINGLE:t.selected=this.selectedId==t.node._listId;break;case s.MULT:t.selected=this.multSelected.indexOf(t.node._listId)>=0}},_resetItemSize:function(t){if(this.customSize&&this.customSize[t._listId]){var e=this.customSize[t._listId];this._align==cc.Layout.Type.HORIZONTAL?t.width=e:this._align==cc.Layout.Type.VERTICAL&&(t.height=e)}else t.setContentSize(this._itemSize)},setMultSelected:function(t,e){var i=this;if(Array.isArray(t)||(t=[t]),null==e)i.multSelected=t;else{var n=void 0,o=void 0;if(e)for(var s=t.length-1;s>=0;s--)n=t[s],(o=i.multSelected.indexOf(n))<0&&i.multSelected.push(n);else for(var r=t.length-1;r>=0;r--)n=t[r],(o=i.multSelected.indexOf(n))>=0&&i.multSelected.splice(o,1)}i._forceUpdate=!0,i._onScrolling()},updateItem:function(t){Array.isArray(t)||(t=[t]);for(var e=0,i=t.length;e<i;e++){var n=t[e],o=this.getItemByListId(n);o&&cc.Component.EventHandler.emitEvents([this.renderEvent],o,n)}},updateAll:function(){this.numItems=this.numItems},getItemByListId:function(t){for(var e=this.content.childrenCount-1;e>=0;e--)if(this.content.children[e]._listId==t)return this.content.children[e]},_getOutsideItem:function(){for(var t=void 0,e=void 0,i=[],n=this.content.childrenCount-1;n>=0;n--){if(t=this.content.children[n],e=!0)for(var o=this.actualNumItems-1;o>=0;o--)if(this.displayData[o]){var s=this.displayData[o].id;if(t._listId==s){e=!1;break}}e&&i.push(t)}return i},_delRedundantItem:function(){if(this._virtual)for(var t=this._getOutsideItem(),e=t.length-1;e>=0;e--){var i=t[e];this._scrollItem&&i._listId==this._scrollItem._listId||this._pool.put(i)}else for(;this.content.childrenCount>this._numItems;)this._delSingleItem(this.content.children[this.content.childrenCount-1])},_delSingleItem:function(t){t.removeFromParent(),t.destroy&&t.destroy(),t=null},aniDelItem:function(t,e,i){var n=this,o=n.getItemByListId(t);if(!n._aniDelRuning&&n._virtual)if(o){n._aniDelRuning=!0;var r=n.displayData[n.displayData.length-1].id,a=o.listItem.selected;o.listItem.showAni(i,function(){var i=void 0;if(r<n._numItems-2&&(i=r+1),null!=i){var c=n._calcItemPos(i);n.displayData.push(c),n._virtual?n._createOrUpdateItem(c):n._createOrUpdateItem2(i)}else n._numItems--;if(n.selectedMode==s.SINGLE)a?n._selectedId=-1:n._selectedId-1>=0&&n._selectedId--;else if(n.selectedMode==s.MULT&&n.multSelected.length){var l=n.multSelected.indexOf(t);l>=0&&n.multSelected.splice(l,1);for(var h=n.multSelected.length-1;h>=0;h--){n.multSelected[h]>=t&&n.multSelected[h]--}}if(n.customSize){n.customSize[t]&&delete n.customSize[t];var u={},d=void 0;for(var p in n.customSize)d=n.customSize[p],u[(p=parseInt(p))-(p>=t?1:0)]=d;n.customSize=u}for(var f=void 0,m=void 0,_=null!=i?i:r;_>=t+1;_--)if(o=n.getItemByListId(_)){var g=n._calcItemPos(_-1);f=[new cc.moveTo(.2333,new cc.v2(g.x,g.y))],_<=t+1&&(m=!0,f.push(new cc.CallFunc(function(){n._aniDelRuning=!1,e(t)}))),f.length>1?o.runAction(new cc.Sequence(f)):o.runAction(f[0])}m||(n._aniDelRuning=!1,e(t))},!0)}else e(t)},scrollTo:function(t,e,i,n){var o=this;if(o.checkInited()){o._scrollView.stopAutoScroll(),null==e?e=.5:e<0&&(e=0),t<0?t=0:t>=o._numItems&&(t=o._numItems-1),!o._virtual&&o._layout&&o._layout.enabled&&o._layout.updateLayout();var s=o.getItemPos(t),r=void 0,a=void 0;switch(o._alignCalcType){case 1:r=s.left,r-=null!=i?o.node.width*i:o._leftGap,s=new cc.v2(r,0);break;case 2:r=s.right-o.node.width,r+=null!=i?o.node.width*i:o._rightGap,s=new cc.v2(r+o.content.width,0);break;case 3:a=s.top,a+=null!=i?o.node.height*i:o._topGap,s=new cc.v2(0,-a);break;case 4:a=s.bottom+o.node.height,a-=null!=i?o.node.height*i:o._bottomGap,s=new cc.v2(0,-a+o.content.height)}var c=o.content.getPosition();c=Math.abs(o._sizeType?c.y:c.x);var l=o._sizeType?s.y:s.x,h=Math.abs((null!=o._scrollPos?o._scrollPos:c)-l)>.5;o._scrollView.stopAutoScroll(),h&&(o._scrollPos=l,o._scrollView.scrollToOffset(s,e),o.scheduleOnce(function(){if(o._adheringBarrier||(o.adhering=o._adheringBarrier=!1),o._scrollPos=null,n){var e=o.getItemByListId(t);e&&e.runAction(new cc.sequence(new cc.scaleTo(.1,1.05),new cc.scaleTo(.1,1)))}},e+.1),e<=0&&o._onScrolling())}},_calcNearestItem:function(){var t=this;t.nearestListId=null;var e=void 0,i=void 0;t._virtual&&t._calcViewPos();var n,o,s,r;n=t.viewTop,o=t.viewRight,s=t.viewBottom,r=t.viewLeft;for(var a=!1,c=0;c<t.content.childrenCount&&!a;c+=t._colLineNum)switch(e=this._virtual?this.displayData[c]:this._calcExistItemPos(c),i=this._sizeType?(e.top+e.bottom)/2:i=(e.left+e.right)/2,this._alignCalcType){case 1:e.right>=r&&(this.nearestListId=e.id,r>i&&(this.nearestListId+=this._colLineNum),a=!0);break;case 2:e.left<=o&&(this.nearestListId=e.id,o<i&&(this.nearestListId+=this._colLineNum),a=!0);break;case 3:e.bottom<=n&&(this.nearestListId=e.id,n<i&&(this.nearestListId+=this._colLineNum),a=!0);break;case 4:e.top>=s&&(this.nearestListId=e.id,s>i&&(this.nearestListId+=this._colLineNum),a=!0)}if((e=this._virtual?this.displayData[this.actualNumItems-1]:this._calcExistItemPos(this._numItems-1))&&e.id==t._numItems-1)switch(i=t._sizeType?(e.top+e.bottom)/2:i=(e.left+e.right)/2,t._alignCalcType){case 1:o>i&&(t.nearestListId=e.id);break;case 2:r<i&&(t.nearestListId=e.id);break;case 3:s<i&&(t.nearestListId=e.id);break;case 4:n>i&&(t.nearestListId=e.id)}},prePage:function(t){null==t&&(t=.5),this.skipPage(this.curPageNum-1,t)},nextPage:function(t){null==t&&(t=.5),this.skipPage(this.curPageNum+1,t)},skipPage:function(t,e){var i=this;if(i._slideMode!=o.PAGE)return cc.error("This function is not allowed to be called, Must SlideMode = PAGE!");t<0||t>=i._numItems||i.curPageNum!=t&&(i.curPageNum=t,i.pageChangeEvent&&cc.Component.EventHandler.emitEvents([i.pageChangeEvent],t),i.scrollTo(t,e))},calcCustomSize:function(t){var e=this;if(!e._itemTmp)return cc.error("Unset template item!");if(!e.renderEvent)return cc.error("Unset Render-Event!");e.customSize={};var i=cc.instantiate(e._itemTmp);e.content.addChild(i);for(var n=0;n<t;n++)cc.Component.EventHandler.emitEvents([e.renderEvent],i,n),i.height==e._itemSize.height&&i.width==e._itemSize.width||(e.customSize[n]=e._sizeType?i.height:i.width);return Object.keys(e.customSize).length||(e.customSize=null),i.removeFromParent(),i.destroy&&i.destroy(),e.customSize}}),cc._RF.pop()},{ListItem:"ListItem"}],LocalStorage:[function(t,e,i){"use strict";cc._RF.push(e,"86f6cT1GUNBi7AZ9mhGtxPb","LocalStorage");var n=function(){return new function(){this._dict={}}}();n.setItem=function(t,e){cc.sys.localStorage.setItem(t,e),this._dict[t]=e},n.getItem=function(t){var e=this._dict[t];return null==e&&(e=this._dict[t]=cc.sys.localStorage.getItem(t)),e},n.removeItem=function(t){return delete this._dict[t],cc.sys.localStorage.removeItem(t)},n.removeAllTempItem=function(){this._dict={}},e.exports=n,cc._RF.pop()},{}],Menu:[function(t,e,i){"use strict";cc._RF.push(e,"50714mSYWhBuJmUdHO3l9ic","Menu");var n=t("MyButton"),o=t("AutoLayout");t("List");cc.Class({editor:{disallowMultiple:!1,executeInEditMode:!0},extends:cc.Component,properties:{blockBtn:cc.Button,btnSelf:cc.Node,btnSwitch:n,btnSwitchCloseSF:cc.SpriteFrame,al:o,showContent:cc.Node,unselectedString:"- \u8bf7\u9009\u62e9 -",_open:!1,open:{set:function(t){this.switch(t)},get:function(){return this._open}},_selectedId:-1,selectedId:{visible:!1,get:function(){return this._selectedId},set:function(t){this._selectedId=t,this._updateState(),this.selectedEvent&&cc.Component.EventHandler.emitEvents([this.selectedEvent],t,this.data?this.data[t]:null)},min:-1,step:1},selectedEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1}},onLoad:function(){this.btnSwitch&&(this.btnSwitch.node.sp=this.btnSwitch.node.getComponent(cc.Sprite),this.initBtnSwitchSf=this.btnSwitch.node.sp.spriteFrame),this._updateState()},addEvent:function(){gL.OtherModel.bind(gL.OtherEvent.ON_MENU_OPEN,this.onOtherMenuOpen,this)},delEvent:function(){gL.OtherModel.unBind(gL.OtherEvent.ON_MENU_OPEN,this.onOtherMenuOpen,this)},setData:function(t,e){this.data=t,this.selectedId=null==e?-1:e},onALRender:function(t,e){t.getComponentInChildren(cc.Label).string=this.data[e],t.getComponentInChildren(cc.Sprite).node.active=e!=this.al.numItems-1},switch:function(t){1!=t&&0!=t&&(t=null),null==t&&(t=!this._open),this._open=t,this._updateState()},onOtherMenuOpen:function(t){t.uuid!=this.node.uuid&&this.switch(!1)},_updateState:function(){var t=null!=this.data&&this.data.length>0;this.content||(this.content=this.showContent?this.showContent:this.al.node),t||(this._open=!1,this._selectedId=-1),this.btnSelf.label.string=this.selectedId>=0?this.data[this.selectedId]:this.unselectedString,this.btnSwitch&&this.initBtnSwitchSf&&!t&&(this.btnSwitch.node.sp.spriteFrame=this.initBtnSwitchSf),this.btnSwitch.gray=!t,this.btnSelf.mb.enabled=t,this.content.active=!!t&&this.open,this.blockBtn.enabled=!!t&&!this.open,t&&(this._open?(this.content.active=!0,this.blockBtn.enabled=!0,this.al.numItems=this.data.length,this.btnSwitch&&this.btnSwitchCloseSF&&(this.btnSwitch.node.sp.spriteFrame=this.btnSwitchCloseSF),gL.OtherModel.send(gL.OtherEvent.ON_MENU_OPEN,this.node)):(this.content.active=!1,this.blockBtn.enabled=!1,this.btnSwitch&&this.initBtnSwitchSf&&(this.btnSwitch.node.sp.spriteFrame=this.initBtnSwitchSf)))},bgEv:function(){this.open=!1},itemEv:function(t){var e=t.target.parent.getSiblingIndex();this.selectedId=e,this.open=!1}}),cc._RF.pop()},{AutoLayout:"AutoLayout",List:"List",MyButton:"MyButton"}],MyButton:[function(t,e,i){"use strict";cc._RF.push(e,"53590/nop9OHYmEJKumKZZT","MyButton");var n=t("Tools"),o=cc.Enum({YELLOW:1,ORANGE:2,BLUE:3}),s=cc.Enum({0:"535353",1:"0D0600",2:"000000",3:"ffffff"});cc.Class({editor:{executeInEditMode:!0,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/My Button"},extends:cc.Button,properties:{normalFrameList:[cc.SpriteFrame],graySpriteFrame:cc.SpriteFrame,btnType:{default:o.YELLOW,type:o,notify:function(){var t=this.normalFrameList[this.btnType-1];t&&(this.gray||(this._sprite.spriteFrame=t),this.initSpriteFrame=t),this._setLabelColor()}},_gray:!1,gray:{get:function(){return this._gray},set:function(t){var e=this;t!=e._gray&&e._sprite&&(e._gray=t,e.graySpriteFrame?(e.initSpriteFrame||(e.initSpriteFrame=e._sprite.spriteFrame),e._sprite.spriteFrame=t?e.graySpriteFrame:e.initSpriteFrame):n.setGray(e._sprite,t),e._setLabelColor())}},_btnLabel:null,btnLabel:{visible:!1,get:function(){return this._btnLabel||(this._btnLabel=this.node.getComponentInChildren(cc.Label)),this._btnLabel}},_redDot:null,redDot:{visible:!1,get:function(){return this._redDot||(this._redDot=this.node.getChildByName("redDot")),this._redDot}},effType:{default:-1,min:-1,step:1}},onLoad:function(){this.effType>-1&&this.playEff(this.effType)},_setLabelColor:function(){if(this.btnLabel){if(this.btnLabel.font)return;if(this.gray)this.btnLabel.node.color=cc.color(s[0]);else{var t=s[this.btnType];t&&(this.btnLabel.node.color=cc.color(t))}}},_updateDisabledState:function(){var t=this;t._super(),t.graySpriteFrame?t._gray?t._sprite.spriteFrame=t.graySpriteFrame:t.initSpriteFrame&&(t._sprite.spriteFrame=t.initSpriteFrame):n.setGray(t._sprite,t._gray)},setLabelStr:function(t,e){if(t.length<3&&(t=gL.Tools.strSpace(t)),!this.btnLabel)return cc.warn("The button none label. ->",this.node.name);this.btnLabel.string=t,e&&(this.btnLabel.node.color=e)},playEff:function(t,e,i){var n=this;e&&gL.ui.showErrMessage(e,i),n.cancelEff();var o=void 0,s=void 0,r=void 0,a=void 0,c=void 0,l=void 0;switch(t){case 0:a=20,r=.06,n._effSavePos=n.node.getPosition(),n._effAction=cc.sequence([cc.scaleTo(r/2,1.1),cc.spawn(cc.sequence([cc.moveBy(r/2,cc.v2(-a/2,0)),cc.moveBy(r,cc.v2(a,0)),cc.moveBy(r,cc.v2(-a,0)),cc.moveBy(r,cc.v2(a,0)),cc.moveBy(r/2,cc.v2(-a/2,0))]),cc.sequence([cc.tintTo(2*r,255,200,200),cc.tintTo(2*r,255,255,255)])),cc.scaleTo(r/2,1)]);break;case 1:s=1.3,r=.8,n._effTarget=cc.instantiate(n.node),(c=n._effTarget.getComponent(cc.Button))&&n._effTarget.removeComponent(c),n.node.addChild(n._effTarget),n._effTarget.setPosition(0,0),n._effTarget.setSiblingIndex(n.node.childrenCount-1),n._effAction=cc.sequence([cc.spawn(cc.scaleTo(0,1),cc.fadeTo(0,100)),cc.spawn(cc.scaleTo(r,s),cc.fadeTo(r,0))]),o=0;break;case 2:l=8,r=.73,n._effAction=cc.sequence([cc.rotateTo(r/5,l),cc.rotateTo(r/5,.8*-l),cc.rotateTo(r/5,.65*l),cc.rotateTo(r/5,.5*-l),cc.rotateTo(r/5,0)])}null!=o&&o>1?n._effAction=cc.repeat(n._effAction,o):o<=0&&(n._effAction=cc.repeatForever(n._effAction)),(n._effTarget||n.node).runAction(n._effAction)},cancelEff:function(){var t=this;t._effAction&&(t._effTarget||t.node)&&(t._effTarget||t.node).stopAllActions(),t._effAction=null,t.node.setScale(1),t.node.rotation=0,t.node.opcity=1,t._effSavePos&&t.node.setPosition(t._effSavePos),t._effSavePos=null,t._effTarget&&(t._effTarget.destroy&&t._effTarget.destroy(),t._effTarget=null)}}),cc._RF.pop()},{Tools:"Tools"}],MyLabel:[function(t,e,i){"use strict";cc._RF.push(e,"3db902NNYlEK5/j3CHAKgNV","MyLabel");var n=t("Tools");cc.Class({editor:{executeInEditMode:!0,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/MyLabel"},extends:cc.Label,properties:{placeholder:{tooltip:!1,default:"{0}",notify:function(){this.string=this.placeholder},multiline:!0}},format:function(){1==arguments.length?this.string=n.format(this.placeholder||"{0}",arguments[0]):this.string=n.format(this.placeholder||"{0}",arguments)}}),cc._RF.pop()},{Tools:"Tools"}],MyRichText:[function(t,e,i){"use strict";cc._RF.push(e,"870f7KiTDFOxYPFug2dxXkK","MyRichText");var n=t("HtmlTextParser"),o=t("Tools");cc.Class({editor:{disallowMultiple:!0,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/My RichText"},extends:cc.RichText,properties:{spcNodeList:[],fixImgSize:!1,spriteWidth:{default:25,visible:function(){return this.fixImgSize}},spriteHeight:{default:25,visible:function(){return this.fixImgSize}},placeholder:{tooltip:!1,default:"{0}",notify:function(){0},multiline:!0}},format:function(){1==arguments.length?this.string=o.format(this.placeholder||"{0}",arguments[0]):this.string=o.format(this.placeholder||"{0}",arguments)},_updateRichText:function(){if(this.enabled){var t=(new n).parse(this.string);if(!this._needsUpdateTextLayout(t))return this._textArray=t,void this._updateLabelSegmentTextAttributes();this._textArray=t,this._resetState();for(var e=0;e<this.spcNodeList.length;++e)this.spcNodeList[e].removeFromParent(!0);this.spcNodeList=[];var i,o=!1;for(e=0;e<this._textArray.length;++e){var s=this._textArray[e],r=s.text;if(""===r){if(s.style&&s.style.newline){this._updateLineInfo();continue}if(s.style&&s.style.isImage){this._addRichTextImageElement(s);continue}}for(var a=r.split("\n"),c=0;c<a.length;++c){var l=a[c];if(""!==l)if(o=!1,this.maxWidth>0){var h=this._measureText(e,l);this._updateRichTextWithMaxWidth(l,h,e),a.length>1&&c<a.length-1&&this._updateLineInfo()}else i=this._addLabelSegment(l,e).getContentSize(),this._lineOffsetX+=i.width,this._lineOffsetX>this._labelWidth&&(this._labelWidth=this._lineOffsetX),a.length>1&&c<a.length-1&&this._updateLineInfo();else{if(this._isLastComponentCR(r)&&c==a.length-1)continue;this._updateLineInfo(),o=!0}}}o||this._linesWidth.push(this._lineOffsetX),this.maxWidth>0&&(this._labelWidth=this.maxWidth),this._updateRichTextPosition(),this.node.setContentSize(this._labelWidth,this._labelHeight),this._layoutDirty=!1}},_calcHeightInfo:function(){for(var t=1,e=0,i={},n=0;n<this._labelSegments.length;++n){var o=this._labelSegments[n],s=o._lineCount,r=o.getContentSize().height;s>t?(i[t]=e,e=r,t=s):e=Math.max(e,r)}i[t]=e;for(var a={},c={},l=0,h=this._lineCount;h>=1;h--){a[h]=l;var u=i[h]||this.lineHeight;c[h]=u,l+=u}return{dict:a,max:l,heightDict:c}},_updateRichTextPosition:function(){for(var t=this._calcHeightInfo(),e=t.dict,i=t.heightDict,n=0,o=1,s=(this._lineCount,0);s<this._labelSegments.length;++s){var r=this._labelSegments[s],a=r._lineCount;a>o&&(n=0,o=a);var c=0;switch(this.horizontalAlign){case cc.macro.TextAlignment.LEFT:c=-this._labelWidth/2;break;case cc.macro.TextAlignment.CENTER:c=-this._linesWidth[a-1]/2;break;case cc.macro.TextAlignment.RIGHT:c=this._labelWidth/2-this._linesWidth[a-1]}r.x=n+c;var l=r.getContentSize(),h=e[a],u=i[a];r.y=h-t.max/2+(u-l.height)/2,a===o&&(n+=l.width)}this._labelHeight=t.max},_onTouchEnded:function(t){for(var e=this.node.getComponents(cc.Component),i=0;i<this._labelSegments.length;++i){var n=this._labelSegments[i];if((s=n._clickHandler)&&this._containsTouchLocation(n,t.touch.getLocation())){var o=s.split("|"),s=o[0],r=o[1];if(!r&&s){var a=s.split(":");s="clickModule",r={module:a[0]};for(var c=1;c<a.length;c++){var l=a[c].split("=");r[l[0]]=l[1]}!this._myData||"miner2"!=a[0]&&"escort3"!=a[0]||(r.nickname=this._myData.nickname,r.role_id=this._myData.role_id,r.time=this._myData.time)}var h=this;e.forEach(function(e){e.enabledInHierarchy&&e[s]&&("clickModule"==s?e[s](r,t):e[s](h._myData?h._myData.clickArgs[r]:r,t))}),t.stopPropagation()}}},_measureText:function(t,e){var i=this,n=function(e){var n;return 0===i._labelSegmentsCache.length?(n=i._createFontLabel(e),i._labelSegmentsCache.push(n)):(n=i._labelSegmentsCache[0]).getComponent(cc.Label).string=e,n._styleIndex=t,i._applyTextAttribute(n),n.fontFamily="SimHei",n.getContentSize().width};return e?n(e):n},_addLabelSegment:function(t,e){var i;return 0===this._labelSegmentsCache.length?i=this._createFontLabel(t):(i=this._labelSegmentsCache.pop()).getComponent(cc.Label).string=t,i._styleIndex=e,i._lineCount=this._lineCount,i.fontFamily="SimHei",this._applyTextAttribute(i),i.setAnchorPoint(0,0),this.node.addChild(i),this._labelSegments.push(i),i},handler1:function(t){},handler2:function(t){}}),cc._RF.pop()},{HtmlTextParser:"HtmlTextParser",Tools:"Tools"}],NodeParser:[function(t,e,i){"use strict";cc._RF.push(e,"e44e38lNvxMiIY/GGnUsKv4","NodeParser"),cc.Class({extends:cc.Component,editor:{disallowMultiple:!1,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Node Parser",executeInEditMode:!1,executionOrder:-5e3},onLoad:function(){this._parse([[1,"MyButton","mb"],[1,cc.Button,"mb"]],this.node),this.node.getComponent(cc.Button)||this.node.mb?this._parse([[2,cc.RichText,"rt"],[2,"MyRichText","rt"],[2,cc.Label,"label"],[3,"redDot","rd"],[2,"Cost","cost"]],this.node):this._parse([[1,cc.RichText,"rt"],[1,"MyRichText","rt"],[1,cc.Label,"label"],[1,"CDNSprite","csp"]],this.node),this.node.removeComponent(this)},_parse:function(t,e){for(var i=t.length-1;i>=0;i--){var n=t[i],o=void 0;switch(n[0]){case 1:o=e.getComponent(n[1]);break;case 2:o=e.getComponentInChildren(n[1]);break;case 3:o=e.getChildByName(n[1])}o&&(e[n[2]]=o,o.string&&o.string.indexOf("{0}")>=0&&(o.prefabStr=o.string))}}}),cc._RF.pop()},{}],ProgressBar:[function(t,e,i){"use strict";cc._RF.push(e,"d84e5S/MuRNI428I+q++oTn","ProgressBar");var n=t("MyLabel"),o=cc.Enum({cur:1,"cur/max":2,"cur%":3});cc.Class({editor:{disallowMultiple:!0,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/ProgressBar"},extends:cc.ProgressBar,properties:{level:{default:0,min:0,step:1,serializable:!1,notify:function(){this.updateInfo()}},val:{default:0,min:0,serializable:!1,notify:function(){!this.allowValGreaterThanMax&&this.val>this.maxVal&&(this.val=this.maxVal),this.updateInfo()}},maxVal:{default:1,serializable:!1,notify:function(){!this.allowValGreaterThanMax&&this.val>this.maxVal&&(this.maxVal=this.val),this.updateInfo()}},allowValGreaterThanMax:{default:!1,tooltip:!1},pre:{default:0,serializable:!1,visible:!1},label:n,labelType:{default:o["cur/max"],type:o},numToFixed:{default:0,min:0,step:1,tooltip:!1},labelLv:n},setVal:function(t,e,i,n){var o=this,s=null==o._targetVal?o.val:o._targetVal,r=null==o._targetMax?o.maxVal:o._targetMax,a=null==o._targetLevel?o.level:o._targetLevel,c=t/e;if(c==s/o.maxVal&&t==s&&e==r){if(null==i)return;if(i==a)return}if(null==n&&(n=.8),n<0&&(n=0),n){var l=null!=i&&i!=o.level;o._runingAni&&(o.tween.stop(),o._onAniDone());var h=void 0;i>o.level?h=!0:i<o.level&&(h=!1),null==h&&(h=c>o.pre),o._targetVal=t,null!=i&&(o._targetLevel=i),null!=e&&(o._targetMax=e);if(l){var u,d,p,f,m,_,g,v;m=n*(f=(u=h?r-s:s)/(p=u+(d=h?o._targetVal:r-o._targetVal))),_=n*(d/p),v=(g=o._targetMax-r)*f,o.tween=cc.tween(o).to(m,{val:h?r+v:0,maxVal:r+v},{easing:"sineOut"}).call(function(){o.val=h?0:r,o.level=o._targetLevel,o.tween=cc.tween(o).to(_,{val:o._targetVal,maxVal:r+g},{easing:"sineOut"}).call(o._onAniDone.bind(o)).start()}).start()}else o.tween=cc.tween(o).to(n,{val:o._targetVal,maxVal:o._targetMax||o.maxVal},{easing:"sineOut"}).call(o._onAniDone.bind(o)).start();o._runingAni=!0}else null!=e&&(o.maxVal=e),o.val=t,null!=i&&(o.level=i)},_onAniDone:function(){this._targetVal&&(this.val=this._targetVal),this._targetMax&&(this.maxVal=this._targetMax),this._targetVal=null,this._targetMax=null,this._targetLevel=null,this.tween=null,this._runingAni=!1},updateInfo:function(){if(this.pre=this.val/this.maxVal,this.label){var t=this.val.toFixed(this.numToFixed),e=this.maxVal.toFixed(this.numToFixed);switch(this.labelType){case o.cur:this.label.string=t;break;case o["cur/max"]:this.label.string=t+"/"+e;break;case o["cur%"]:this.label.string=(this.val/this.maxVal*100).toFixed(this.numToFixed)+"%"}}this.labelLv&&this.labelLv.format([this.level]);var i=(this.pre>1?1:this.pre)*this.totalLength;if(this.barSprite)switch(this.mode){case cc.ProgressBar.Mode.HORIZONTAL:this.barSprite.node.width=i;break;case cc.ProgressBar.Mode.VERTICAL:this.barSprite.node.height=i;break;case cc.ProgressBar.Mode.FILLED:this.barSprite.fillRange=this.pre}}}),cc._RF.pop()},{MyLabel:"MyLabel"}],Relation:[function(t,e,i){"use strict";cc._RF.push(e,"32598BrGVBNS4Z/ZVTwf6xy","Relation");var n=cc.Enum({NONE:0,WIDTH_WIDTH:1,HEIGHT_HEIGHT:2,LEFT_LEFT:3,LEFT_CENTER:4,LEFT_RIGHT:5,RIGHT_RIGHT:6,RIGHT_CENTER:7,RIGHT_LEFT:8,TOP_TOP:9,TOP_CENTER:10,TOP_BOTTOM:11,BOTTOM_BOTTOM:12,BOTTOM_CENTER:13,BOTTOM_TOP:14,HORIZONTAL_CENTER:15,VERTICAL_CENTER:16});cc.Class({editor:{menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Relation",executeInEditMode:!0,executionOrder:-5002},extends:cc.Component,properties:{target:{type:cc.Node,default:null,notify:function(){this.target&&this._registerEvent(),this._initTargetInfo()}},relations:{default:[],type:n}},onLoad:function(){this._initNodeInfo(),this._initTargetInfo(),this._registerEvent()},onEnable:function(){this._initTargetInfo(),this._initNodeInfo()},onDisable:function(){},onDestroy:function(){this._unregisterEvent()},_registerEvent:function(){var t=this;t._unregisterEvent(),cc.director.on(cc.Director.EVENT_AFTER_UPDATE,t._onEvAfterUpdate,t),t.node.on(cc.Node.EventType.POSITION_CHANGED,t._initNodeInfo,t),t.node.on(cc.Node.EventType.SIZE_CHANGED,t._initNodeInfo,t),t.target&&(t.target.on(cc.Node.EventType.POSITION_CHANGED,t._onTargetPositionChange,t),t.target.on(cc.Node.EventType.SIZE_CHANGED,t._onTargetSizeChange,t),t.target.on(cc.Node.EventType.ANCHOR_CHANGED,t._onTargetAhchorChange,t))},_unregisterEvent:function(){var t=this;cc.director.off(cc.Director.EVENT_AFTER_UPDATE,t._onEvAfterUpdate,t),t.node.off(cc.Node.EventType.POSITION_CHANGED,t._initNodeInfo,t),t.node.off(cc.Node.EventType.SIZE_CHANGED,t._initNodeInfo,t),t.target&&(t.target.off(cc.Node.EventType.POSITION_CHANGED,t._onTargetPositionChange,t),t.target.off(cc.Node.EventType.SIZE_CHANGED,t._onTargetSizeChange,t),t.target.off(cc.Node.EventType.ANCHOR_CHANGED,t._onTargetAhchorChange,t))},_initNodeInfo:function(){this._myLastPos=this.node.getPosition(),this._myLastSize=this.node.getContentSize()},_initTargetInfo:function(){var t=this;t.target&&(t._targetLastPos=t.target.getPosition(),t._targetLastSize=t.target.getContentSize(),t._targetLastAnchor=t.target.getAnchorPoint())},_onTargetPositionChange:function(t,e){this.enabled&&this.target&&t&&(e||t.x!=this._targetLastPos.x||t.y!=this._targetLastPos.y)&&((this.haveRelation(n.LEFT_LEFT)||this.haveRelation(n.LEFT_CENTER)||this.haveRelation(n.LEFT_RIGHT)||this.haveRelation(n.RIGHT_RIGHT)||this.haveRelation(n.RIGHT_CENTER)||this.haveRelation(n.RIGHT_LEFT)||this.haveRelation(n.HORIZONTAL_CENTER))&&(this.node.x=this._myLastPos.x+(t.x-this._targetLastPos.x)),(this.haveRelation(n.TOP_TOP)||this.haveRelation(n.TOP_CENTER)||this.haveRelation(n.TOP_BOTTOM)||this.haveRelation(n.BOTTOM_BOTTOM)||this.haveRelation(n.BOTTOM_CENTER)||this.haveRelation(n.BOTTOM_TOP)||this.haveRelation(n.VERTICAL_CENTER))&&(this.node.y=this._myLastPos.y+(t.y-this._targetLastPos.y)),this._targetLastPos=t)},_onTargetSizeChange:function(t,e){if(t||(t=this.target.getContentSize()),this.enabled&&this.target&&t&&(e||t.width!=this._targetLastSize.width||t.height!=this._targetLastSize.height)){this.haveRelation(n.WIDTH_WIDTH)&&(this.node.width=this._myLastSize.width+(t.width-this._targetLastSize.width)),this.haveRelation(n.HEIGHT_HEIGHT)&&(this.node.height=this._myLastSize.height+(t.height-this._targetLastSize.height));var i=void 0,o=void 0,s=void 0,r=void 0,a=void 0,c=void 0,l=void 0,h=void 0,u=void 0,d=void 0;(this.haveRelation(n.LEFT_LEFT)||this.haveRelation(n.RIGHT_LEFT))&&(i=this._targetLastPos.x-this._targetLastAnchor.x*this._targetLastSize.width,o=this.target.x-this.target.anchorX*this.target.width,this.node.x=this._myLastPos.x+(o-i)),(this.haveRelation(n.RIGHT_RIGHT)||this.haveRelation(n.LEFT_RIGHT))&&(s=this._targetLastPos.x+(1-this._targetLastAnchor.x)*this._targetLastSize.width,r=this.target.x+(1-this.target.anchorX)*this.target.width,this.node.x=this._myLastPos.x+(r-s)),(this.haveRelation(n.BOTTOM_BOTTOM)||this.haveRelation(n.TOP_BOTTOM))&&(a=this._targetLastPos.y-this._targetLastAnchor.y*this._targetLastSize.height,c=this.target.y-this.target.anchorY*this.target.height,this.node.y=this._myLastPos.y+(c-a)),(this.haveRelation(n.TOP_TOP)||this.haveRelation(n.BOTTOM_TOP))&&(l=this._targetLastPos.y+(1-this._targetLastAnchor.y)*this._targetLastSize.height,h=this.target.y+(1-this.target.anchorY)*this.target.height,this.node.y=this._myLastPos.y+(h-l)),(this.haveRelation(n.LEFT_CENTER)||this.haveRelation(n.RIGHT_CENTER)||this.haveRelation(n.HORIZONTAL_CENTER))&&(u=((i=this._targetLastPos.x-this._targetLastAnchor.x*this._targetLastSize.width)+(s=this._targetLastPos.x+(1-this._targetLastAnchor.x)*this._targetLastSize.width))/2,d=((o=this.target.x-this.target.anchorX*this.target.width)+(r=this.target.x+(1-this.target.anchorX)*this.target.width))/2,this.node.x=this._myLastPos.x+(d-u)),(this.haveRelation(n.TOP_CENTER)||this.haveRelation(n.BOTTOM_CENTER)||this.haveRelation(n.VERTICAL_CENTER))&&(u=((a=this._targetLastPos.y-this._targetLastAnchor.y*this._targetLastSize.height)+(l=this._targetLastPos.y+(1-this._targetLastAnchor.y)*this._targetLastSize.height))/2,d=((c=this.target.y-this.target.anchorY*this.target.height)+(h=this.target.y+(1-this.target.anchorY)*this.target.height))/2,this.node.y=this._myLastPos.y+(d-u)),this._targetLastSize=t}},_onTargetAhchorChange:function(){this.target&&(this._onTargetSizeChange(this.target.getContentSize(),1),this._targetLastAnchor=this.target.getAnchorPoint())},_onEvAfterUpdate:function(){this.target&&(this._onTargetPositionChange(this.target.getPosition()),this._onTargetSizeChange(this.target.getContentSize()))},haveRelation:function(t){return this.relations.indexOf(t)>=0},addRelation:function(t){this.haveRelation(t)||this.relations.push(t)},delRelation:function(t){var e=this.relations.indexOf(t)>=0;e>=0&&this.relations.splice(e,1)}}),cc._RF.pop()},{}],Shake:[function(t,e,i){"use strict";cc._RF.push(e,"ee8e8W/ZuBAgKPYR8fAfwUn","Shake");var n=cc.Enum({VERTICAL:1,HORIZONTAL:2});cc.Class({editor:{menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Shake"},extends:cc.Component,properties:{direction:{default:n.VERTICAL,type:n,tooltip:!1},duration:{default:2,type:cc.Float,min:.2,tooltip:!1},distance:{default:20,type:cc.Integer,min:0,tooltip:!1},times:{default:0,type:cc.Integer,min:0,tooltip:!1},afterDel:{default:!1,tooltip:!1,visible:function(){return this.times>0}},delayDel:{default:0,type:cc.Float,min:0,tooltip:!1}},start:function(){var t=this,e=void 0;switch(t.direction){case n.VERTICAL:t.node.y=t.node.y+t.distance/2,e=new cc.Sequence([new cc.moveBy(t.duration/2,cc.v2(0,-t.distance)).easing(cc.easeInOut(2)),new cc.moveBy(t.duration/2,cc.v2(0,t.distance)).easing(cc.easeInOut(2))]);break;case n.HORIZONTAL:t.node.x=t.node.x-t.distance/2,e=new cc.Sequence([new cc.moveBy(t.duration/2,cc.v2(t.distance,0)).easing(cc.easeInOut(2)),new cc.moveBy(t.duration/2,cc.v2(-t.distance,0)).easing(cc.easeInOut(2))])}var i=void 0;t.times>0?(i=cc.repeat(e,t.times),t.node.runAction(new cc.Sequence([i,new cc.callFunc(function(){t.afterDel&&(t.node.removeFromParent(),t.node.destroy())})]))):(i=cc.repeatForever(e),t.node.runAction(i)),t.delayDel>0&&t.scheduleOnce(function(){t.node.removeFromParent(),t.node.destroy()},t.delayDel)},onDestroy:function(){this.node&&this.node.stopAllActions(),this.unscheduleAllCallbacks()}}),cc._RF.pop()},{}],SpecificTap:[function(t,e,i){"use strict";cc._RF.push(e,"b4765YtYcJElpZgSkjw0sHd","SpecificTap");var n=cc.Enum({LONG_TAP:0,DOUBLE_TAP:1});cc.Class({editor:{menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Specific Tap"},extends:cc.Component,properties:{type:{default:n.LONG_TAP,type:n,tooltip:!1},longTapDuration:{default:1,type:cc.Float,range:[0,3,.1],tooltip:!1,slide:!0,visible:function(){return this.type==n.LONG_TAP}},longTapInterval:{default:.1,type:cc.Float,range:[0,1,.1],tooltip:!1,slide:!0,visible:function(){return this.type==n.LONG_TAP}},doubleTapDuration:{default:.3,type:cc.Float,range:[0,1,.1],tooltip:!1,slide:!0,visible:function(){return this.type==n.DOUBLE_TAP}},events:{default:[],type:cc.Component.EventHandler,tooltip:!1}},onEnable:function(){this.node.on(cc.Node.EventType.TOUCH_START,this._onTouchStart,this,!1),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._onTouchMove,this,!1),this.node.on(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this,!1),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancel,this,!1)},onDisable:function(){this.node.targetOff()},_onTouchStart:function(t){switch(this.startTapPos=new cc.Vec2(t.currentTouch._point.x,t.currentTouch._point.y),this.type){case n.LONG_TAP:this.longTapCD=this.longTapDuration,this.longTapFirstEv=!0;break;case n.DOUBLE_TAP:this.doubleTapCD?this.doubleTapCount++:(this.doubleTapCD=this.doubleTapDuration,this.doubleTapCount=1)}},_onTouchMove:function(t){this.type==n.LONG_TAP&&this.startTapPos&&this.longTapInterval>0&&t.currentTouch._point.sub(this.startTapPos).mag()>10&&this._onTouchCancel()},_onTouchEnd:function(t){this.doubleTapCD&&this.doubleTapCount>=2&&(this.startTapPos=this.doubleTapCD=this.doubleTapCount=null,this.type==n.DOUBLE_TAP&&cc.Component.EventHandler.emitEvents(this.events,t)),this.startTapPos=this.longTapCD=this.longTapFirstEv=null},_onTouchCancel:function(t){this.startTapPos=this.doubleTapCD=this.longTapCD=this.longTapFirstEv=null},interdict:function(){this._onTouchEnd()},update:function(t){null!=this.longTapCD&&(this.longTapCD-=t,this.longTapCD<=0&&(this.longTapCD=null,this.startTapPos&&(cc.Component.EventHandler.emitEvents(this.events,{target:this.node},null!=this.longTapFirstEv,this.startTapPos),this.longTapInterval>0?this.longTapCD=this.longTapInterval:this.longTapCD=null,this.longTapFirstEv=null))),null!=this.doubleTapCD&&(this.doubleTapCD-=t,this.doubleTapCD<=0&&(this.doubleTapCD=null))}}),cc._RF.pop()},{}],Tab:[function(t,e,i){"use strict";cc._RF.push(e,"6e315NYlEFOTbalL/aZUlbT","Tab");var n=t("List");cc.Class({extends:cc.Component,properties:{list:n,leftLightSF:cc.SpriteFrame,middleLightSF:cc.SpriteFrame,leftDarkSF:cc.SpriteFrame,middleDarkSF:cc.SpriteFrame,switchTextColor:!1,textSelectedColor:{default:cc.color(0,0,0),tooltip:!1,visible:function(){return this.switchTextColor}},controlledNodes:[cc.Node],changeEvent:{default:null,type:cc.Component.EventHandler},checkUnlock:{default:null,type:cc.Component.EventHandler},_selectedId:-1,selectedId:{visible:!1,get:function(){return this._selectedId},set:function(t){var e=this;if(t!=e._selectedId||!this._inited){if(e.lastSelectedId=e._selectedId,e._selectedId=t,e.controlledNodes&&e.controlledNodes.length>0)for(var i=e.controlledNodes.length-1;i>=0;i--)null!=e.controlledNodes[i].active&&(e.controlledNodes[i].active=i==t);this.data&&(e.list.numItems=this.data.length),e.changeEvent&&cc.Component.EventHandler.emitEvents([e.changeEvent],e._selectedId,e.lastSelectedId)}}},_redDotIds:[],redDotIds:{visible:!1,get:function(){return this._redDotIds},set:function(t){this._redDotIds=t,this.updateRedDot()}}},onLoad:function(){this._saveTextNormalColor()},_saveTextNormalColor:function(){if(!this.textNormalColor){var t=this.list._itemTmp,e=void 0;t&&(e=t.getComponentInChildren(cc.Label)),e&&(this.textNormalColor=e.node.color)}},init:function(t,e){var i=this;if(i._inited=null,i._saveTextNormalColor(),i.data=t,i.list.numItems=i.data.length,i.selectedId=null!=e?e:0,null!=e&&i.list.scrollTo(e),i._inited=!0,i.controlledNodes)for(var n=i.controlledNodes.length-1;n>=0;n--)i.controlledNodes[n]._tab=i},onListRender:function(t,e){var i=this;t.bg||gL.Tools.parseNode(t,[["bg",cc.Sprite],["icon","CDNSprite"],["label",cc.Label],"redDot"]);var n=i.data[e],o=void 0,s=1,r=e==i.selectedId;r?(o=i.middleLightSF,e<=0?o=i.leftLightSF:e>=i.list.numItems-1&&(o=i.leftLightSF,s=-1)):(o=i.middleDarkSF,e<=0?o=i.leftDarkSF:e>=i.list.numItems-1&&(o=i.leftDarkSF,s=-1)),t.bg.spriteFrame=o,t.bg.node.scaleX=s,t.icon&&(r&&n.frame&&t.icon.setFrame(n.frame),r||t.icon.setFrame(n.selectedFrame||n.frame)),t.label&&n.name&&(t.label.string=n.name,i.switchTextColor&&(t.label.node.color=r?i.textSelectedColor:i.textNormalColor)),t.redDot&&(t.redDot.active=i.stateDict&&i.stateDict[e])},onClickItem:function(t){var e=this,i=t.target._listId;if(e.checkUnlock){var n=e.checkUnlock.target;if(!cc.isValid(n))return;var o=e.checkUnlock._componentName||e.checkUnlock.component,s=n.getComponent(o);if(!cc.isValid(s))return;var r=s[e.checkUnlock.handler];if("function"!=typeof r)return;if(!r.call(n,i))return}e.selectedId=i}}),cc._RF.pop()},{List:"List"}],Time:[function(t,e,i){"use strict";cc._RF.push(e,"641264lz1ZM1ZX098w939bD","Time");var n=function(){return new function(){this.offsetTimeMs=0,this.openServerTime=0,this.mergeServerTime=0}}();n.getOpenServerDays=function(){var t=this.unixtime();return Math.floor((t-this.openServerTime)/86400)+1},n.getTime=function(){return(new Date).getTime()+this.offsetTimeMs},n.unixtime=function(){return Math.round(this.getTime()/1e3)},n.formatDate=function(t,e,i){t||(t=this.getTime());var n=new Date(t),o=n.getFullYear(),s=n.getMonth()+1,r=n.getDate(),a=n.getHours(),c=n.getMinutes(),l=n.getSeconds(),h=n.getMilliseconds();return e?i?o+"-"+s+"-"+r+" "+this.appendZero(a)+":"+this.appendZero(c)+":"+this.appendZero(l)+"."+h:o+"-"+s+"-"+r+" "+this.appendZero(a)+":"+this.appendZero(c)+":"+this.appendZero(l):o+"-"+s+"-"+r+" "+this.appendZero(a)+":"+this.appendZero(c)},n.formatDate1=function(t,e,i){t||(t=this.getTime());var n=new Date(t),o=(n.getFullYear(),n.getMonth()+1),s=n.getDate(),r=n.getHours(),a=n.getMinutes(),c=n.getSeconds(),l=n.getMilliseconds();return e?i?o+"\u6708"+s+"\u65e5"+this.appendZero(r)+"\u65f6"+this.appendZero(a)+"\u5206"+this.appendZero(c)+"\u79d2."+l:o+"\u6708"+s+"\u65e5"+this.appendZero(r)+"\u65f6"+this.appendZero(a)+"\u5206"+this.appendZero(c)+"\u79d2":o+"\u6708"+s+"\u65e5"+this.appendZero(r)+"\u65f6"+this.appendZero(a)+"\u5206"},n.formatDate2=function(t,e,i){t||(t=this.getTime());var n=new Date(t),o=n.getFullYear(),s=n.getMonth()+1,r=n.getDate(),a=n.getHours(),c=n.getMinutes(),l=n.getSeconds(),h=n.getMilliseconds();return e?i?o+"\u5e74"+s+"\u6708"+r+"\u65e5 "+this.appendZero(a)+"\u65f6"+this.appendZero(c)+"\u5206"+this.appendZero(l)+"\u79d2."+h:o+"\u5e74"+s+"\u6708"+r+"\u65e5 "+this.appendZero(a)+"\u65f6"+this.appendZero(c)+"\u5206"+this.appendZero(l)+"\u79d2":o+"\u5e74"+s+"\u6708"+r+"\u65e5 "+this.appendZero(a)+"\u65f6"+this.appendZero(c)+"\u5206"},n.formatDate3=function(t){t||(t=this.getTime());var e=new Date(t),i=e.getHours(),n=e.getMinutes(),o=e.getSeconds();return this.appendZero(i)+":"+this.appendZero(n)+":"+this.appendZero(o)},n.formatDate4=function(t,e,i,n,o){t||(t=this.getTime());var s=new Date(t),r=s.getFullYear(),a=s.getMonth()+1,c=s.getDate(),l=s.getHours(),h=s.getMinutes(),u=s.getSeconds(),d=s.getMilliseconds();return e?i?n?o?r+"\u5e74"+a+"\u6708"+c+"\u65e5 "+this.appendZero(l)+"\u65f6"+this.appendZero(h)+"\u5206"+this.appendZero(u)+"\u79d2."+d:r+"\u5e74"+a+"\u6708"+c+"\u65e5 "+this.appendZero(l)+"\u65f6"+this.appendZero(h)+"\u5206"+this.appendZero(u)+"\u79d2":r+"\u5e74"+a+"\u6708"+c+"\u65e5 "+this.appendZero(l)+"\u65f6"+this.appendZero(h)+"\u5206":r+"\u5e74"+a+"\u6708"+c+"\u65e5 "+this.appendZero(l)+"\u65f6":r+"\u5e74"+a+"\u6708"+c+"\u65e5"},n.formatDate5=function(t){t||(t=this.getTime());var e=new Date(t),i=e.getMonth()+1,n=e.getDate(),o=e.getHours(),s=e.getMinutes();return i+"-"+n+" "+this.appendZero(o)+":"+this.appendZero(s)},n.parseSeconds=function(t){var e=Math.floor(t/3600),i=Math.floor((t-3600*e)/60),n=Math.floor(t)%60;return{hour:this.appendZero(e),min:this.appendZero(i),second:this.appendZero(n)}},n.formatSeconds=function(t,e,i){var n=Math.floor(t/3600),o=Math.floor((t-3600*n)/60),s=Math.floor(t)%60;return e?this.appendZero(60*n+o)+":"+this.appendZero(s):i?this.appendZero(n)+":"+this.appendZero(o):this.appendZero(n)+":"+this.appendZero(o)+":"+this.appendZero(s)},n.formatSeconds2=function(t){var e=this.parseSeconds(t);return e.hour>0?e.hour+"\u5c0f\u65f6"+e.min+"\u5206"+e.second+"\u79d2":e.min>0?e.min+"\u5206"+e.second+"\u79d2":e.second+"\u79d2"},n.formatSeconds3=function(t){t=this.unixtime()-t;var e=Math.floor(t/3600),i=Math.floor((t-3600*e)/60);return e>0?e+"\u5c0f\u65f6"+i+"\u5206\u949f\u524d":i>0?i+"\u5206\u949f\u524d":"1\u5206\u949f\u5185"},n.formatSeconds4=function(t){var e=Math.floor(t/3600);return{hour:e,min:Math.floor((t-3600*e)/60)}},n.formatSeconds5=function(t){var e=Math.floor(t/86400),i=Math.floor(t/3600),n=i%24,o=Math.floor((t-3600*i)/60),s=Math.floor(t)%60;return e>0?e+"\u5929":n>0?n+"\u5c0f\u65f6":o>0?o+"\u5206\u949f":s+"\u79d2"},n.formatSeconds6=function(t){var e=Math.floor(t/86400),i=Math.floor(t/3600),n=i%24,o=Math.floor((t-3600*i)/60),s=Math.floor(t)%60;return e>0?e+"\u5929"+this.appendZero(n)+"\u5c0f\u65f6"+this.appendZero(o)+"\u5206":this.appendZero(n)+"\u5c0f\u65f6"+this.appendZero(o)+"\u5206"+this.appendZero(s)+"\u79d2"},n.formatSeconds7=function(t){var e=Math.floor(t/3600),i=Math.floor(t/60);return i<10?Math.floor(t)+"\u79d2":e<2?i+"\u5206\u949f":e<48?e+"\u5c0f\u65f6":Math.floor(t/86400)+"\u5929"},n.appendZero=function(t){return t<10?"0"+t:t},n.checkBtnEventCD=function(t,e){var i=this.getTime();return!(t._lastTouchTime&&i-t._lastTouchTime<e)&&(t._lastTouchTime=i,!0)},n.getTimeLeft=function(t,e){var i=e-t;return this.formatSeconds4(i)},n.getTimeLeft2=function(t,e){var i=Math.abs(e-t);return this.parseSeconds(i)},n.getDays=function(t){return Math.ceil(t/86400)},n.isToday=function(t){var e=new Date(this.getTime()),i=new Date(t);return e.getFullYear()==i.getFullYear()&&(e.getMonth()==i.getMonth()&&e.getDate()==i.getDate())},gL.Time=e.exports=n,cc._RF.pop()},{}],Tools:[function(t,e,i){"use strict";cc._RF.push(e,"1d91cpdFolKZ4QmdGMumBFe","Tools");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=t("BigNumber"),s=function(){return new function(){}}();s.setGray=function(t,e){t&&(e=e?1:0,t.setState(e))},s.numZh=["\u96f6","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341"],s.numZheStr=function(t,e){if(e){for(var i="",n=(t+="").length-1;n>=0;n--)i=s.numZh[parseInt(t[n])]+i;return i}if(t<10)return s.numZh[t];var o=Math.floor(t/10),r=t%10;return(o>1?s.numZh[o]:"")+"\u5341"+(r>0?s.numZh[r]:"")},s.deepCopy=function(t,e){e=e||(t.constructor===Array?[]:{});for(var i in t)t.hasOwnProperty(i)&&("object"===n(t[i])?(e[i]=t[i].constructor===Array?[]:{},s.deepCopy(t[i],e[i])):e[i]=t[i]);return e},s.clamp=function(t,e,i){return t<e?e:t>i?i:t},s.randomFloat=function(t,e){var i=e-t;return t+Math.random()*i},s.randomInt=function(t,e){var i=e-t,n=Math.random();return t+Math.round(n*i)},s.rand=s.randomInt,s.randomOZ=function(){return this.randomInt(0,1)},s.randomTF=function(){return!!this.randomInt(0,1)},s.randomPM=function(){return this.randomInt(0,1)?1:-1},s.getListRand=function(t){return t[this.randomInt(0,t.length-1)]},s.getListRandAndSplice=function(t){var e=this.randomInt(0,t.length-1),i=t[e];return t.splice(e,1),i},s.getListRandN=function(t,e){for(var i=this.deepCopy(t),n=[],o=0;o<e;o++){var s=this.randomInt(0,i.length-1);n.push(i[s]),i.splice(s,1)}return n},s.randValueToList=function(t,e){for(var i=[],n=0,o=0;o<e;o++){var s=this.rand(100,3e3);i.push(s),n+=s}for(var r=[],a=0,c=e-1;c>=0;c--){var l=i[c],h=Math.floor(t*l/n);r.push(h),a+=h}return a<t&&r.push(t-a),r},s.patch0=function(t){return function(e,i){return 0>=(i-=e.toString().length)?e:(t[i]||(t[i]=Array(i+1).join(0)))+e}}([]),s.Erl2Json=function(t){return"string"!=typeof t?t:JSON.parse(t.replace(/{/gm,"[").replace(/}/gm,"]").replace(/([\w]+)/gm,'"$1"'))},s.formatNumber=function(t){var e=t.toString(),i="";i=e.substring(e.length-3,e.length);for(var n=e.length-3;n>0;n-=3){var o=n-3>0?n-3:0;i=e.substring(n,o)+","+i}return i},s.toDecimal=function(t,e){var i=parseFloat(t);if(isNaN(i))return"0";var n=Math.pow(10,e),o=(i=Math.floor(i*n)/n).toString(),s=o.indexOf(".");for(s<0&&(s=o.length,o+=".");o.length<=s+e;)o+="0";return o},s.toDecimalNoZero=function(t,e){var i=parseFloat(t);if(isNaN(i))return"0";var n=Math.pow(10,e);return Math.round(i*n)/n},s.showBigNumber=function(t){var e=t instanceof o?t:o(t);return e.gt(1e20)?e.dividedBy(1e20).toFixed(1)+"\u4ebf\u5146":e.gt(1e16)?e.dividedBy(1e16).toFixed(1)+"\u4e07\u5146":e.gt(999999999999)?e.dividedBy(1e12).toFixed(1)+"\u5146":e.gt(99999999)?e.dividedBy(1e8).toFixed(1)+"\u4ebf":e.gt(99999)?e.dividedBy(1e4).toFixed(1)+"\u4e07":e.toFixed(0)},s.format=function(t,e){if(arguments.length>0){if(1==arguments.length)return t;if(2==arguments.length&&"object"==(void 0===e?"undefined":n(e))){for(var i=0;i<e.length;i++)if(null!=e[i]){var o=new RegExp("([\u3010{]"+i+"[\u3011}])","g");t=t.replace(o,e[i])}}else for(i=1;i<arguments.length;i++)if(null!=arguments[i]){o=new RegExp("([\u3010{]"+(i-1)+"[\u3011}])","g");t=t.replace(o,arguments[i])}return t}return""},s.getStrLength=function(t){return t.replace(/[\u0391-\uFFE5]/g,"aa").length},s.makeSpriteAtlas=function(t,e){var i=cc.js.createMap(!0);for(var n in t){var o=t[n],s=new cc.Rect(o.r[0],o.r[1],o.r[2],o.r[3]);(o.r[2]<0||o.r[3]<0)&&(s=new cc.Rect(0,0,1,1));var r=new cc.Vec2(o.o[0],o.o[1]),a=new cc.Size(o.s[0],o.s[1]),c=1===o.rotated,l=new cc.SpriteFrame(e,s,c,r,a);i[n]=l}return i},s.calcTextureMem=function(t){return t.width*t.height*4/1048576},s.findNodeByName=function(t,e){if(t.name===e)return t;for(var i=0;i<t.children.length;i++){var n=this.findNodeByName(t.children[i],e);if(null!==n)return n}return null},s.getQueryString=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(e);return null!=i?unescape(i[2]):null},s.arrayGroup=function(t,e){for(var i={},n=t.length-1;n>=0;n--){var o=t[n],s=o[e];null!=s&&(s in i||(i[s]=[]),i[s].unshift(o))}return i},s.obj2Array=function(t){var e=[];for(var i in t)e.push(t[i]);return e},s.formatTalkContent=function(e){return e.replace("[\u73a9\u5bb6\u540d\u516d\u4e2a\u5b57]",t("RoleModel").nickname)},s.getColorStr=function(t,e){return"<color="+t+">"+e+"</c>"},s.clipboard=function(t){var e=document.createElement("textarea");e.style.position="fixed",e.style.top=0,e.style.left=0,e.style.border="none",e.style.outline="none",e.style.resize="none",e.style.background="transparent",e.style.color="transparent",e.value=t,document.body.appendChild(e),e.select();try{var i=document.execCommand("copy")?"successful":"unsuccessful";console.log(i)}catch(t){console.log("unable to copy",t)}document.body.removeChild(e)},s.bubbleSort=function(t,e,i){if(i=null==i?1:i){for(var n=0;n<t.length-1;n++)for(var o=0;o<t.length-1-n;o++)if(t[o][e]>t[o+1][e]){var s=t[o];t[o]=t[o+1],t[o+1]=s}}else for(var r=0;r<t.length-1;r++)for(var a=0;a<t.length-1-r;a++)if(t[a][e]<t[a+1][e]){var c=t[a];t[a]=t[a+1],t[a+1]=c}},s.str2V=function(t){for(var e="",i=t.length,n=0;n<i-1;n++)e+=t[n]+"\n";return e+t[i-1]},s.strSpace=function(t){for(var e="",i=0,n=t.length;i<n;i++)e=e+t[i]+" ";return e.substring(0,e.length-1)},s.getStrNum=function(t){var e=t.match(/\d+/g);if(e){for(var i=e.length-1;i>=0;i--)e[i]=+e[i];return 1==e.length?e[0]:e}},s.parseNode=function(t,e,i,n,o){Array.isArray(e)||(e=[e]),n||(n=t);for(var s={},r=e.length,a=0;a<r;a++){var c=e[a],l=Array.isArray(c)?c[0]:c;0,s[l]=a+1}for(var h=[].concat(t.children);h.length;){var u=h.shift(),d=s[u._name];if(d){var p=e[d-1],f=Array.isArray(p)?p[1]:null;if(n[u._name]=f?u.getComponent(f):u,delete s[u._name],!--r)break}i&&h.push.apply(h,u.children)}if(o&&r)for(var m in r)cc.error('Not find "'+m+'" node!')},s.createEvt=function(t,e,i){if(t.isValid){t.comName=t.comName||t.name.match(/\<(.*?)\>/g).pop().replace(/\<|>/g,"");var n=new cc.Component.EventHandler;return n.target=i||t.node,n.component=t.comName,n.handler=e,n}},s.propClone=function(t,e){for(var i in e)t[i]=e[i]},s.kv2Sub=function(t){for(var e=[],i=t.length-1;i>=0;i--)e.unshift([t[i].key,t[i].val]);return e},s.sub2KV=function(t){for(var e=[],i=t.length-1;i>=0;i--)e.unshift({key:t[i][0],val:t[i][1]});return e},s.p2Dis=function(t,e){return t.sub(e).mag()},s.calcCubicBezierPoint=function(t,e){for(var i=[],n=void 0,o=void 0,s=void 0,r=void 0,a=void 0,c=void 0,l=void 0,h=void 0,u=void 0,d=void 0,p=1/(e-1),f=0;f<e;f++)u=f*p,s=3*(t[1].x-t[0].x),o=3*(t[2].x-t[1].x)-s,n=t[3].x-t[0].x-s-o,c=3*(t[1].y-t[0].y),a=3*(t[2].y-t[1].y)-c,r=t[3].y-t[0].y-c-a,h=(l=u*u)*u,d=cc.v2(n*h+o*l+s*u+t[0].x,r*h+a*l+c*u+t[0].y),i.push(d);return i},e.exports=gL.Tools=s,cc._RF.pop()},{BigNumber:"BigNumber",RoleModel:void 0}]},{},["Debug","Game","Global","BigNumber","HtmlTextParser","LocalStorage","Time","Tools","AdjustPos","AutoInstantiate","AutoLayout","Breath","Drag","Gesture","List","ListItem","Menu","MyButton","MyLabel","MyRichText","NodeParser","ProgressBar","Relation","Shake","SpecificTap","Tab"]);