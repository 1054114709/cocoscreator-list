window.__require=function t(e,i,n){function s(r,a){if(!i[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!a&&l)return l(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+r+"'")}}var h=i[r]={exports:{}};e[r][0].call(h.exports,function(t){return s(e[r][1][t]||t)},h,h.exports,t,e,i,n)}return i[r].exports}for(var o="function"==typeof __require&&__require,r=0;r<n.length;r++)s(n[r]);return s}({AdjustPos:[function(t,e,i){"use strict";cc._RF.push(e,"d6406aoqctBTKFuThbqHIA/","AdjustPos"),cc.Class({extends:cc.Component,editor:{disallowMultiple:!1,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Adjust Pos"},properties:{posStep:{default:1,min:0},scaleStep:{default:.05,min:0}},onLoad:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onDestroy:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onKeyDown:function(t){0}}),cc._RF.pop()},{}],AutoInstantiate:[function(t,e,i){"use strict";cc._RF.push(e,"260cc4GE4hECqiKzDjKal9O","AutoInstantiate");var n=cc.Class({name:"InstantiateData",properties:{name:"",prefab:cc.Prefab,position:cc.Vec2,siblingIndex:{default:-1,min:-1,step:1,tooltip:!1}}});cc.Class({extends:cc.Component,editor:{disallowMultiple:!1,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Auto Instantiate",executionOrder:-6e3},properties:{auto:{default:!0,tooltip:!1},afterDel:{default:!0,tooltip:!1,visible:function(){return 1==this.auto}},prefabList:[n]},onLoad:function(){this.dict={},this.auto&&(this.createAll(),this.afterDel&&this.node._removeComponent(this))},createAll:function(){for(var t=0,e=this.prefabList.length;t<e;t++)this.createItem(t)},createItem:function(t){var e=this.getItem(t);if(!e){var i=this.prefabList[t];return(e=cc.instantiate(i.prefab))._$idx=t,this.node.addChild(e),i.name&&""!=e.name&&(e._$name=e.name=i.name),i.siblingIndex>=0&&e.setSiblingIndex(i.siblingIndex),e.setPosition(i.position),this.dict[t]=e,e}},createItemByName:function(t){var e=this.prefabList.find(function(e){if(e.name&&e.name==t)return e});return e?this.createItem(e):cc.error("Not find '"+t+"' instantiate data!")},delItem:function(t){var e=this.dict[t];if(!e)return cc.error("Not find '"+t+"' index node!");e.removeFromParent(),e.destroy&&e.destroy(),delete this.dict[t]},delItemByName:function(t){var e=void 0;for(var i in this.dict)if(i._$name==t){e=i;break}if(!e)return cc.error("Not find '"+t+"' node!");e.removeFromParent(),e.destroy&&e.destroy(),delete this.dict[idx]},delAll:function(){for(var t in this.dict)this.delItem(t._$idx)},getItem:function(t){return this.dict[t]},getItemByName:function(t){var e=void 0;for(var i in this.dict)if(i._$name==t){e=i;break}return e}}),cc._RF.pop()},{}],AutoLayout:[function(t,e,i){"use strict";cc._RF.push(e,"736675uGj9DipKXZfaxSydT","AutoLayout");var n=cc.Enum({NODE:1,PREFAB:2});cc.Class({extends:cc.Component,editor:{disallowMultiple:!1,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Auto Layout",executionOrder:-5e3},properties:{templateType:{default:n.NODE,type:n},tmpNode:{default:null,type:cc.Node,tooltip:!1,visible:function(){var t=this.templateType==n.NODE;return t||(this.tmpNode=null),t}},tmpPrefab:{default:null,type:cc.Prefab,tooltip:!1,visible:function(){var t=this.templateType==n.PREFAB;return t||(this.tmpPrefab=null),t}},frameByFrameRenderNum:{default:0,type:cc.Integer,range:[0,12,1],tooltip:!1,slide:!0},renderEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1},_numItems:{default:0,serializable:!1},numItems:{visible:!1,get:function(){return this._numItems},set:function(t){if(null==t||t<0)cc.error("\u6e32\u67d3\u6570\u91cf\u8bbe\u7f6e\u6709\u8bef::",t);else{this._numItems=t,this.startRenderItems()}}}},onLoad:function(){var t=this;t._itemTmp=t.tmpPrefab?t.tmpPrefab.data:t.tmpNode,t._updateCounter=0,t._updateDone=!0,t.node.removeAllChildren(),t.numItems&&t.startRenderItems()},startRenderItems:function(){var t=this;if(t.enabledInHierarchy&&(t._delRedundantItem(),t.numItems>0))if(t.frameByFrameRenderNum>0){for(var e=t.frameByFrameRenderNum>t.numItems?t.numItems:t.frameByFrameRenderNum,i=0;i<e;i++)t._createOrUpdateItem(i);t.frameByFrameRenderNum<t.numItems&&(t._updateCounter=t.frameByFrameRenderNum,t._updateDone=!1)}else for(var n=0;n<t.numItems;n++)t._createOrUpdateItem(n)},update:function(){if(!(this.frameByFrameRender<=0||this._updateDone)){for(var t=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++)this._createOrUpdateItem(e);this._updateCounter>=this._numItems-1?this._updateDone=!0:this._updateCounter+=this.frameByFrameRenderNum}},_createOrUpdateItem:function(t){var e=this,i=e.node.children[t];i||(i=cc.instantiate(e._itemTmp)),i.parent=e.node,e.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],i,t)},updateItem:function(t){Array.isArray(t)||(t=[t]);for(var e=0,i=t.length;e<i;e++){var n=t[e],s=this.node.children[n];s&&this._itemRenderer.emit([s,id])}},updateAll:function(){this.numItems=this.numItems},_delRedundantItem:function(){for(var t=this;t.node.childrenCount>t._numItems;)t._delSingleItem(t.node.children[t.node.childrenCount-1])},_delSingleItem:function(t){t.removeFromParent(),t.destroy&&t.destroy(),t=null},getItemById:function(t){if(t>this._numItems-1||t<0)cc.error("Invalid id.");else{var e=this.node.children[t];if(e)return e;cc.error("Invalid id.")}}}),cc._RF.pop()},{}],BigNumber:[function(t,e,i){"use strict";cc._RF.push(e,"dd46bIfHMFG9J7M9dTTOOaO","BigNumber");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(t){var i,s=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,r=Math.floor,a="[BigNumber Error] ",c=a+"Number primitive has more than 15 significant digits: ",l=1e14,h=14,u=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],f=1e7,p=1e9;function m(t){var e=0|t;return t>0||t===e?e:e-1}function _(t){for(var e,i,n=1,s=t.length,o=t[0]+"";n<s;){for(e=t[n++]+"",i=h-e.length;i--;e="0"+e);o+=e}for(s=o.length;48===o.charCodeAt(--s););return o.slice(0,s+1||1)}function g(t,e){var i,n,s=t.c,o=e.c,r=t.s,a=e.s,c=t.e,l=e.e;if(!r||!a)return null;if(i=s&&!s[0],n=o&&!o[0],i||n)return i?n?0:-a:r;if(r!=a)return r;if(i=r<0,n=c==l,!s||!o)return n?0:!s^i?1:-1;if(!n)return c>l^i?1:-1;for(a=(c=s.length)<(l=o.length)?c:l,r=0;r<a;r++)if(s[r]!=o[r])return s[r]>o[r]^i?1:-1;return c==l?0:c>l^i?1:-1}function v(t,e,i,n){if(t<e||t>i||t!==(t<0?o(t):r(t)))throw Error(a+(n||"Argument")+("number"==typeof t?t<e||t>i?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function y(t){var e=t.c.length-1;return m(t.e/h)==e&&t.c[e]%2!=0}function T(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function b(t,e,i){var n,s;if(e<0){for(s=i+".";++e;s+=i);t=s+t}else if(++e>(n=t.length)){for(s=i,e-=n;--e;s+=i);t+=s}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}(i=function t(e){var i,I,w,S=B.prototype={constructor:B,toString:null,valueOf:null},E=new B(1),L=20,C=4,N=-7,R=21,D=-1e7,O=1e7,F=!1,x=1,A=0,P={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},M="0123456789abcdefghijklmnopqrstuvwxyz";function B(t,e){var i,n,o,a,l,d,f,p,m=this;if(!(m instanceof B))return new B(t,e);if(null==e){if(t instanceof B)return m.s=t.s,m.e=t.e,void(m.c=(t=t.c)?t.slice():t);if((d="number"==typeof t)&&0*t==0){if(m.s=1/t<0?(t=-t,-1):1,t===~~t){for(a=0,l=t;l>=10;l/=10,a++);return m.e=a,void(m.c=[t])}p=String(t)}else{if(p=String(t),!s.test(p))return w(m,p,d);m.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(a=p.indexOf("."))>-1&&(p=p.replace(".","")),(l=p.search(/e/i))>0?(a<0&&(a=l),a+=+p.slice(l+1),p=p.substring(0,l)):a<0&&(a=p.length)}else{if(v(e,2,M.length,"Base"),p=String(t),10==e)return z(m=new B(t instanceof B?t:p),L+m.e+1,C);if(d="number"==typeof t){if(0*t!=0)return w(m,p,d,e);if(m.s=1/t<0?(p=p.slice(1),-1):1,B.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(c+t);d=!1}else m.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(i=M.slice(0,e),a=l=0,f=p.length;l<f;l++)if(i.indexOf(n=p.charAt(l))<0){if("."==n){if(l>a){a=f;continue}}else if(!o&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){o=!0,l=-1,a=0;continue}return w(m,String(t),d,e)}(a=(p=I(p,e,10,m.s)).indexOf("."))>-1?p=p.replace(".",""):a=p.length}for(l=0;48===p.charCodeAt(l);l++);for(f=p.length;48===p.charCodeAt(--f););if(p=p.slice(l,++f)){if(f-=l,d&&B.DEBUG&&f>15&&(t>u||t!==r(t)))throw Error(c+m.s*t);if((a=a-l-1)>O)m.c=m.e=null;else if(a<D)m.c=[m.e=0];else{if(m.e=a,m.c=[],l=(a+1)%h,a<0&&(l+=h),l<f){for(l&&m.c.push(+p.slice(0,l)),f-=h;l<f;)m.c.push(+p.slice(l,l+=h));p=p.slice(l),l=h-p.length}else l-=f;for(;l--;p+="0");m.c.push(+p)}}else m.c=[m.e=0]}function G(t,e,i,n){var s,o,r,a,c;if(null==i?i=C:v(i,0,8),!t.c)return t.toString();if(s=t.c[0],r=t.e,null==e)c=_(t.c),c=1==n||2==n&&r<=N?T(c,r):b(c,r,"0");else if(o=(t=z(new B(t),e,i)).e,a=(c=_(t.c)).length,1==n||2==n&&(e<=o||o<=N)){for(;a<e;c+="0",a++);c=T(c,o)}else if(e-=r,c=b(c,o,"0"),o+1>a){if(--e>0)for(c+=".";e--;c+="0");}else if((e+=o-a)>0)for(o+1==a&&(c+=".");e--;c+="0");return t.s<0&&s?"-"+c:c}function k(t,e){for(var i,n=1,s=new B(t[0]);n<t.length;n++){if(!(i=new B(t[n])).s){s=i;break}e.call(s,i)&&(s=i)}return s}function H(t,e,i){for(var n=1,s=e.length;!e[--s];e.pop());for(s=e[0];s>=10;s/=10,n++);return(i=n+i*h-1)>O?t.c=t.e=null:i<D?t.c=[t.e=0]:(t.e=i,t.c=e),t}function z(t,e,i,n){var s,a,c,u,f,p,m,_=t.c,g=d;if(_){t:{for(s=1,u=_[0];u>=10;u/=10,s++);if((a=e-s)<0)a+=h,c=e,m=(f=_[p=0])/g[s-c-1]%10|0;else if((p=o((a+1)/h))>=_.length){if(!n)break t;for(;_.length<=p;_.push(0));f=m=0,s=1,c=(a%=h)-h+1}else{for(f=u=_[p],s=1;u>=10;u/=10,s++);m=(c=(a%=h)-h+s)<0?0:f/g[s-c-1]%10|0}if(n=n||e<0||null!=_[p+1]||(c<0?f:f%g[s-c-1]),n=i<4?(m||n)&&(0==i||i==(t.s<0?3:2)):m>5||5==m&&(4==i||n||6==i&&(a>0?c>0?f/g[s-c]:0:_[p-1])%10&1||i==(t.s<0?8:7)),e<1||!_[0])return _.length=0,n?(e-=t.e+1,_[0]=g[(h-e%h)%h],t.e=-e||0):_[0]=t.e=0,t;if(0==a?(_.length=p,u=1,p--):(_.length=p+1,u=g[h-a],_[p]=c>0?r(f/g[s-c]%g[c])*u:0),n)for(;;){if(0==p){for(a=1,c=_[0];c>=10;c/=10,a++);for(c=_[0]+=u,u=1;c>=10;c/=10,u++);a!=u&&(t.e++,_[0]==l&&(_[0]=1));break}if(_[p]+=u,_[p]!=l)break;_[p--]=0,u=1}for(a=_.length;0===_[--a];_.pop());}t.e>O?t.c=t.e=null:t.e<D&&(t.c=[t.e=0])}return t}function U(t){var e,i=t.e;return null===i?t.toString():(e=_(t.c),e=i<=N||i>=R?T(e,i):b(e,i,"0"),t.s<0?"-"+e:e)}return B.clone=t,B.ROUND_UP=0,B.ROUND_DOWN=1,B.ROUND_CEIL=2,B.ROUND_FLOOR=3,B.ROUND_HALF_UP=4,B.ROUND_HALF_DOWN=5,B.ROUND_HALF_EVEN=6,B.ROUND_HALF_CEIL=7,B.ROUND_HALF_FLOOR=8,B.EUCLID=9,B.config=B.set=function(t){var e,i;if(null!=t){if("object"!=(void 0===t?"undefined":n(t)))throw Error(a+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(v(i=t[e],0,p,e),L=i),t.hasOwnProperty(e="ROUNDING_MODE")&&(v(i=t[e],0,8,e),C=i),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((i=t[e])&&i.pop?(v(i[0],-p,0,e),v(i[1],0,p,e),N=i[0],R=i[1]):(v(i,-p,p,e),N=-(R=i<0?-i:i))),t.hasOwnProperty(e="RANGE"))if((i=t[e])&&i.pop)v(i[0],-p,-1,e),v(i[1],1,p,e),D=i[0],O=i[1];else{if(v(i,-p,p,e),!i)throw Error(a+e+" cannot be zero: "+i);D=-(O=i<0?-i:i)}if(t.hasOwnProperty(e="CRYPTO")){if((i=t[e])!==!!i)throw Error(a+e+" not true or false: "+i);if(i){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw F=!i,Error(a+"crypto unavailable");F=i}else F=i}if(t.hasOwnProperty(e="MODULO_MODE")&&(v(i=t[e],0,9,e),x=i),t.hasOwnProperty(e="POW_PRECISION")&&(v(i=t[e],0,p,e),A=i),t.hasOwnProperty(e="FORMAT")){if("object"!=(void 0===(i=t[e])?"undefined":n(i)))throw Error(a+e+" not an object: "+i);P=i}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(i=t[e])||/^.$|[+-.\s]|(.).*\1/.test(i))throw Error(a+e+" invalid: "+i);M=i}}return{DECIMAL_PLACES:L,ROUNDING_MODE:C,EXPONENTIAL_AT:[N,R],RANGE:[D,O],CRYPTO:F,MODULO_MODE:x,POW_PRECISION:A,FORMAT:P,ALPHABET:M}},B.isBigNumber=function(t){return t instanceof B||t&&!0===t._isBigNumber||!1},B.maximum=B.max=function(){return k(arguments,S.lt)},B.minimum=B.min=function(){return k(arguments,S.gt)},B.random=function(){var t=9007199254740992*Math.random()&2097151?function(){return r(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(e){var i,n,s,c,l,u=0,f=[],m=new B(E);if(null==e?e=L:v(e,0,p),c=o(e/h),F)if(crypto.getRandomValues){for(i=crypto.getRandomValues(new Uint32Array(c*=2));u<c;)(l=131072*i[u]+(i[u+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),i[u]=n[0],i[u+1]=n[1]):(f.push(l%1e14),u+=2);u=c/2}else{if(!crypto.randomBytes)throw F=!1,Error(a+"crypto unavailable");for(i=crypto.randomBytes(c*=7);u<c;)(l=281474976710656*(31&i[u])+1099511627776*i[u+1]+4294967296*i[u+2]+16777216*i[u+3]+(i[u+4]<<16)+(i[u+5]<<8)+i[u+6])>=9e15?crypto.randomBytes(7).copy(i,u):(f.push(l%1e14),u+=7);u=c/7}if(!F)for(;u<c;)(l=t())<9e15&&(f[u++]=l%1e14);for(c=f[--u],e%=h,c&&e&&(l=d[h-e],f[u]=r(c/l)*l);0===f[u];f.pop(),u--);if(u<0)f=[s=0];else{for(s=-1;0===f[0];f.splice(0,1),s-=h);for(u=1,l=f[0];l>=10;l/=10,u++);u<h&&(s-=h-u)}return m.e=s,m.c=f,m}}(),B.sum=function(){for(var t=1,e=arguments,i=new B(e[0]);t<e.length;)i=i.plus(e[t++]);return i},I=function(){function t(t,e,i,n){for(var s,o,r=[0],a=0,c=t.length;a<c;){for(o=r.length;o--;r[o]*=e);for(r[0]+=n.indexOf(t.charAt(a++)),s=0;s<r.length;s++)r[s]>i-1&&(null==r[s+1]&&(r[s+1]=0),r[s+1]+=r[s]/i|0,r[s]%=i)}return r.reverse()}return function(e,n,s,o,r){var a,c,l,h,u,d,f,p,m=e.indexOf("."),g=L,v=C;for(m>=0&&(h=A,A=0,e=e.replace(".",""),d=(p=new B(n)).pow(e.length-m),A=h,p.c=t(b(_(d.c),d.e,"0"),10,s,"0123456789"),p.e=p.c.length),l=h=(f=t(e,n,s,r?(a=M,"0123456789"):(a="0123456789",M))).length;0==f[--h];f.pop());if(!f[0])return a.charAt(0);if(m<0?--l:(d.c=f,d.e=l,d.s=o,f=(d=i(d,p,g,v,s)).c,u=d.r,l=d.e),m=f[c=l+g+1],h=s/2,u=u||c<0||null!=f[c+1],u=v<4?(null!=m||u)&&(0==v||v==(d.s<0?3:2)):m>h||m==h&&(4==v||u||6==v&&1&f[c-1]||v==(d.s<0?8:7)),c<1||!f[0])e=u?b(a.charAt(1),-g,a.charAt(0)):a.charAt(0);else{if(f.length=c,u)for(--s;++f[--c]>s;)f[c]=0,c||(++l,f=[1].concat(f));for(h=f.length;!f[--h];);for(m=0,e="";m<=h;e+=a.charAt(f[m++]));e=b(e,l,a.charAt(0))}return e}}(),i=function(){function t(t,e,i){var n,s,o,r,a=0,c=t.length,l=e%f,h=e/f|0;for(t=t.slice();c--;)a=((s=l*(o=t[c]%f)+(n=h*o+(r=t[c]/f|0)*l)%f*f+a)/i|0)+(n/f|0)+h*r,t[c]=s%i;return a&&(t=[a].concat(t)),t}function e(t,e,i,n){var s,o;if(i!=n)o=i>n?1:-1;else for(s=o=0;s<i;s++)if(t[s]!=e[s]){o=t[s]>e[s]?1:-1;break}return o}function i(t,e,i,n){for(var s=0;i--;)t[i]-=s,s=t[i]<e[i]?1:0,t[i]=s*n+t[i]-e[i];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(n,s,o,a,c){var u,d,f,p,_,g,v,y,T,b,I,w,S,E,L,C,N,R=n.s==s.s?1:-1,D=n.c,O=s.c;if(!(D&&D[0]&&O&&O[0]))return new B(n.s&&s.s&&(D?!O||D[0]!=O[0]:O)?D&&0==D[0]||!O?0*R:R/0:NaN);for(T=(y=new B(R)).c=[],R=o+(d=n.e-s.e)+1,c||(c=l,d=m(n.e/h)-m(s.e/h),R=R/h|0),f=0;O[f]==(D[f]||0);f++);if(O[f]>(D[f]||0)&&d--,R<0)T.push(1),p=!0;else{for(E=D.length,C=O.length,f=0,R+=2,(_=r(c/(O[0]+1)))>1&&(O=t(O,_,c),D=t(D,_,c),C=O.length,E=D.length),S=C,I=(b=D.slice(0,C)).length;I<C;b[I++]=0);N=O.slice(),N=[0].concat(N),L=O[0],O[1]>=c/2&&L++;do{if(_=0,(u=e(O,b,C,I))<0){if(w=b[0],C!=I&&(w=w*c+(b[1]||0)),(_=r(w/L))>1)for(_>=c&&(_=c-1),v=(g=t(O,_,c)).length,I=b.length;1==e(g,b,v,I);)_--,i(g,C<v?N:O,v,c),v=g.length,u=1;else 0==_&&(u=_=1),v=(g=O.slice()).length;if(v<I&&(g=[0].concat(g)),i(b,g,I,c),I=b.length,-1==u)for(;e(O,b,C,I)<1;)_++,i(b,C<I?N:O,I,c),I=b.length}else 0===u&&(_++,b=[0]);T[f++]=_,b[0]?b[I++]=D[S]||0:(b=[D[S]],I=1)}while((S++<E||null!=b[0])&&R--);p=null!=b[0],T[0]||T.splice(0,1)}if(c==l){for(f=1,R=T[0];R>=10;R/=10,f++);z(y,o+(y.e=f+d*h-1)+1,a,p)}else y.e=d,y.r=+p;return y}}(),w=function(){var t=/^(-?)0([xbo])(?=\w[\w.]*$)/i,e=/^([^.]+)\.$/,i=/^\.([^.]+)$/,n=/^-?(Infinity|NaN)$/,s=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(o,r,c,l){var h,u=c?r:r.replace(s,"");if(n.test(u))o.s=isNaN(u)?null:u<0?-1:1,o.c=o.e=null;else{if(!c&&(u=u.replace(t,function(t,e,i){return h="x"==(i=i.toLowerCase())?16:"b"==i?2:8,l&&l!=h?t:e}),l&&(h=l,u=u.replace(e,"$1").replace(i,"0.$1")),r!=u))return new B(u,h);if(B.DEBUG)throw Error(a+"Not a"+(l?" base "+l:"")+" number: "+r);o.c=o.e=o.s=null}}}(),S.absoluteValue=S.abs=function(){var t=new B(this);return t.s<0&&(t.s=1),t},S.comparedTo=function(t,e){return g(this,new B(t,e))},S.decimalPlaces=S.dp=function(t,e){var i,n,s,o=this;if(null!=t)return v(t,0,p),null==e?e=C:v(e,0,8),z(new B(o),t+o.e+1,e);if(!(i=o.c))return null;if(n=((s=i.length-1)-m(this.e/h))*h,s=i[s])for(;s%10==0;s/=10,n--);return n<0&&(n=0),n},S.dividedBy=S.div=function(t,e){return i(this,new B(t,e),L,C)},S.dividedToIntegerBy=S.idiv=function(t,e){return i(this,new B(t,e),0,1)},S.exponentiatedBy=S.pow=function(t,e){var i,n,s,c,l,u,d,f,p=this;if((t=new B(t)).c&&!t.isInteger())throw Error(a+"Exponent not an integer: "+U(t));if(null!=e&&(e=new B(e)),l=t.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!t.c||!t.c[0])return f=new B(Math.pow(+U(p),l?2-y(t):+U(t))),e?f.mod(e):f;if(u=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new B(NaN);(n=!u&&p.isInteger()&&e.isInteger())&&(p=p.mod(e))}else{if(t.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||l&&p.c[1]>=24e7:p.c[0]<8e13||l&&p.c[0]<=9999975e7)))return c=p.s<0&&y(t)?-0:0,p.e>-1&&(c=1/c),new B(u?1/c:c);A&&(c=o(A/h+2))}for(l?(i=new B(.5),u&&(t.s=1),d=y(t)):d=(s=Math.abs(+U(t)))%2,f=new B(E);;){if(d){if(!(f=f.times(p)).c)break;c?f.c.length>c&&(f.c.length=c):n&&(f=f.mod(e))}if(s){if(0===(s=r(s/2)))break;d=s%2}else if(z(t=t.times(i),t.e+1,1),t.e>14)d=y(t);else{if(0==(s=+U(t)))break;d=s%2}p=p.times(p),c?p.c&&p.c.length>c&&(p.c.length=c):n&&(p=p.mod(e))}return n?f:(u&&(f=E.div(f)),e?f.mod(e):c?z(f,A,C,void 0):f)},S.integerValue=function(t){var e=new B(this);return null==t?t=C:v(t,0,8),z(e,e.e+1,t)},S.isEqualTo=S.eq=function(t,e){return 0===g(this,new B(t,e))},S.isFinite=function(){return!!this.c},S.isGreaterThan=S.gt=function(t,e){return g(this,new B(t,e))>0},S.isGreaterThanOrEqualTo=S.gte=function(t,e){return 1===(e=g(this,new B(t,e)))||0===e},S.isInteger=function(){return!!this.c&&m(this.e/h)>this.c.length-2},S.isLessThan=S.lt=function(t,e){return g(this,new B(t,e))<0},S.isLessThanOrEqualTo=S.lte=function(t,e){return-1===(e=g(this,new B(t,e)))||0===e},S.isNaN=function(){return!this.s},S.isNegative=function(){return this.s<0},S.isPositive=function(){return this.s>0},S.isZero=function(){return!!this.c&&0==this.c[0]},S.minus=function(t,e){var i,n,s,o,r=this,a=r.s;if(e=(t=new B(t,e)).s,!a||!e)return new B(NaN);if(a!=e)return t.s=-e,r.plus(t);var c=r.e/h,u=t.e/h,d=r.c,f=t.c;if(!c||!u){if(!d||!f)return d?(t.s=-e,t):new B(f?r:NaN);if(!d[0]||!f[0])return f[0]?(t.s=-e,t):new B(d[0]?r:3==C?-0:0)}if(c=m(c),u=m(u),d=d.slice(),a=c-u){for((o=a<0)?(a=-a,s=d):(u=c,s=f),s.reverse(),e=a;e--;s.push(0));s.reverse()}else for(n=(o=(a=d.length)<(e=f.length))?a:e,a=e=0;e<n;e++)if(d[e]!=f[e]){o=d[e]<f[e];break}if(o&&(s=d,d=f,f=s,t.s=-t.s),(e=(n=f.length)-(i=d.length))>0)for(;e--;d[i++]=0);for(e=l-1;n>a;){if(d[--n]<f[n]){for(i=n;i&&!d[--i];d[i]=e);--d[i],d[n]+=l}d[n]-=f[n]}for(;0==d[0];d.splice(0,1),--u);return d[0]?H(t,d,u):(t.s=3==C?-1:1,t.c=[t.e=0],t)},S.modulo=S.mod=function(t,e){var n,s,o=this;return t=new B(t,e),!o.c||!t.s||t.c&&!t.c[0]?new B(NaN):!t.c||o.c&&!o.c[0]?new B(o):(9==x?(s=t.s,t.s=1,n=i(o,t,0,3),t.s=s,n.s*=s):n=i(o,t,0,x),(t=o.minus(n.times(t))).c[0]||1!=x||(t.s=o.s),t)},S.multipliedBy=S.times=function(t,e){var i,n,s,o,r,a,c,u,d,p,_,g,v,y,T,b=this,I=b.c,w=(t=new B(t,e)).c;if(!(I&&w&&I[0]&&w[0]))return!b.s||!t.s||I&&!I[0]&&!w||w&&!w[0]&&!I?t.c=t.e=t.s=null:(t.s*=b.s,I&&w?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=m(b.e/h)+m(t.e/h),t.s*=b.s,(c=I.length)<(p=w.length)&&(v=I,I=w,w=v,s=c,c=p,p=s),s=c+p,v=[];s--;v.push(0));for(y=l,T=f,s=p;--s>=0;){for(i=0,_=w[s]%T,g=w[s]/T|0,o=s+(r=c);o>s;)i=((u=_*(u=I[--r]%T)+(a=g*u+(d=I[r]/T|0)*_)%T*T+v[o]+i)/y|0)+(a/T|0)+g*d,v[o--]=u%y;v[o]=i}return i?++n:v.splice(0,1),H(t,v,n)},S.negated=function(){var t=new B(this);return t.s=-t.s||null,t},S.plus=function(t,e){var i,n=this,s=n.s;if(e=(t=new B(t,e)).s,!s||!e)return new B(NaN);if(s!=e)return t.s=-e,n.minus(t);var o=n.e/h,r=t.e/h,a=n.c,c=t.c;if(!o||!r){if(!a||!c)return new B(s/0);if(!a[0]||!c[0])return c[0]?t:new B(a[0]?n:0*s)}if(o=m(o),r=m(r),a=a.slice(),s=o-r){for(s>0?(r=o,i=c):(s=-s,i=a),i.reverse();s--;i.push(0));i.reverse()}for((s=a.length)-(e=c.length)<0&&(i=c,c=a,a=i,e=s),s=0;e;)s=(a[--e]=a[e]+c[e]+s)/l|0,a[e]=l===a[e]?0:a[e]%l;return s&&(a=[s].concat(a),++r),H(t,a,r)},S.precision=S.sd=function(t,e){var i,n,s,o=this;if(null!=t&&t!==!!t)return v(t,1,p),null==e?e=C:v(e,0,8),z(new B(o),t,e);if(!(i=o.c))return null;if(n=(s=i.length-1)*h+1,s=i[s]){for(;s%10==0;s/=10,n--);for(s=i[0];s>=10;s/=10,n++);}return t&&o.e+1>n&&(n=o.e+1),n},S.shiftedBy=function(t){return v(t,-u,u),this.times("1e"+t)},S.squareRoot=S.sqrt=function(){var t,e,n,s,o,r=this,a=r.c,c=r.s,l=r.e,h=L+4,u=new B("0.5");if(1!==c||!a||!a[0])return new B(!c||c<0&&(!a||a[0])?NaN:a?r:1/0);if(0==(c=Math.sqrt(+U(r)))||c==1/0?(((e=_(a)).length+l)%2==0&&(e+="0"),c=Math.sqrt(+e),l=m((l+1)/2)-(l<0||l%2),n=new B(e=c==1/0?"1e"+l:(e=c.toExponential()).slice(0,e.indexOf("e")+1)+l)):n=new B(c+""),n.c[0])for((c=(l=n.e)+h)<3&&(c=0);;)if(o=n,n=u.times(o.plus(i(r,o,h,1))),_(o.c).slice(0,c)===(e=_(n.c)).slice(0,c)){if(n.e<l&&--c,"9999"!=(e=e.slice(c-3,c+1))&&(s||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(z(n,n.e+L+2,1),t=!n.times(n).eq(r));break}if(!s&&(z(o,o.e+L+2,0),o.times(o).eq(r))){n=o;break}h+=4,c+=4,s=1}return z(n,n.e+L+1,C,t)},S.toExponential=function(t,e){return null!=t&&(v(t,0,p),t++),G(this,t,e,1)},S.toFixed=function(t,e){return null!=t&&(v(t,0,p),t=t+this.e+1),G(this,t,e)},S.toFormat=function(t,e,i){var s,o=this;if(null==i)null!=t&&e&&"object"==(void 0===e?"undefined":n(e))?(i=e,e=null):t&&"object"==(void 0===t?"undefined":n(t))?(i=t,t=e=null):i=P;else if("object"!=(void 0===i?"undefined":n(i)))throw Error(a+"Argument not an object: "+i);if(s=o.toFixed(t,e),o.c){var r,c=s.split("."),l=+i.groupSize,h=+i.secondaryGroupSize,u=i.groupSeparator||"",d=c[0],f=c[1],p=o.s<0,m=p?d.slice(1):d,_=m.length;if(h&&(r=l,l=h,h=r,_-=r),l>0&&_>0){for(r=_%l||l,d=m.substr(0,r);r<_;r+=l)d+=u+m.substr(r,l);h>0&&(d+=u+m.slice(r)),p&&(d="-"+d)}s=f?d+(i.decimalSeparator||"")+((h=+i.fractionGroupSize)?f.replace(new RegExp("\\d{"+h+"}\\B","g"),"$&"+(i.fractionGroupSeparator||"")):f):d}return(i.prefix||"")+s+(i.suffix||"")},S.toFraction=function(t){var e,n,s,o,r,c,l,u,f,p,m,g,v=this,y=v.c;if(null!=t&&(!(l=new B(t)).isInteger()&&(l.c||1!==l.s)||l.lt(E)))throw Error(a+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+U(l));if(!y)return new B(v);for(e=new B(E),f=n=new B(E),s=u=new B(E),g=_(y),r=e.e=g.length-v.e-1,e.c[0]=d[(c=r%h)<0?h+c:c],t=!t||l.comparedTo(e)>0?r>0?e:f:l,c=O,O=1/0,l=new B(g),u.c[0]=0;p=i(l,e,0,1),1!=(o=n.plus(p.times(s))).comparedTo(t);)n=s,s=o,f=u.plus(p.times(o=f)),u=o,e=l.minus(p.times(o=e)),l=o;return o=i(t.minus(n),s,0,1),u=u.plus(o.times(f)),n=n.plus(o.times(s)),u.s=f.s=v.s,m=i(f,s,r*=2,C).minus(v).abs().comparedTo(i(u,n,r,C).minus(v).abs())<1?[f,s]:[u,n],O=c,m},S.toNumber=function(){return+U(this)},S.toPrecision=function(t,e){return null!=t&&v(t,1,p),G(this,t,e,2)},S.toString=function(t){var e,i=this,n=i.s,s=i.e;return null===s?n?(e="Infinity",n<0&&(e="-"+e)):e="NaN":(e=_(i.c),null==t?e=s<=N||s>=R?T(e,s):b(e,s,"0"):(v(t,2,M.length,"Base"),e=I(b(e,s,"0"),10,t,n,!0)),n<0&&i.c[0]&&(e="-"+e)),e},S.valueOf=S.toJSON=function(){return U(this)},S._isBigNumber=!0,"function"==typeof Symbol&&"symbol"==n(Symbol.iterator)&&(S[Symbol.toStringTag]="BigNumber",S[Symbol.for("nodejs.util.inspect.custom")]=S.valueOf),null!=e&&B.set(e),B}()).default=i.BigNumber=i,"function"==typeof define&&define.amd?define(function(){return i}):void 0!==e&&e.exports?e.exports=i:(t||(t="undefined"!=typeof self&&self?self:window),t.BigNumber=i)})(void 0),cc._RF.pop()},{}],Breath:[function(t,e,i){"use strict";cc._RF.push(e,"90a98GtxtRLUZXD/Wx/SF5A","Breath");var n=cc.Enum({OPACITY:1,SCALE:2});cc.Class({editor:{disallowMultiple:!0,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Breath"},extends:cc.Component,properties:{duration:{default:2,min:.2,step:.1,tooltip:!1},breathType:{default:n.OPACITY,type:n},opacityMin:{default:50,rang:[0,255,1],tooltip:!1,visible:function(){return this.breathType==n.OPACITY}},opacityMax:{default:255,rang:[0,255,1],tooltip:!1,visible:function(){return this.breathType==n.OPACITY}},scaleMin:{default:1,min:0,tooltip:!1,visible:function(){return this.breathType==n.SCALE}},scaleMax:{default:1.1,min:0,tooltip:!1,visible:function(){return this.breathType==n.SCALE}},times:{default:0,type:cc.Integer,min:0,tooltip:!1},afterDel:{default:!1,tooltip:!1,visible:function(){return this.times>0}},delayDel:{default:0,type:cc.Float,min:0,tooltip:!1}},start:function(){var t=this;t.duration=Math.abs(t.duration);var e=void 0;switch(t.breathType){case n.OPACITY:e=new cc.Sequence([new cc.fadeTo(t.duration/2,t.opacityMin),new cc.fadeTo(t.duration/2,t.opacityMax)]);break;case n.SCALE:var i=void 0;i=t.node.scaleX==t.opacityMax?[new cc.scaleTo(t.duration/2,t.scaleMin),new cc.scaleTo(t.duration/2,t.scaleMax)]:[new cc.scaleTo(t.duration/2,t.scaleMax),new cc.scaleTo(t.duration/2,t.scaleMin)],e=new cc.Sequence(i)}var s=void 0;t.times>0?(s=cc.repeat(e,t.times),t.node.runAction(new cc.Sequence([s,new cc.callFunc(function(){t.afterDel&&(t.node.removeFromParent(),t.node.destroy())})]))):(s=cc.repeatForever(e),t.node.runAction(s)),t.delayDel>0&&t.scheduleOnce(function(){t.node.removeFromParent(),t.node.destroy()},t.delayDel)},onDestroy:function(){this.node&&this.node.stopAllActions(),this.unscheduleAllCallbacks()}}),cc._RF.pop()},{}],ChatTouchEventHandler:[function(t,e,i){"use strict";cc._RF.push(e,"2586cU3HspPPZvMzLd4QMGl","ChatTouchEventHandler"),cc.Class({editor:{disallowMultiple:!0,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Chat Touch Event Handler"},extends:cc.Component,clickNickname:function(t,e){}}),cc._RF.pop()},{}],Debug:[function(t,e,i){"use strict";cc._RF.push(e,"d0a39W19QFFrZ+CVpRPwMet","Debug"),window.ylhlog=function(){},window.lzplog=function(){},window.kllog=function(){},window.lkllog=function(){cc.log.apply(cc,arguments)},cc._RF.pop()},{}],Drag:[function(t,e,i){"use strict";cc._RF.push(e,"497aa0dZs1PD43+RQUKYWOu","Drag"),cc.Class({extends:cc.Component,editor:{disallowMultiple:!1,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Drag"},properties:{dragStartEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1},dragMoveEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1},dragEndEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1},boundsActive:{tooltip:!1,default:!1},boundTop:{default:0,visible:function(){return this.boundsActive},notify:function(){this._checkedBounds=null}},boundBottom:{default:0,visible:function(){return this.boundsActive},notify:function(){this._checkedBounds=null}},boundLeft:{default:0,visible:function(){return this.boundsActive},notify:function(){this._checkedBounds=null}},boundRight:{default:0,visible:function(){return this.boundsActive},notify:function(){this._checkedBounds=null}}},onEnable:function(){this._registerEvent()},onDisable:function(){this._unregisterEvent()},_registerEvent:function(){var t=this;t.node.on(cc.Node.EventType.TOUCH_START,t._onTouchStart,t),t.node.on(cc.Node.EventType.TOUCH_MOVE,t._onTouchMove,t),t.node.on(cc.Node.EventType.TOUCH_END,t._onTouchEnd,t),t.node.on(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancel,t)},_unregisterEvent:function(){var t=this;t.node.off(cc.Node.EventType.TOUCH_START,t._onTouchStart,t),t.node.off(cc.Node.EventType.TOUCH_MOVE,t._onTouchMove,t),t.node.off(cc.Node.EventType.TOUCH_END,t._onTouchEnd,t),t.node.off(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancel,t)},_onTouchStart:function(t){this._startNodePos=this.node.getPosition(),this._startTouchPos={x:t.touch._point.x,y:t.touch._point.y},this.dragStartEvent&&cc.Component.EventHandler.emitEvents([this.dragStartEvent],this.node,this._startNodePos)},_onTouchMove:function(t){if(this._startNodePos&&this._startTouchPos){var e=t.touch._point,i=e.x-this._startTouchPos.x,n=e.y-this._startTouchPos.y,s=this._startNodePos.x+i,o=this._startNodePos.y+n;this.boundsActive&&(this._checkBounds(),o>this.boundTop&&(o=this.boundTop),s>this.boundRight&&(s=this.boundRight),o<this.boundBottom&&(o=this.boundBottom),s<this.boundLeft&&(s=this.boundLeft));var r=cc.v2(s,o);this.node.setPosition(r),this.dragMoveEvent&&cc.Component.EventHandler.emitEvents([this.dragMoveEvent],this.node,r)}},_onTouchEnd:function(t){this.stopDarg()},_onTouchCancel:function(t){},_checkBounds:function(){!this._checkedBounds&&this.boundsActive&&(this.boundBottom>this.boundTop&&(cc.warn("The boundBottom > boundTop"),this.boundBottom=this.boundTop),this.boundRight<this.boundLeft&&(cc.warn("The boundRight > boundLeft"),this.boundRight=this.boundLeft),this._checkedBounds=!0)},stopDarg:function(){this._startNodePos=this._startTouchPos=null,this.dragEndEvent&&cc.Component.EventHandler.emitEvents([this.dragEndEvent],this.node,this.node.getPosition())}}),cc._RF.pop()},{}],Game:[function(t,e,i){"use strict";cc._RF.push(e,"a0208gxaz1DIqkvR6C+mTPj","Game");var n=t("Drag"),s=t("LocalStorage"),o=t("List");cc.Class({extends:cc.Component,properties:{titleNode:cc.Node,playNode:cc.Node,overNode:cc.Node,rankNode:cc.Node,listRank:o,pieceNode:cc.Node,nameNode:cc.Node,time:cc.Label,overShowTime:cc.Label,edit:cc.EditBox,editErr:cc.Label},onLoad:function(){this.messData={1:cc.v2(693,-324),2:cc.v2(-451,-234),3:cc.v2(168,489),4:cc.v2(2,-484),5:cc.v2(-532,-450),6:cc.v2(-289,462),7:cc.v2(-662,436),8:cc.v2(-129,-468),9:cc.v2(432,-425),10:cc.v2(-874,96),11:cc.v2(672,-457),12:cc.v2(-110,464),13:cc.v2(742,-117),14:cc.v2(55,464),15:cc.v2(620,146),16:cc.v2(-716,109),17:cc.v2(-5,369),18:cc.v2(-475,468),19:cc.v2(-351,-411),20:cc.v2(-618,275),21:cc.v2(-722,-114),22:cc.v2(-788,266),23:cc.v2(-452,324),24:cc.v2(-632,-343),25:cc.v2(521,463),26:cc.v2(781,120),27:cc.v2(-829,-445),28:cc.v2(752,309),29:cc.v2(848,-434),30:cc.v2(902,114),31:cc.v2(-522,222),32:cc.v2(158,423)},this.initComponent(),this.initGame()},start:function(){},initComponent:function(){var t=this;this.correctData={},this.allPiece(function(e){e.pid=+e.name,e.abbr=e.getChildByName("abbr"),e.drag=e.addComponent(n),e.drag.dragEndEvent=gL.Tools.createEvt(t,"onDragEnd"),e.drag.dragStartEvent=gL.Tools.createEvt(t,"onDragStart"),t.correctData[e.pid]=e.getPosition()})},initGame:function(){var t=this;this.titleNode.active=!0,this.rankNode.active=!1,this.playNode.active=!1,this.overNode.active=!1,this.allPiece(function(e){e.setPosition(t.messData[e.name]),e.abbr.active=!0,e.drag.enabled=!0}),this.sec=0},startGame:function(){this.titleNode.active=!1,this.rankNode.active=!1,this.playNode.active=!0,this.overNode.active=!1,this.allName(function(t){t.active=!1}),this.score=0,this.playing=!0},overGame:function(){this.titleNode.active=!1,this.rankNode.active=!1,this.playNode.active=!0,this.overNode.active=!0,this.playing=!1,this.overShowTime.string=this.sec.toFixed(2),this.editErr.node.opacity=0},switchRank:function(){var t=!this.rankNode.active;if(this.rankNode.active=t,t){for(var e in this.rankData=[],cc.sys.localStorage){var i=+cc.sys.localStorage[e];isNaN(i)||"length"==e||this.rankData.push({name:e,time:i})}if(gL.Tools.bubbleSort(this.rankData,"time"),this.listRank.numItems=this.rankData.length,this.scrollToRankName){for(var n=void 0,s=this.rankData.length-1;s>=0;s--){this.rankData[s].name==this.scrollToRankName&&(n=s)}null!=n&&this.listRank.scrollTo(n,.7,null,!0),delete this.scrollToRankName}}},onListRankRender:function(t,e){t.spRank||gL.Tools.parseNode(t,[["spRank",cc.Sprite],["labelRank",cc.Label],["labelName",cc.Label],["time",cc.Label]],1,null,1);var i=e<3;t.spRank.node.active=i,t.labelRank.node.active=!i,i?gL.Image.set(t.spRank,"rank_"+(e+1)):t.labelRank.string=e+1;var n=this.rankData[e];t.labelName.string=gL.Tools.str2V(n.name),t.time.string=n.time.toFixed(2)},allPiece:function(t){for(var e=this.pieceNode.childrenCount-1;e>=0;e--){t(this.pieceNode.children[e])}},allName:function(t){for(var e=this.nameNode.childrenCount-1;e>=0;e--){t(this.nameNode.children[e])}},onDragStart:function(t,e){t.setSiblingIndex(t.parent.childrenCount-1)},onDragEnd:function(t,e){var i=this;t.drag.enabled=!1,gL.Tools.p2Dis(e,this.correctData[t.pid])<20?(cc.tween(t).to(.1,{position:this.correctData[t.pid]},{easing:"sineInOut"}).call(function(){t.abbr.active=!1,i.allName(function(e){+e.name==t.pid&&(e.active=!0,e.scale=0,cc.tween(e).to(.1,{scale:1}).start())})}).start(),this.score++,cc.log(this.score,this.correctData.length),this.score>=this.pieceNode.childrenCount&&this.overGame()):cc.tween(t).to(.3,{position:this.messData[t.pid]},{easing:"sineInOut"}).call(function(){t.drag.enabled=!0}).start()},update:function(t){this.playing&&(this.sec+=t,this.time.string=this.sec.toFixed(2))},btnEv:function(t){switch(t.currentTarget.name){case"btnConfirm":if(!this.edit.string.replace(" ","").length)return this.editErrTween&&this.editErrTween.stop(),void(this.editErrTween=cc.tween(this.editErr.node).to(.01,{opacity:255}).delay(2).to(1,{opacity:0}).start());s.setItem(this.edit.string,this.sec),this.initGame(),this.scrollToRankName=this.edit.string,this.switchRank()}}}),cc._RF.pop()},{Drag:"Drag",List:"List",LocalStorage:"LocalStorage"}],Gesture:[function(t,e,i){"use strict";cc._RF.push(e,"21f4aJ57eVFqYjiFftN18S/","Gesture");cc.Enum({UP:1,RIGHT:2,DOWN:3,LEFT:4});cc.Class({editor:{menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Gesture"},extends:cc.Component,properties:{minDistance:{default:100,min:0,step:1,tooltip:!1},maxDistance:{default:300,min:-1,step:1,tooltip:!1},events:{default:[],type:cc.Component.EventHandler,tooltip:!1}},onEnable:function(){this.node.on(cc.Node.EventType.TOUCH_START,this._onSlideStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._onSliding,this),this.node.on(cc.Node.EventType.TOUCH_END,this._onSlideStop,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._onSlideStop,this)},onDisable:function(){this.node.off(cc.Node.EventType.TOUCH_START,this._onSlideStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this._onSliding,this),this.node.off(cc.Node.EventType.TOUCH_END,this._onSlideStop,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this._onSlideStop,this)},_onSlideStart:function(t){this._startPos=t.touch._point.clone(),this.interruption=null},_onSliding:function(t){this.maxDistance<=0||this.interruption||this._startPos.sub(t.touch._point.clone()).mag()>this.maxDistance&&(this._onSlideStop(t),this.interruption=!0)},_onSlideStop:function(t){if(this.interruption)return this.interruption=null;this._stopPos=t.touch._point.clone();for(var e=[this._stopPos.y-this._startPos.y,this._stopPos.x-this._startPos.x,this._startPos.y-this._stopPos.y,this._startPos.x-this._stopPos.x],i=e[e.length-1],n=e.length-1,s=e.length-2;s>=0;s--)i<e[s]&&(i=e[s],n=s);this._startPos.sub(this._stopPos).mag()<this.minDistance||(this.event(n+1),this._startPos=null)},event:function(t){cc.Component.EventHandler.emitEvents(this.events,t)}}),cc._RF.pop()},{}],Global:[function(t,e,i){(function(t){"use strict";cc._RF.push(e,"47c14mvmydDeYG0SWtiIrPU","Global"),("undefined"==typeof window?t:window).gL={ZS_TYPE:{FIST:1,SWORD:2,KNIFE:3,POLE:4,LEG:5,FINGER:6,WHIP:7,DART:7,VARIETY:9,DOUBLE:10},DARK_HEX:{DEFAULT:"FFFFFF",GRAY:"A5A5A5",BLUE:"16A9E5",PURPLE:"D458FD",YELLOW:"fed433",ORANGE_RED:"FF3600",PINK:"FF009C",GREEN:"50F225",ORANGE:"FF9000",RED:"FF0000",RED2:"FB4F4F"},LIGHT_HEX:{DEFAULT:"000000",DEFAULT2:"2C366B",GRAY:"8A8A8A",BLUE:"0069B3",PURPLE:"7C00A5",YELLOW:"B59000",ORANGE_RED:"C72A00",PINK:"FF009C",GREEN:"06A202",ORANGE:"A66200",RED:"A80000"}},cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],HtmlTextParser:[function(t,e,i){"use strict";cc._RF.push(e,"02d91sb6ndNHKYutr7G8SqJ","HtmlTextParser");var n=/^(click)(\s)*=|(param)(\s)*=/,s=/(\s)*src(\s)*=|(\s)*height(\s)*=|(\s)*width(\s)*=|(\s)*click(\s)*=|(\s)*param(\s)*=/,o=function(){this._parsedObject={},this._specialSymbolArray=[],this._specialSymbolArray.push([/&lt;/g,"<"]),this._specialSymbolArray.push([/&gt;/g,">"]),this._specialSymbolArray.push([/&amp;/g,"&"]),this._specialSymbolArray.push([/&quot;/g,'"']),this._specialSymbolArray.push([/&apos;/g,"'"])};o.prototype={constructor:o,parse:function(t){this._resultObjectArray=[],this._stack=[];for(var e=0,i=t.length;e<i;){var n=t.indexOf("<",e);if(n<0)this._stack.pop(),this._processResult(t.substring(e)),e=i;else{this._processResult(t.substring(e,n));var s=t.indexOf(">",e);-1===s?s=n:"/"===t.charAt(n+1)?this._stack.pop():this._addToStack(t.substring(n+1,s)),e=s+1}}return this._resultObjectArray},_attributeToObject:function(t){var e,i,n,o,r={},a=(t=t.trim()).match(/^(color|size)(\s)*=/);if(a){if(e=a[0],""===(t=t.substring(e.length).trim()))return r;switch(i=t.indexOf(" "),e[0]){case"c":r.color=i>-1?t.substring(0,i).trim():t;break;case"s":r.size=parseInt(t)}return i>-1&&(o=t.substring(i+1).trim(),n=this._processEventHandler(o),r.event=n),r}if((a=t.match(/^(br(\s)*\/)/))&&a[0].length>0&&(e=a[0].trim()).startsWith("br")&&"/"===e[e.length-1])return r.isNewLine=!0,this._resultObjectArray.push({text:"",style:{newline:!0}}),r;if((a=t.match(/^(img(\s)*src(\s)*=[^>]+\/)/))&&a[0].length>0&&(e=a[0].trim()).startsWith("img")&&"/"===e[e.length-1]){var c;a=t.match(s);for(var l=!1;a;)e=(t=t.substring(t.indexOf(a[0]))).substr(0,a[0].length),u=(i=(c=t.substring(e.length).trim()).indexOf(" "))>-1?c.substr(0,i):c,e=(e=e.replace(/[^a-zA-Z]/g,"").trim()).toLocaleLowerCase(),t=c.substring(i).trim(),"src"===e?(r.isImage=!0,u.endsWith("/")&&(u=u.substring(0,u.length-1)),0===u.indexOf("'")?(l=!0,u=u.substring(1,u.length-1)):0===u.indexOf('"')&&(l=!0,u=u.substring(1,u.length-1)),r.src=u):"height"===e?r.imageHeight=parseInt(u):"width"===e?r.imageWidth=parseInt(u):"click"===e&&(r.event=this._processEventHandler(e+"="+u)),r.event&&"param"===e&&(r.event.param=u.replace(/^\"|\"$/g,"")),a=t.match(s);return l&&r.isImage&&this._resultObjectArray.push({text:"",style:r}),{}}if(a=t.match(/^(outline(\s)*[^>]*)/)){var h={color:"#ffffff",width:1};if(t=a[0].substring("outline".length).trim()){var u,d=/(\s)*color(\s)*=|(\s)*width(\s)*=|(\s)*click(\s)*=|(\s)*param(\s)*=/;for(a=t.match(d);a;)e=(t=t.substring(t.indexOf(a[0]))).substr(0,a[0].length),u=(i=(c=t.substring(e.length).trim()).indexOf(" "))>-1?c.substr(0,i):c,e=(e=e.replace(/[^a-zA-Z]/g,"").trim()).toLocaleLowerCase(),t=c.substring(i).trim(),"click"===e?r.event=this._processEventHandler(e+"="+u):"color"===e?h.color=u:"width"===e&&(h.width=parseInt(u)),r.event&&"param"===e&&(r.event.param=u.replace(/^\"|\"$/g,"")),a=t.match(d)}r.outline=h}if((a=t.match(/^(on|u|b|i)(\s)*/))&&a[0].length>0){switch(e=a[0],t=t.substring(e.length).trim(),e[0]){case"u":r.underline=!0;break;case"i":r.italic=!0;break;case"b":r.bold=!0}if(""===t)return r;n=this._processEventHandler(t),r.event=n}return r},_processEventHandler:function(t){for(var e=0,i={},s=t.match(n),o=!1;s;){var r=s[0],a="";if(o=!1,'"'===(t=t.substring(r.length).trim()).charAt(0))(e=t.indexOf('"',1))>-1&&(a=t.substring(1,e).trim(),o=!0),e++;else if("'"===t.charAt(0))(e=t.indexOf("'",1))>-1&&(a=t.substring(1,e).trim(),o=!0),e++;else{var c=t.match(/(\S)+/);e=(a=c?c[0]:"").length}o&&(i[r=r.substring(0,r.length-1).trim()]=a),s=(t=t.substring(e).trim()).match(n)}return i},_addToStack:function(t){var e=this._attributeToObject(t);if(0===this._stack.length)this._stack.push(e);else{if(e.isNewLine||e.isImage)return;var i=this._stack[this._stack.length-1];for(var n in i)e[n]||(e[n]=i[n]);this._stack.push(e)}},_processResult:function(t){""!==t&&(t=this._escapeSpecialSymbol(t),this._stack.length>0?this._resultObjectArray.push({text:t,style:this._stack[this._stack.length-1]}):this._resultObjectArray.push({text:t}))},_escapeSpecialSymbol:function(t){for(var e=0;e<this._specialSymbolArray.length;++e){var i=this._specialSymbolArray[e][0],n=this._specialSymbolArray[e][1];t=t.replace(i,n)}return t}},e.exports=o,cc._RF.pop()},{}],HttpRequest:[function(t,e,i){"use strict";cc._RF.push(e,"c0b32Wdgl5Dj6UqKpKMgFRG","HttpRequest");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=s||{};s.sendRequest=function(t,e,i,n,s,o){if(null!=t&&""!=t){var r=cc.loader.getXMLHttpRequest();i?r.open("POST",t,!0):r.open("GET",t,!0),r.onreadystatechange=function(){if(4==r.readyState&&200==r.status){var t=r.responseText;"data"==o&&(t=r.response),n&&n(t)}else if(4==r.readyState&&200!=r.status){var e=r.responseText;s&&s(e)}},null==e||""==e?r.send():r.send(this.postDataFormat(e))}},s.postDataFormat=function(t){if("object"==(void 0===t?"undefined":n(t))){if("function"==typeof FormData){var e=new FormData;for(var i in t)e.append(i,t[i]);return e}var s=new Array,o=0;for(var i in t)s[o]=encodeURIComponent(i)+"="+encodeURIComponent(t[i]),o++;return s.join("&")}},e.exports=s,cc._RF.pop()},{}],ImageManager:[function(t,e,i){"use strict";cc._RF.push(e,"683a1EncctBvKqoY9Lg9VPu","ImageManager");var n=function(){var t=new function(){};return t.queueDict={},t}();n.set=function(t,e){e="img/"+e,this.queueDict[t.uuid]||(this.queueDict[t.uuid]=[]),this.queueDict[t.uuid].push(e),gL.Res.load(e,cc.SpriteFrame,this._setCallback.bind(this),t)},n._setCallback=function(t,e,i){var n=this.queueDict[i.uuid];n&&e==n[n.length-1]&&(i.spriteFrame=t,delete this.queueDict[i.uuid])},e.exports=gL.Image=n,cc._RF.pop()},{}],Keypad:[function(t,e,i){"use strict";cc._RF.push(e,"ad6f3CiEntOErb+VQxjLUOx","Keypad"),cc.Class({extends:cc.Component,properties:{alNum:t("AutoLayout"),changeEvent:{default:null,type:cc.Component.EventHandler},confirmEvent:{default:null,type:cc.Component.EventHandler},labelNum:cc.Label,_min:1,_max:999,num:{default:1,notify:function(){return this.num>this._max?this.num=this._max:this.num<this._min?this.num=this._min:(this.updateInfo(),void cc.Component.EventHandler.emitEvents([this.changeEvent],this.num))},step:1}},onLoad:function(){var t=this;t.padData=[1,2,3,"C",4,5,6,0,7,8,9,"OK"],t.alNum.numItems=t.padData.length},onALRender:function(t,e){t.getComponentInChildren(cc.Label).string=this.padData[e]},updateInfo:function(){this.labelNum&&(this.labelNum.string=this.num)},plus:function(t,e){isNaN(t)||(e=t),e=parseInt(e),this.num+=e},sub:function(t,e){isNaN(t)||(e=t),e=parseInt(e),this.num-=e},doMax:function(){this.num=this._max},doMin:function(){this.num=this._min},onTapBtn:function(t){var e=this,i=e.padData[t.target.getSiblingIndex()],n=void 0;switch(i){case"\u2190":var s=e.num+"";n=parseInt(s.substring(0,s.length-1));break;case"C":e.doMin();break;case"OK":e.switch(0),cc.Component.EventHandler.emitEvents([e.confirmEvent],e.num);break;default:n=i>1&&1==e.num?i:parseInt(e.num+""+i)}null!=n&&(e.num=n)},switch:function(t,e){isNaN(t)&&1!=t&&0!=t||(e=t),isNaN(parseInt(e))||(e=parseInt(e)),null==e&&(e=!this.node.active),this.node.active=e}}),cc._RF.pop()},{AutoLayout:"AutoLayout"}],ListItem:[function(t,e,i){"use strict";cc._RF.push(e,"23894dJFRhDN6afIEJWqoJd","ListItem");var n=cc.Enum({NONE:0,TOGGLE:1,SWITCH:2});cc.Class({editor:{disallowMultiple:!1,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List Item",executionOrder:-5001},extends:cc.Component,properties:{icon:{default:null,type:cc.Sprite},title:cc.Node,selectedMode:{default:n.NONE,type:n,tooltip:!1},selectedFlag:{default:null,type:cc.Node,visible:function(){var t=this.selectedMode>0;return t||(this.selectedFlag=null),t}},selectedSpriteFrame:{default:null,type:cc.SpriteFrame,visible:function(){var t=this.selectedMode==n.SWITCH;return t||(this.selectedSpriteFrame=null),t}},_selected:!1,selected:{visible:!1,get:function(){return this._selected},set:function(t){if(this._selected=t,this.selectedFlag)switch(this.selectedMode){case n.TOGGLE:this.selectedFlag.active=t;break;case n.SWITCH:this.selectedFlag.spriteFrame=t?this.selectedSpriteFrame:this._unselectedSpriteFrame}}}},onLoad:function(){if(this.title){var t=this.title.getComponent(cc.Label);t||(t=this.title.getComponent(cc.RichText)),this.title=t}if(this._btnCom=this.node.getComponent(cc.Button),this._btnCom||(this.selectedMode,n.NONE),this.selectedMode==n.SWITCH){var e=this.selectedFlag.getComponent(cc.Sprite);this.selectedFlag=e,this._unselectedSpriteFrame=e.spriteFrame}},_registerEvent:function(){if(this._btnCom&&this._list.selectedMode>0&&!this.eventReg){var t=new cc.Component.EventHandler;t.target=this.node,t.component="ListItem",t.handler="onClickThis",this._btnCom.clickEvents.unshift(t),this.eventReg=!0}},showAni:function(t,e,i){var n=this,s=void 0;switch(t){case 0:s=[new cc.scaleTo(.2,.7),new cc.moveBy(.3,0,2*this.node.height)];break;case 1:s=[new cc.scaleTo(.2,.7),new cc.moveBy(.3,2*this.node.width,0)];break;case 2:s=[new cc.scaleTo(.2,.7),new cc.moveBy(.3,0,-2*this.node.height)];break;case 3:s=[new cc.scaleTo(.2,.7),new cc.moveBy(.3,-2*this.node.width,0)];break;default:s=[new cc.scaleTo(.3,.1)]}(e||i)&&s.push(new cc.CallFunc(function(){if(i){n._list._delSingleItem(n.node);for(var t=n._list.displayData.length-1;t>=0;t--)if(n._list.displayData[t].listId==n.node._listId){n._list.displayData.splice(t,1);break}}e()})),this.node.runAction(new cc.Sequence(s))},onClickThis:function(){this._list.selectedId=this.node._listId}}),cc._RF.pop()},{}],List:[function(t,e,i){"use strict";cc._RF.push(e,"1ac1clssBBGlozAmaJDZci5","List");var n=cc.Enum({NODE:1,PREFAB:2}),s=cc.Enum({NORMAL:1,ADHERING:2,PAGE:3}),o=cc.Enum({NONE:0,SINGLE:1,MULT:2}),r=t("ListItem");cc.Class({extends:cc.Component,editor:{disallowMultiple:!1,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List",requireComponent:cc.ScrollView,executionOrder:-5e3},properties:{templateType:{default:n.NODE,type:n},tmpNode:{default:null,type:cc.Node,tooltip:!1,visible:function(){var t=this.templateType==n.NODE;return t||(this.tmpNode=null),t}},tmpPrefab:{default:null,type:cc.Prefab,tooltip:!1,visible:function(){var t=this.templateType==n.PREFAB;return t||(this.tmpPrefab=null),t}},_slideMode:1,slideMode:{type:s,tooltip:!1,get:function(){return this._slideMode},set:function(t){null!=t&&(this._slideMode=t)}},pageDistance:{default:.3,type:cc.Float,range:[0,1,.1],tooltip:!1,slide:!0,visible:function(){return this._slideMode==s.PAGE}},pageChangeEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1,visible:function(){var t=this._slideMode==s.PAGE;return t||(this.pageChangeEvent=null),t}},_virtual:!0,virtual:{tooltip:!1,get:function(){return this._virtual},set:function(t){null!=t&&(this._virtual=t),0!=this._numItems&&this._onScrolling()}},lackCenter:{default:!1,tooltip:!1,visible:function(){return this.virtual}},_updateRate:2,updateRate:{type:cc.Integer,range:[0,6,1],tooltip:!1,slide:!0,get:function(){return this._updateRate},set:function(t){t>=0&&t<=6&&(this._updateRate=t)}},frameByFrameRenderNum:{default:0,type:cc.Integer,range:[0,12,1],tooltip:!1,slide:!0},renderEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1},selectedMode:{default:o.NONE,type:o,tooltip:!1},repeatEventSingle:{default:!1,tooltip:!1,visible:function(){return this.selectedMode==o.SINGLE}},selectedEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1,visible:function(){var t=this.selectedMode>0;return t||(this.selectedEvent=null),t}},_selectedId:-1,selectedId:{visible:!1,get:function(){return this._selectedId},set:function(t){var e=this,i=void 0;switch(e.selectedMode){case o.SINGLE:if(!e.repeatEventSingle&&t==e._selectedId)return;if(i=e.getItemByListId(t),e._selectedId>=0?e._lastSelectedId=e._selectedId:e._lastSelectedId=null,e._selectedId=t,i&&(i.listItem.selected=!0),e._lastSelectedId>=0&&e._lastSelectedId!=e._selectedId){var n=e.getItemByListId(e._lastSelectedId);n&&(n.listItem.selected=!1)}e.selectedEvent&&cc.Component.EventHandler.emitEvents([e.selectedEvent],i,t,e._lastSelectedId);break;case o.MULT:if(!(i=e.getItemByListId(t)))return;e._selectedId>=0&&(e._lastSelectedId=e._selectedId),e._selectedId=t;var s=!i.listItem.selected;i.listItem.selected=s;var r=e.multSelected.indexOf(t);s&&r<0?e.multSelected.push(t):!s&&r>=0&&e.multSelected.splice(r,1),e.selectedEvent&&cc.Component.EventHandler.emitEvents([e.selectedEvent],i,t,e._lastSelectedId,s)}}},_numItems:{default:0,serializable:!1},numItems:{visible:!1,get:function(){return this._numItems},set:function(t){var e=this;if(e.checkInited())if(null==t||t<0)cc.error("numItems set the wrong::",t);else if(e._numItems=t,e._forceUpdate=!0,e._virtual)e._resizeContent(),e._onScrolling();else{var i=e.content.getComponent(cc.Layout);if(i&&(i.enabled=!0),e._delRedundantItem(),e.firstListId=0,e.frameByFrameRenderNum>0){for(var n=e.frameByFrameRenderNum>e._numItems?e._numItems:e.frameByFrameRenderNum,s=0;s<n;s++)e._createOrUpdateItem2(s);e.frameByFrameRenderNum<e._numItems&&(e._updateCounter=e.frameByFrameRenderNum,e._updateDone=!1)}else{for(var o=0;o<t;o++)e._createOrUpdateItem2(o);e.actualNumItems=t}}}}},onLoad:function(){this._init()},onDestroy:function(){this._itemTmp&&this._itemTmp.destroy();for(var t=this._pool.size();this._pool.size();){this._pool.get().destroy()}t&&cc.log("-----------------"+this.node.name+"<List> destroy node total num. =>",t)},onEnable:function(){this._registerEvent(),this._init()},onDisable:function(){this._unregisterEvent()},_registerEvent:function(){var t=this;t.node.on(cc.Node.EventType.TOUCH_START,this._onTouchStart,this,!0),t.node.on("touch-up",t._onTouchUp,t,!0),t.node.on(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancelled,t,!0),t.node.on("scroll-began",t._onScrollBegan,t,!0),t.node.on("scroll-ended",t._onScrollEnded,t,!0),t.node.on("scrolling",t._onScrolling,t,!0)},_unregisterEvent:function(){var t=this;t.node.off(cc.Node.EventType.TOUCH_START,this._onTouchStart,this,!0),t.node.off("touch-up",t._onTouchUp,t,!0),t.node.off(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancelled,t,!0),t.node.off("scroll-began",t._onScrollBegan,t,!0),t.node.off("scroll-ended",t._onScrollEnded,t,!0),t.node.off("scrolling",t._onScrolling,t,!0)},_init:function(){var t=this;if(!t._inited)if(t._scrollView=t.node.getComponent(cc.ScrollView),t._scrollView)if(t.content=t._scrollView.content,t.content){switch(t.initContentAnchor=t.content.getAnchorPoint(),t._layout=t.content.getComponent(cc.Layout),t._align=t._layout.type,t._resizeMode=t._layout.resizeMode,t._startAxis=t._layout.startAxis,t._topGap=t._layout.paddingTop,t._rightGap=t._layout.paddingRight,t._bottomGap=t._layout.paddingBottom,t._leftGap=t._layout.paddingLeft,t._columnGap=t._layout.spacingX,t._lineGap=t._layout.spacingY,t._colLineNum,t._verticalDir=t._layout.verticalDirection,t._horizontalDir=t._layout.horizontalDirection,t.setTemplateItem(t.templateType==n.PREFAB?cc.instantiate(t.tmpPrefab):t.tmpNode),t._slideMode!=s.ADHERING&&t._slideMode!=s.PAGE||(t._scrollView.inertia=!1),t.virtual||(t.lackCenter=!1),t._lastDisplayData=[],t.displayData=[],t._pool=new cc.NodePool,t._forceUpdate=!1,t._updateCounter=0,t._updateDone=!0,t.curPageNum=0,t._align){case cc.Layout.Type.HORIZONTAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}break;case cc.Layout.Type.VERTICAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.Type.GRID:switch(t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.AxisDirection.VERTICAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}}}t.content.removeAllChildren(),t._inited=!0}else cc.error(t.node.name+"'s cc.ScrollView unset content!");else cc.error(t.node.name+" no assembly cc.ScrollView!")},setTemplateItem:function(t){if(t){var e=this;e._itemTmp=t,e._resizeMode==cc.Layout.ResizeMode.CHILDREN?e._itemSize=e._layout.cellSize:e._itemSize=new cc.size(e._itemTmp.width,e._itemTmp.height);var i=e._itemTmp.getComponent(r),n=!1;switch(i||(n=!0),i&&(i._btnCom||e._itemTmp.getComponent(cc.Button)||(n=!0)),n&&(e.selectedMode=o.NONE),e.selectedMode==o.MULT&&(e.multSelected=[]),e._align){case cc.Layout.Type.HORIZONTAL:e._colLineNum=1,e._sizeType=!1;break;case cc.Layout.Type.VERTICAL:e._colLineNum=1,e._sizeType=!0;break;case cc.Layout.Type.GRID:switch(e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var s=e.content.width-e._leftGap-e._rightGap;e._colLineNum=Math.floor((s+e._columnGap)/(e._itemSize.width+e._columnGap)),e._sizeType=!0;break;case cc.Layout.AxisDirection.VERTICAL:var a=e.content.height-e._topGap-e._bottomGap;e._colLineNum=Math.floor((a+e._lineGap)/(e._itemSize.height+e._lineGap)),e._sizeType=!1}}}},checkInited:function(t){var e=t||!0;return!!this._inited||(e&&cc.error("List initialization not completed!"),!1)},_resizeContent:function(){var t=this,e=void 0;switch(t._align){case cc.Layout.Type.HORIZONTAL:if(t.customSize){var i=t._getFixedSize();e=t._leftGap+i.val+t._itemSize.width*(t._numItems-i.count)+t._columnGap*(t._numItems-1)+t._rightGap}else e=t._leftGap+t._itemSize.width*t._numItems+t._columnGap*(t._numItems-1)+t._rightGap;break;case cc.Layout.Type.VERTICAL:if(t.customSize){var n=t._getFixedSize();e=t._topGap+n.val+t._itemSize.height*(t._numItems-n.count)+t._lineGap*(t._numItems-1)+t._bottomGap}else e=t._topGap+t._itemSize.height*t._numItems+t._lineGap*(t._numItems-1)+t._bottomGap;break;case cc.Layout.Type.GRID:switch(t.lackCenter&&(t.lackCenter=!1),t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var s=Math.ceil(t._numItems/t._colLineNum);e=t.content.height=t._topGap+t._itemSize.height*s+t._lineGap*(s-1)+t._bottomGap;break;case cc.Layout.AxisDirection.VERTICAL:var o=Math.ceil(t._numItems/t._colLineNum);e=t.content.width=t._leftGap+t._itemSize.width*o+t._columnGap*(o-1)+t._rightGap}}var r=t.content.getComponent(cc.Layout);r&&(r.enabled=!1),t._allItemSize=e;var a=void 0;t._sizeType?((a=e<t.node.height?t.node.height-.1:e)<0&&(a=0),t._lackSize=t.lackCenter?a:null,t._allItemSizeNoBorder=t._allItemSize-t._topGap-t._bottomGap,t.content.height=a):((a=e<t.node.width?t.node.width-.1:e)<0&&(a=0),t._lackSize=t.lackCenter?a:null,t._allItemSizeNoBorder=t._allItemSize-t._leftGap-t._rightGap,t.content.width=a)},_onScrolling:function(t){if(null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&t&&"scroll-ended"!=t.type&&this.frameCount>0)this.frameCount--;else if(this.frameCount=this._updateRate,!this._aniDelRuning){this._calcViewPos();var e=void 0,i=void 0,n=void 0,s=void 0;if(this._sizeType?(e=this.viewTop,n=this.viewBottom):(i=this.viewRight,s=this.viewLeft),this._virtual){this.displayData=[];var o=void 0,r=0,a=this._numItems-1;if(this.customSize)for(var c=!1;r<=a&&!c;r++)switch(o=this._calcItemPos(r),this._align){case cc.Layout.Type.HORIZONTAL:o.right>=s&&o.left<=i?this.displayData.push(o):0!=r&&this.displayData.length>0&&(c=!0);break;case cc.Layout.Type.VERTICAL:o.bottom<=e&&o.top>=n?this.displayData.push(o):0!=r&&this.displayData.length>0&&(c=!0);break;case cc.Layout.Type.GRID:switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:o.bottom<=e&&o.top>=n?this.displayData.push(o):0!=r&&this.displayData.length>0&&(c=!0);break;case cc.Layout.AxisDirection.VERTICAL:o.right>=s&&o.left<=i?this.displayData.push(o):0!=r&&this.displayData.length>0&&(c=!0)}}else{var l=this._itemSize.width+this._columnGap,h=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:r=(s+this._leftGap)/l,a=(i+this._rightGap)/l;break;case 2:r=(-i-this._rightGap)/l,a=(-s-this._leftGap)/l;break;case 3:r=(-e-this._topGap)/h,a=(-n-this._bottomGap)/h;break;case 4:r=(n+this._bottomGap)/h,a=(e+this._topGap)/h}for(r=Math.floor(r)*this._colLineNum,a=Math.ceil(a)*this._colLineNum,a--,r<0&&(r=0),a>=this._numItems&&(a=this._numItems-1);r<=a;r++)this.displayData.push(this._calcItemPos(r))}if(this.displayData.length<=0||!this._numItems)return void this._delRedundantItem();this.firstListId=this.displayData[0].id,this.actualNumItems=this.displayData.length;var u=this._lastDisplayData.length;if(this._forceUpdate||this.actualNumItems!=u||this.firstListId!=this._lastDisplayData[0]||this.displayData[this.actualNumItems-1].id!=this._lastDisplayData[u-1])if(this._lastDisplayData=[],this.frameByFrameRenderNum>0)this._numItems>0?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._delRedundantItem(),this._updateCounter=0,this._updateDone=!0);else{for(var d=0;d<this.actualNumItems;d++)this._createOrUpdateItem(this.displayData[d]);this._delRedundantItem(),this._forceUpdate=!1}this._calcNearestItem()}}},_calcViewPos:function(){var t=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=t.x>0?t.x:0,this.viewLeft=(t.x<0?-t.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this.node.width,this.elasticRight=this.viewRight>this.content.width?Math.abs(this.viewRight-this.content.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=t.x<0?-t.x:0,this.viewRight=(t.x>0?-t.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this.node.width,this.elasticLeft=this.viewLeft<-this.content.width?Math.abs(this.viewLeft+this.content.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=t.y<0?Math.abs(t.y):0,this.viewTop=(t.y>0?-t.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this.node.height,this.elasticBottom=this.viewBottom<-this.content.height?Math.abs(this.viewBottom+this.content.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=t.y>0?Math.abs(t.y):0,this.viewBottom=(t.y<0?-t.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this.node.height,this.elasticTop=this.viewTop>this.content.height?Math.abs(this.viewTop-this.content.height):0,this.viewTop-=this.elasticTop}},_calcItemPos:function(t){var e=void 0,i=void 0,n=void 0,s=void 0,o=void 0,r=void 0,a=void 0,c=void 0;switch(this._align){case cc.Layout.Type.HORIZONTAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:if(this.customSize){var l=this._getFixedSize(t);o=this._leftGap+(this._itemSize.width+this._columnGap)*(t-l.count)+(l.val+this._columnGap*l.count);var h=this.customSize[t];e=h>0?h:this._itemSize.width}else o=this._leftGap+(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;if(r=o+e,this.lackCenter&&this._lackSize>=0){var u=this.content.width/2-this._allItemSizeNoBorder/2;o+=u,r+=u}return{id:t,left:o,right:r,x:o+this._itemTmp.anchorX*e,y:this._itemTmp.y};case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:if(this.customSize){var d=this._getFixedSize(t);r=-this._rightGap-(this._itemSize.width+this._columnGap)*(t-d.count)-(d.val+this._columnGap*d.count);var f=this.customSize[t];e=f>0?f:this._itemSize.width}else r=-this._rightGap-(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;if(o=r-e,this.lackCenter&&this._lackSize>=0){var p=this.content.width/2-this._allItemSizeNoBorder/2;o-=p,r-=p}return{id:t,right:r,left:o,x:o+this._itemTmp.anchorX*e,y:this._itemTmp.y}}break;case cc.Layout.Type.VERTICAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:if(this.customSize){var m=this._getFixedSize(t);n=-this._topGap-(this._itemSize.height+this._lineGap)*(t-m.count)-(m.val+this._lineGap*m.count);var _=this.customSize[t];s=n-(i=_>0?_:this._itemSize.height)}else n=-this._topGap-(this._itemSize.height+this._lineGap)*t,i=this._itemSize.height;if(s=n-i,this.lackCenter&&this._lackSize>=0){var g=this.content.height/2-this._allItemSizeNoBorder/2;n-=g,s-=g}return{id:t,top:n,bottom:s,x:this._itemTmp.x,y:s+this._itemTmp.anchorY*i};case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:if(this.customSize){var v=this._getFixedSize(t);s=this._bottomGap+(this._itemSize.height+this._lineGap)*(t-v.count)+(v.val+this._lineGap*v.count);var y=this.customSize[t];i=y>0?y:this._itemSize.height}else s=this._bottomGap+(this._itemSize.height+this._lineGap)*t,i=this._itemSize.height;if(n=s+i,this.lackCenter&&this._lackSize>=0){var T=this.content.height/2-this._allItemSizeNoBorder/2;n+=T,s+=T}return{id:t,top:n,bottom:s,x:this._itemTmp.x,y:s+this._itemTmp.anchorY*i}}case cc.Layout.Type.GRID:var b=Math.floor(t/this._colLineNum);switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:c=(s=(n=-this._topGap-(this._itemSize.height+this._lineGap)*b)-this._itemSize.height)+this._itemTmp.anchorY*this._itemSize.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:n=(s=this._bottomGap+(this._itemSize.height+this._lineGap)*b)+this._itemSize.height,c=s+this._itemTmp.anchorY*this._itemSize.height}switch(a=this._leftGap+t%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:a+=this._itemTmp.anchorX*this._itemSize.width,a-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:a+=(1-this._itemTmp.anchorX)*this._itemSize.width,a-=(1-this.content.anchorX)*this.content.width,a*=-1}return{id:t,top:n,bottom:s,x:a,y:c};case cc.Layout.AxisDirection.VERTICAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:r=(o=this._leftGap+(this._itemSize.width+this._columnGap)*b)+this._itemSize.width,a=o+this._itemTmp.anchorX*this._itemSize.width,a-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:a=(o=(r=-this._rightGap-(this._itemSize.width+this._columnGap)*b)-this._itemSize.width)+this._itemTmp.anchorX*this._itemSize.width,a+=(1-this.content.anchorX)*this.content.width}switch(c=-this._topGap-t%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:c-=(1-this._itemTmp.anchorY)*this._itemSize.height,c+=(1-this.content.anchorY)*this.content.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:c-=this._itemTmp.anchorY*this._itemSize.height,c+=this.content.anchorY*this.content.height,c*=-1}return{id:t,left:o,right:r,x:a,y:c}}}},_calcExistItemPos:function(t){var e=this.getItemByListId(t);if(!e)return null;var i={id:t,x:e.x,y:e.y};return this._sizeType?(i.top=e.y+e.height*(1-e.anchorY),i.bottom=e.y-e.height*e.anchorY):(i.left=e.x-e.width*e.anchorX,i.right=e.x+e.width*(1-e.anchorX)),i},getItemPos:function(t){return this._virtual?this._calcItemPos(t):this.frameByFrameRenderNum?this._calcItemPos(t):this._calcExistItemPos(t)},_getFixedSize:function(t){if(!this.customSize)return null;null==t&&(t=this._numItems);var e=0,i=0;for(var n in this.customSize)parseInt(n)<t&&(e+=this.customSize[n],i++);return{val:e,count:i}},_onScrollBegan:function(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft},_onScrollEnded:function(){var t=this;if(null!=t.scrollToListId){var e=t.getItemByListId(t.scrollToListId);t.scrollToListId=null,e&&e.runAction(new cc.sequence(new cc.scaleTo(.1,1.06),new cc.scaleTo(.1,1)))}t._onScrolling(),t._slideMode!=s.ADHERING||t.adhering?t._slideMode==s.PAGE&&(null!=t._beganPos?this._pageAdhere():t.adhere()):t.adhere()},_onTouchStart:function(t,e){if(!this._scrollView._hasNestedViewGroup(t,e)&&!(t.eventPhase===cc.Event.AT_TARGET&&t.target===this.node)){for(var i=t.target;null==i._listId&&i.parent;)i=i.parent;this._scrollItem=null!=i._listId?i:t.target}},_onTouchUp:function(){var t=this;t._scrollPos=null,t._slideMode==s.ADHERING?(t.adhering&&(t._adheringBarrier=!0),t.adhere()):t._slideMode==s.PAGE&&(null!=t._beganPos?t._pageAdhere():t.adhere()),this._scrollItem=null},_onTouchCancelled:function(t,e){var i=this;i._scrollView._hasNestedViewGroup(t,e)||t.simulate||(i._scrollPos=null,i._slideMode==s.ADHERING?(i.adhering&&(i._adheringBarrier=!0),i.adhere()):i._slideMode==s.PAGE&&(null!=i._beganPos?i._pageAdhere():i.adhere()),this._scrollItem=null)},_pageAdhere:function(){var t=this;if(!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){var e=t._sizeType?t.viewTop:t.viewLeft,i=(t._sizeType?t.node.height:t.node.width)*t.pageDistance;if(Math.abs(t._beganPos-e)>i){switch(t._alignCalcType){case 1:case 4:t._beganPos>e?t.prePage(.5):t.nextPage(.5);break;case 2:case 3:t._beganPos<e?t.prePage(.5):t.nextPage(.5)}}else t.elasticTop<=0&&t.elasticRight<=0&&t.elasticBottom<=0&&t.elasticLeft<=0&&t.adhere();t._beganPos=null}},adhere:function(){var t=this;if(!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){t.adhering=!0,t._calcNearestItem();var e=(t._sizeType?t._topGap:t._leftGap)/(t._sizeType?t.node.height:t.node.width);t.scrollTo(t.nearestListId,.7,e)}},update:function(){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){for(var t=this._updateCounter+this.frameByFrameRenderNum>this.actualNumItems?this.actualNumItems:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++){var i=this.displayData[e];i&&this._createOrUpdateItem(i)}this._updateCounter>=this.actualNumItems-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._scrollView.isScrolling()||(this._doneAfterUpdate=!1)):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem()):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){for(var n=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,s=this._updateCounter;s<n;s++)this._createOrUpdateItem2(s);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem()},_createOrUpdateItem:function(t){var e=this.getItemByListId(t.id);if(e)this._forceUpdate&&this.renderEvent&&(e.setPosition(new cc.v2(t.x,t.y)),this._resetItemSize(e),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t.id));else{(e=this._pool.size()?this._pool.get():cc.instantiate(this._itemTmp))._listId=t.id,e.setPosition(new cc.v2(t.x,t.y)),this._resetItemSize(e),this.content.addChild(e),e.setSiblingIndex(this.content.childrenCount-1);var i=e.getComponent(r);e.listItem=i,i&&(i._list=this,i._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t.id)}this._resetItemSize(e),this._updateListItem(e.listItem),this._lastDisplayData.indexOf(t.id)<0&&this._lastDisplayData.push(t.id)},_createOrUpdateItem2:function(t){var e=this.content.children[t];if(e)this._forceUpdate&&this.renderEvent&&(e._listId=t,this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t));else{(e=cc.instantiate(this._itemTmp))._listId=t,this.content.addChild(e);var i=e.getComponent(r);e.listItem=i,i&&(i._list=this,i._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t)}this._updateListItem(e.listItem),this._lastDisplayData.indexOf(t)<0&&this._lastDisplayData.push(t)},_updateListItem:function(t){if(t&&this.selectedMode>o.NONE)switch(this.selectedMode){case o.SINGLE:t.selected=this.selectedId==t.node._listId;break;case o.MULT:t.selected=this.multSelected.indexOf(t.node._listId)>=0}},_resetItemSize:function(t){if(this.customSize&&this.customSize[t._listId]){var e=this.customSize[t._listId];this._align==cc.Layout.Type.HORIZONTAL?t.width=e:this._align==cc.Layout.Type.VERTICAL&&(t.height=e)}else t.setContentSize(this._itemSize)},setMultSelected:function(t,e){var i=this;if(Array.isArray(t)||(t=[t]),null==e)i.multSelected=t;else{var n=void 0,s=void 0;if(e)for(var o=t.length-1;o>=0;o--)n=t[o],(s=i.multSelected.indexOf(n))<0&&i.multSelected.push(n);else for(var r=t.length-1;r>=0;r--)n=t[r],(s=i.multSelected.indexOf(n))>=0&&i.multSelected.splice(s,1)}i._forceUpdate=!0,i._onScrolling()},updateItem:function(t){Array.isArray(t)||(t=[t]);for(var e=0,i=t.length;e<i;e++){var n=t[e],s=this.getItemByListId(n);s&&cc.Component.EventHandler.emitEvents([this.renderEvent],s,n)}},updateAll:function(){this.numItems=this.numItems},getItemByListId:function(t){for(var e=this.content.childrenCount-1;e>=0;e--)if(this.content.children[e]._listId==t)return this.content.children[e]},_getOutsideItem:function(){for(var t=void 0,e=void 0,i=[],n=this.content.childrenCount-1;n>=0;n--){if(t=this.content.children[n],e=!0)for(var s=this.actualNumItems-1;s>=0;s--)if(this.displayData[s]){var o=this.displayData[s].id;if(t._listId==o){e=!1;break}}e&&i.push(t)}return i},_delRedundantItem:function(){if(this._virtual)for(var t=this._getOutsideItem(),e=t.length-1;e>=0;e--){var i=t[e];this._scrollItem&&i._listId==this._scrollItem._listId||this._pool.put(i)}else for(;this.content.childrenCount>this._numItems;)this._delSingleItem(this.content.children[this.content.childrenCount-1])},_delSingleItem:function(t){t.removeFromParent(),t.destroy&&t.destroy(),t=null},aniDelItem:function(t,e,i){var n=this,s=n.getItemByListId(t);if(!n._aniDelRuning&&n._virtual)if(s){n._aniDelRuning=!0;var r=n.displayData[n.displayData.length-1].id,a=s.listItem.selected;s.listItem.showAni(i,function(){var i=void 0;if(r<n._numItems-2&&(i=r+1),null!=i){var c=n._calcItemPos(i);n.displayData.push(c),n._virtual?n._createOrUpdateItem(c):n._createOrUpdateItem2(i)}else n._numItems--;if(n.selectedMode==o.SINGLE)a?n._selectedId=-1:n._selectedId-1>=0&&n._selectedId--;else if(n.selectedMode==o.MULT&&n.multSelected.length){var l=n.multSelected.indexOf(t);l>=0&&n.multSelected.splice(l,1);for(var h=n.multSelected.length-1;h>=0;h--){n.multSelected[h]>=t&&n.multSelected[h]--}}if(n.customSize){n.customSize[t]&&delete n.customSize[t];var u={},d=void 0;for(var f in n.customSize)d=n.customSize[f],u[(f=parseInt(f))-(f>=t?1:0)]=d;n.customSize=u}for(var p=void 0,m=void 0,_=null!=i?i:r;_>=t+1;_--)if(s=n.getItemByListId(_)){var g=n._calcItemPos(_-1);p=[new cc.moveTo(.2333,new cc.v2(g.x,g.y))],_<=t+1&&(m=!0,p.push(new cc.CallFunc(function(){n._aniDelRuning=!1,e(t)}))),p.length>1?s.runAction(new cc.Sequence(p)):s.runAction(p[0])}m||(n._aniDelRuning=!1,e(t))},!0)}else e(t)},scrollTo:function(t,e,i,n){var s=this;if(s.checkInited()){s._scrollView.stopAutoScroll(),null==e?e=.5:e<0&&(e=0),t<0?t=0:t>=s._numItems&&(t=s._numItems-1),!s._virtual&&s._layout&&s._layout.enabled&&s._layout.updateLayout();var o=s.getItemPos(t),r=void 0,a=void 0;switch(s._alignCalcType){case 1:r=o.left,r-=null!=i?s.node.width*i:s._leftGap,o=new cc.v2(r,0);break;case 2:r=o.right-s.node.width,r+=null!=i?s.node.width*i:s._rightGap,o=new cc.v2(r+s.content.width,0);break;case 3:a=o.top,a+=null!=i?s.node.height*i:s._topGap,o=new cc.v2(0,-a);break;case 4:a=o.bottom+s.node.height,a-=null!=i?s.node.height*i:s._bottomGap,o=new cc.v2(0,-a+s.content.height)}var c=s.content.getPosition();c=Math.abs(s._sizeType?c.y:c.x);var l=s._sizeType?o.y:o.x,h=Math.abs((null!=s._scrollPos?s._scrollPos:c)-l)>.5;s._scrollView.stopAutoScroll(),h&&(s._scrollPos=l,s._scrollView.scrollToOffset(o,e),s.scheduleOnce(function(){if(s._adheringBarrier||(s.adhering=s._adheringBarrier=!1),s._scrollPos=null,n){var e=s.getItemByListId(t);e&&e.runAction(new cc.sequence(new cc.scaleTo(.1,1.05),new cc.scaleTo(.1,1)))}},e+.1),e<=0&&s._onScrolling())}},_calcNearestItem:function(){var t=this;t.nearestListId=null;var e=void 0,i=void 0;t._virtual&&t._calcViewPos();var n,s,o,r;n=t.viewTop,s=t.viewRight,o=t.viewBottom,r=t.viewLeft;for(var a=!1,c=0;c<t.content.childrenCount&&!a;c+=t._colLineNum)switch(e=this._virtual?this.displayData[c]:this._calcExistItemPos(c),i=this._sizeType?(e.top+e.bottom)/2:i=(e.left+e.right)/2,this._alignCalcType){case 1:e.right>=r&&(this.nearestListId=e.id,r>i&&(this.nearestListId+=this._colLineNum),a=!0);break;case 2:e.left<=s&&(this.nearestListId=e.id,s<i&&(this.nearestListId+=this._colLineNum),a=!0);break;case 3:e.bottom<=n&&(this.nearestListId=e.id,n<i&&(this.nearestListId+=this._colLineNum),a=!0);break;case 4:e.top>=o&&(this.nearestListId=e.id,o>i&&(this.nearestListId+=this._colLineNum),a=!0)}if((e=this._virtual?this.displayData[this.actualNumItems-1]:this._calcExistItemPos(this._numItems-1))&&e.id==t._numItems-1)switch(i=t._sizeType?(e.top+e.bottom)/2:i=(e.left+e.right)/2,t._alignCalcType){case 1:s>i&&(t.nearestListId=e.id);break;case 2:r<i&&(t.nearestListId=e.id);break;case 3:o<i&&(t.nearestListId=e.id);break;case 4:n>i&&(t.nearestListId=e.id)}},prePage:function(t){null==t&&(t=.5),this.skipPage(this.curPageNum-1,t)},nextPage:function(t){null==t&&(t=.5),this.skipPage(this.curPageNum+1,t)},skipPage:function(t,e){var i=this;if(i._slideMode!=s.PAGE)return cc.error("This function is not allowed to be called, Must SlideMode = PAGE!");t<0||t>=i._numItems||i.curPageNum!=t&&(i.curPageNum=t,i.pageChangeEvent&&cc.Component.EventHandler.emitEvents([i.pageChangeEvent],t),i.scrollTo(t,e))},calcCustomSize:function(t){var e=this;if(!e._itemTmp)return cc.error("Unset template item!");if(!e.renderEvent)return cc.error("Unset Render-Event!");e.customSize={};var i=cc.instantiate(e._itemTmp);e.content.addChild(i);for(var n=0;n<t;n++)cc.Component.EventHandler.emitEvents([e.renderEvent],i,n),i.height==e._itemSize.height&&i.width==e._itemSize.width||(e.customSize[n]=e._sizeType?i.height:i.width);return Object.keys(e.customSize).length||(e.customSize=null),i.removeFromParent(),i.destroy&&i.destroy(),e.customSize}}),cc._RF.pop()},{ListItem:"ListItem"}],LocalStorage:[function(t,e,i){"use strict";cc._RF.push(e,"86f6cT1GUNBi7AZ9mhGtxPb","LocalStorage");var n=function(){return new function(){this._dict={}}}();n.setItem=function(t,e){cc.sys.localStorage.setItem(t,e),this._dict[t]=e},n.getItem=function(t){var e=this._dict[t];return null==e&&(e=this._dict[t]=cc.sys.localStorage.getItem(t)),e},n.removeItem=function(t){return delete this._dict[t],cc.sys.localStorage.removeItem(t)},n.removeAllTempItem=function(){this._dict={}},e.exports=n,cc._RF.pop()},{}],MemoryDetector:[function(t,e,i){"use strict";cc._RF.push(e,"d115f4YS2lFTplp+uNlbH/B","MemoryDetector");var n=t("Path"),s={t:0,debugState:!1,showOrHideTest:function(){t("LoginModel");var e=gL.ui.tipsNode.getChildByName("TestView");e?e.destroy():gL.ui.loadUI("cmd/TestView",function(t){t.name="TestView",gL.ui.tipsNode.addChild(t)})},showOrHideDebug:function(){var t=this.debugState=!this.debugState;cc.debug.setDisplayStats(t),gL.debugNode.active=t},getMemoryInfo:function(){var t=n.cdn+"/",e=0,i=0,s=cc.loader._cache;for(var o in s){if(s[o].complete){var r=s[o].content;r instanceof cc.Texture2D&&(0!=o.indexOf(t)?e+=gL.Tools.calcTextureMem(r):i+=gL.Tools.calcTextureMem(r))}}return[e,i]},update:function(t){if(this.debugState&&(this.memLabel||(this.memLabel=gL.debugNode.getChildByName("mem").getComponent(cc.Label)),this.t+=t,this.t>1)){this.t=0;var e=this.getMemoryInfo(),i=(e[0]+e[1]).toFixed(2)+"M",n=gL.AtlasManager._memAcc.toFixed(2)+"M",s=gL.AtlasManager._memLim.toFixed(2)+"M";this.memLabel.string=gL.Tools.format("{0} (UI:{1}/{2})",i,n,s)}}};gL.MemoryDetector=s,cc._RF.pop()},{LoginModel:void 0,Path:"Path"}],Menu:[function(t,e,i){"use strict";cc._RF.push(e,"50714mSYWhBuJmUdHO3l9ic","Menu");var n=t("MyButton"),s=t("AutoLayout");t("List");cc.Class({editor:{disallowMultiple:!1,executeInEditMode:!0},extends:cc.Component,properties:{blockBtn:cc.Button,btnSelf:cc.Node,btnSwitch:n,btnSwitchCloseSF:cc.SpriteFrame,al:s,showContent:cc.Node,unselectedString:"- \u8bf7\u9009\u62e9 -",_open:!1,open:{set:function(t){this.switch(t)},get:function(){return this._open}},_selectedId:-1,selectedId:{visible:!1,get:function(){return this._selectedId},set:function(t){this._selectedId=t,this._updateState(),this.selectedEvent&&cc.Component.EventHandler.emitEvents([this.selectedEvent],t,this.data?this.data[t]:null)},min:-1,step:1},selectedEvent:{default:null,type:cc.Component.EventHandler,tooltip:!1}},onLoad:function(){this.btnSwitch&&(this.btnSwitch.node.sp=this.btnSwitch.node.getComponent(cc.Sprite),this.initBtnSwitchSf=this.btnSwitch.node.sp.spriteFrame),this._updateState()},addEvent:function(){gL.OtherModel.bind(gL.OtherEvent.ON_MENU_OPEN,this.onOtherMenuOpen,this)},delEvent:function(){gL.OtherModel.unBind(gL.OtherEvent.ON_MENU_OPEN,this.onOtherMenuOpen,this)},setData:function(t,e){this.data=t,this.selectedId=null==e?-1:e},onALRender:function(t,e){t.getComponentInChildren(cc.Label).string=this.data[e],t.getComponentInChildren(cc.Sprite).node.active=e!=this.al.numItems-1},switch:function(t){1!=t&&0!=t&&(t=null),null==t&&(t=!this._open),this._open=t,this._updateState()},onOtherMenuOpen:function(t){t.uuid!=this.node.uuid&&this.switch(!1)},_updateState:function(){var t=null!=this.data&&this.data.length>0;this.content||(this.content=this.showContent?this.showContent:this.al.node),t||(this._open=!1,this._selectedId=-1),this.btnSelf.label.string=this.selectedId>=0?this.data[this.selectedId]:this.unselectedString,this.btnSwitch&&this.initBtnSwitchSf&&!t&&(this.btnSwitch.node.sp.spriteFrame=this.initBtnSwitchSf),this.btnSwitch.gray=!t,this.btnSelf.mb.enabled=t,this.content.active=!!t&&this.open,this.blockBtn.enabled=!!t&&!this.open,t&&(this._open?(this.content.active=!0,this.blockBtn.enabled=!0,this.al.numItems=this.data.length,this.btnSwitch&&this.btnSwitchCloseSF&&(this.btnSwitch.node.sp.spriteFrame=this.btnSwitchCloseSF),gL.OtherModel.send(gL.OtherEvent.ON_MENU_OPEN,this.node)):(this.content.active=!1,this.blockBtn.enabled=!1,this.btnSwitch&&this.initBtnSwitchSf&&(this.btnSwitch.node.sp.spriteFrame=this.initBtnSwitchSf)))},bgEv:function(){this.open=!1},itemEv:function(t){var e=t.target.parent.getSiblingIndex();this.selectedId=e,this.open=!1}}),cc._RF.pop()},{AutoLayout:"AutoLayout",List:"List",MyButton:"MyButton"}],MyButton:[function(t,e,i){"use strict";cc._RF.push(e,"53590/nop9OHYmEJKumKZZT","MyButton");var n=t("Tools"),s=cc.Enum({YELLOW:1,ORANGE:2,BLUE:3}),o=cc.Enum({0:"535353",1:"0D0600",2:"000000",3:"ffffff"});cc.Class({editor:{executeInEditMode:!0,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/My Button"},extends:cc.Button,properties:{normalFrameList:[cc.SpriteFrame],graySpriteFrame:cc.SpriteFrame,btnType:{default:s.YELLOW,type:s,notify:function(){var t=this.normalFrameList[this.btnType-1];t&&(this.gray||(this._sprite.spriteFrame=t),this.initSpriteFrame=t),this._setLabelColor()}},_gray:!1,gray:{get:function(){return this._gray},set:function(t){var e=this;t!=e._gray&&e._sprite&&(e._gray=t,e.graySpriteFrame?(e.initSpriteFrame||(e.initSpriteFrame=e._sprite.spriteFrame),e._sprite.spriteFrame=t?e.graySpriteFrame:e.initSpriteFrame):n.setGray(e._sprite,t),e._setLabelColor())}},_btnLabel:null,btnLabel:{visible:!1,get:function(){return this._btnLabel||(this._btnLabel=this.node.getComponentInChildren(cc.Label)),this._btnLabel}},_redDot:null,redDot:{visible:!1,get:function(){return this._redDot||(this._redDot=this.node.getChildByName("redDot")),this._redDot}},effType:{default:-1,min:-1,step:1}},onLoad:function(){this.effType>-1&&this.playEff(this.effType)},_setLabelColor:function(){if(this.btnLabel){if(this.btnLabel.font)return;if(this.gray)this.btnLabel.node.color=cc.color(o[0]);else{var t=o[this.btnType];t&&(this.btnLabel.node.color=cc.color(t))}}},_updateDisabledState:function(){var t=this;t._super(),t.graySpriteFrame?t._gray?t._sprite.spriteFrame=t.graySpriteFrame:t.initSpriteFrame&&(t._sprite.spriteFrame=t.initSpriteFrame):n.setGray(t._sprite,t._gray)},setLabelStr:function(t,e){if(t.length<3&&(t=gL.Tools.strSpace(t)),!this.btnLabel)return cc.warn("The button none label. ->",this.node.name);this.btnLabel.string=t,e&&(this.btnLabel.node.color=e)},playEff:function(t,e,i){var n=this;e&&gL.ui.showErrMessage(e,i),n.cancelEff();var s=void 0,o=void 0,r=void 0,a=void 0,c=void 0,l=void 0;switch(t){case 0:a=20,r=.06,n._effSavePos=n.node.getPosition(),n._effAction=cc.sequence([cc.scaleTo(r/2,1.1),cc.spawn(cc.sequence([cc.moveBy(r/2,cc.v2(-a/2,0)),cc.moveBy(r,cc.v2(a,0)),cc.moveBy(r,cc.v2(-a,0)),cc.moveBy(r,cc.v2(a,0)),cc.moveBy(r/2,cc.v2(-a/2,0))]),cc.sequence([cc.tintTo(2*r,255,200,200),cc.tintTo(2*r,255,255,255)])),cc.scaleTo(r/2,1)]);break;case 1:o=1.3,r=.8,n._effTarget=cc.instantiate(n.node),(c=n._effTarget.getComponent(cc.Button))&&n._effTarget.removeComponent(c),n.node.addChild(n._effTarget),n._effTarget.setPosition(0,0),n._effTarget.setSiblingIndex(n.node.childrenCount-1),n._effAction=cc.sequence([cc.spawn(cc.scaleTo(0,1),cc.fadeTo(0,100)),cc.spawn(cc.scaleTo(r,o),cc.fadeTo(r,0))]),s=0;break;case 2:l=8,r=.73,n._effAction=cc.sequence([cc.rotateTo(r/5,l),cc.rotateTo(r/5,.8*-l),cc.rotateTo(r/5,.65*l),cc.rotateTo(r/5,.5*-l),cc.rotateTo(r/5,0)])}null!=s&&s>1?n._effAction=cc.repeat(n._effAction,s):s<=0&&(n._effAction=cc.repeatForever(n._effAction)),(n._effTarget||n.node).runAction(n._effAction)},cancelEff:function(){var t=this;t._effAction&&(t._effTarget||t.node)&&(t._effTarget||t.node).stopAllActions(),t._effAction=null,t.node.setScale(1),t.node.rotation=0,t.node.opcity=1,t._effSavePos&&t.node.setPosition(t._effSavePos),t._effSavePos=null,t._effTarget&&(t._effTarget.destroy&&t._effTarget.destroy(),t._effTarget=null)}}),cc._RF.pop()},{Tools:"Tools"}],MyLabel:[function(t,e,i){"use strict";cc._RF.push(e,"3db902NNYlEK5/j3CHAKgNV","MyLabel");var n=t("Tools");cc.Class({editor:{executeInEditMode:!0,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/MyLabel"},extends:cc.Label,properties:{placeholder:{tooltip:!1,default:"{0}",notify:function(){this.string=this.placeholder},multiline:!0}},format:function(){1==arguments.length?this.string=n.format(this.placeholder||"{0}",arguments[0]):this.string=n.format(this.placeholder||"{0}",arguments)}}),cc._RF.pop()},{Tools:"Tools"}],MyRichText:[function(t,e,i){"use strict";cc._RF.push(e,"870f7KiTDFOxYPFug2dxXkK","MyRichText");var n=t("HtmlTextParser"),s=t("Tools");cc.Class({editor:{disallowMultiple:!0,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/My RichText"},extends:cc.RichText,properties:{spcNodeList:[],fixImgSize:!1,spriteWidth:{default:25,visible:function(){return this.fixImgSize}},spriteHeight:{default:25,visible:function(){return this.fixImgSize}},placeholder:{tooltip:!1,default:"{0}",notify:function(){0},multiline:!0}},format:function(){1==arguments.length?this.string=s.format(this.placeholder||"{0}",arguments[0]):this.string=s.format(this.placeholder||"{0}",arguments)},_updateRichText:function(){if(this.enabled){var t=(new n).parse(this.string);if(!this._needsUpdateTextLayout(t))return this._textArray=t,void this._updateLabelSegmentTextAttributes();this._textArray=t,this._resetState();for(var e=0;e<this.spcNodeList.length;++e)this.spcNodeList[e].removeFromParent(!0);this.spcNodeList=[];var i,s=!1;for(e=0;e<this._textArray.length;++e){var o=this._textArray[e],r=o.text;if(""===r){if(o.style&&o.style.newline){this._updateLineInfo();continue}if(o.style&&o.style.isImage){this._addRichTextImageElement(o);continue}}for(var a=r.split("\n"),c=0;c<a.length;++c){var l=a[c];if(""!==l)if(s=!1,this.maxWidth>0){var h=this._measureText(e,l);this._updateRichTextWithMaxWidth(l,h,e),a.length>1&&c<a.length-1&&this._updateLineInfo()}else i=this._addLabelSegment(l,e).getContentSize(),this._lineOffsetX+=i.width,this._lineOffsetX>this._labelWidth&&(this._labelWidth=this._lineOffsetX),a.length>1&&c<a.length-1&&this._updateLineInfo();else{if(this._isLastComponentCR(r)&&c==a.length-1)continue;this._updateLineInfo(),s=!0}}}s||this._linesWidth.push(this._lineOffsetX),this.maxWidth>0&&(this._labelWidth=this.maxWidth),this._updateRichTextPosition(),this.node.setContentSize(this._labelWidth,this._labelHeight),this._layoutDirty=!1}},_calcHeightInfo:function(){for(var t=1,e=0,i={},n=0;n<this._labelSegments.length;++n){var s=this._labelSegments[n],o=s._lineCount,r=s.getContentSize().height;o>t?(i[t]=e,e=r,t=o):e=Math.max(e,r)}i[t]=e;for(var a={},c={},l=0,h=this._lineCount;h>=1;h--){a[h]=l;var u=i[h]||this.lineHeight;c[h]=u,l+=u}return{dict:a,max:l,heightDict:c}},_updateRichTextPosition:function(){for(var t=this._calcHeightInfo(),e=t.dict,i=t.heightDict,n=0,s=1,o=(this._lineCount,0);o<this._labelSegments.length;++o){var r=this._labelSegments[o],a=r._lineCount;a>s&&(n=0,s=a);var c=0;switch(this.horizontalAlign){case cc.macro.TextAlignment.LEFT:c=-this._labelWidth/2;break;case cc.macro.TextAlignment.CENTER:c=-this._linesWidth[a-1]/2;break;case cc.macro.TextAlignment.RIGHT:c=this._labelWidth/2-this._linesWidth[a-1]}r.x=n+c;var l=r.getContentSize(),h=e[a],u=i[a];r.y=h-t.max/2+(u-l.height)/2,a===s&&(n+=l.width)}this._labelHeight=t.max},_onTouchEnded:function(t){for(var e=this.node.getComponents(cc.Component),i=0;i<this._labelSegments.length;++i){var n=this._labelSegments[i];if((o=n._clickHandler)&&this._containsTouchLocation(n,t.touch.getLocation())){var s=o.split("|"),o=s[0],r=s[1];if(!r&&o){var a=o.split(":");o="clickModule",r={module:a[0]};for(var c=1;c<a.length;c++){var l=a[c].split("=");r[l[0]]=l[1]}!this._myData||"miner2"!=a[0]&&"escort3"!=a[0]||(r.nickname=this._myData.nickname,r.role_id=this._myData.role_id,r.time=this._myData.time)}var h=this;e.forEach(function(e){e.enabledInHierarchy&&e[o]&&("clickModule"==o?e[o](r,t):e[o](h._myData?h._myData.clickArgs[r]:r,t))}),t.stopPropagation()}}},_measureText:function(t,e){var i=this,n=function(e){var n;return 0===i._labelSegmentsCache.length?(n=i._createFontLabel(e),i._labelSegmentsCache.push(n)):(n=i._labelSegmentsCache[0]).getComponent(cc.Label).string=e,n._styleIndex=t,i._applyTextAttribute(n),n.fontFamily="SimHei",n.getContentSize().width};return e?n(e):n},_addLabelSegment:function(t,e){var i;return 0===this._labelSegmentsCache.length?i=this._createFontLabel(t):(i=this._labelSegmentsCache.pop()).getComponent(cc.Label).string=t,i._styleIndex=e,i._lineCount=this._lineCount,i.fontFamily="SimHei",this._applyTextAttribute(i),i.setAnchorPoint(0,0),this.node.addChild(i),this._labelSegments.push(i),i},handler1:function(t){},handler2:function(t){}}),cc._RF.pop()},{HtmlTextParser:"HtmlTextParser",Tools:"Tools"}],NodeParser:[function(t,e,i){"use strict";cc._RF.push(e,"e44e38lNvxMiIY/GGnUsKv4","NodeParser"),cc.Class({extends:cc.Component,editor:{disallowMultiple:!1,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Node Parser",executeInEditMode:!1,executionOrder:-5e3},onLoad:function(){this._parse([[1,"MyButton","mb"],[1,cc.Button,"mb"]],this.node),this.node.getComponent(cc.Button)||this.node.mb?this._parse([[2,cc.RichText,"rt"],[2,"MyRichText","rt"],[2,cc.Label,"label"],[3,"redDot","rd"],[2,"Cost","cost"]],this.node):this._parse([[1,cc.RichText,"rt"],[1,"MyRichText","rt"],[1,cc.Label,"label"],[1,"CDNSprite","csp"]],this.node),this.node.removeComponent(this)},_parse:function(t,e){for(var i=t.length-1;i>=0;i--){var n=t[i],s=void 0;switch(n[0]){case 1:s=e.getComponent(n[1]);break;case 2:s=e.getComponentInChildren(n[1]);break;case 3:s=e.getChildByName(n[1])}s&&(e[n[2]]=s,s.string&&s.string.indexOf("{0}")>=0&&(s.prefabStr=s.string))}}}),cc._RF.pop()},{}],Path:[function(t,e,i){"use strict";cc._RF.push(e,"ecaebGRyplJDLGku+AqSzSE","Path");var n=function(){var t=new function(){};return t.i18n="zh",t.imgURL="img/",t.bgmURL="sound/bgm/",t.bgmURL="sound/se/",t.bgmURL="sound/voice/",t}();n.appendVersion=function(t){return t+"?v="+window.cdn_version},e.exports=gL.Path=n,cc._RF.pop()},{}],ProgressBar:[function(t,e,i){"use strict";cc._RF.push(e,"d84e5S/MuRNI428I+q++oTn","ProgressBar");var n=t("MyLabel"),s=cc.Enum({cur:1,"cur/max":2,"cur%":3});cc.Class({editor:{disallowMultiple:!0,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/ProgressBar"},extends:cc.ProgressBar,properties:{level:{default:0,min:0,step:1,serializable:!1,notify:function(){this.updateInfo()}},val:{default:0,min:0,serializable:!1,notify:function(){!this.allowValGreaterThanMax&&this.val>this.maxVal&&(this.val=this.maxVal),this.updateInfo()}},maxVal:{default:1,serializable:!1,notify:function(){!this.allowValGreaterThanMax&&this.val>this.maxVal&&(this.maxVal=this.val),this.updateInfo()}},allowValGreaterThanMax:{default:!1,tooltip:!1},pre:{default:0,serializable:!1,visible:!1},label:n,labelType:{default:s["cur/max"],type:s},numToFixed:{default:0,min:0,step:1,tooltip:!1},labelLv:n},setVal:function(t,e,i,n){var s=this,o=null==s._targetVal?s.val:s._targetVal,r=null==s._targetMax?s.maxVal:s._targetMax,a=null==s._targetLevel?s.level:s._targetLevel,c=t/e;if(c==o/s.maxVal&&t==o&&e==r){if(null==i)return;if(i==a)return}if(null==n&&(n=.8),n<0&&(n=0),n){var l=null!=i&&i!=s.level;s._runingAni&&(s.tween.stop(),s._onAniDone());var h=void 0;i>s.level?h=!0:i<s.level&&(h=!1),null==h&&(h=c>s.pre),s._targetVal=t,null!=i&&(s._targetLevel=i),null!=e&&(s._targetMax=e);if(l){var u,d,f,p,m,_,g,v;m=n*(p=(u=h?r-o:o)/(f=u+(d=h?s._targetVal:r-s._targetVal))),_=n*(d/f),v=(g=s._targetMax-r)*p,s.tween=cc.tween(s).to(m,{val:h?r+v:0,maxVal:r+v},{easing:"sineOut"}).call(function(){s.val=h?0:r,s.level=s._targetLevel,s.tween=cc.tween(s).to(_,{val:s._targetVal,maxVal:r+g},{easing:"sineOut"}).call(s._onAniDone.bind(s)).start()}).start()}else s.tween=cc.tween(s).to(n,{val:s._targetVal,maxVal:s._targetMax||s.maxVal},{easing:"sineOut"}).call(s._onAniDone.bind(s)).start();s._runingAni=!0}else null!=e&&(s.maxVal=e),s.val=t,null!=i&&(s.level=i)},_onAniDone:function(){this._targetVal&&(this.val=this._targetVal),this._targetMax&&(this.maxVal=this._targetMax),this._targetVal=null,this._targetMax=null,this._targetLevel=null,this.tween=null,this._runingAni=!1},updateInfo:function(){if(this.pre=this.val/this.maxVal,this.label){var t=this.val.toFixed(this.numToFixed),e=this.maxVal.toFixed(this.numToFixed);switch(this.labelType){case s.cur:this.label.string=t;break;case s["cur/max"]:this.label.string=t+"/"+e;break;case s["cur%"]:this.label.string=(this.val/this.maxVal*100).toFixed(this.numToFixed)+"%"}}this.labelLv&&this.labelLv.format([this.level]);var i=(this.pre>1?1:this.pre)*this.totalLength;if(this.barSprite)switch(this.mode){case cc.ProgressBar.Mode.HORIZONTAL:this.barSprite.node.width=i;break;case cc.ProgressBar.Mode.VERTICAL:this.barSprite.node.height=i;break;case cc.ProgressBar.Mode.FILLED:this.barSprite.fillRange=this.pre}}}),cc._RF.pop()},{MyLabel:"MyLabel"}],Relation:[function(t,e,i){"use strict";cc._RF.push(e,"32598BrGVBNS4Z/ZVTwf6xy","Relation");var n=cc.Enum({NONE:0,WIDTH_WIDTH:1,HEIGHT_HEIGHT:2,LEFT_LEFT:3,LEFT_CENTER:4,LEFT_RIGHT:5,RIGHT_RIGHT:6,RIGHT_CENTER:7,RIGHT_LEFT:8,TOP_TOP:9,TOP_CENTER:10,TOP_BOTTOM:11,BOTTOM_BOTTOM:12,BOTTOM_CENTER:13,BOTTOM_TOP:14,HORIZONTAL_CENTER:15,VERTICAL_CENTER:16});cc.Class({editor:{menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Relation",executeInEditMode:!0,executionOrder:-5002},extends:cc.Component,properties:{target:{type:cc.Node,default:null,notify:function(){this.target&&this._registerEvent(),this._initTargetInfo()}},relations:{default:[],type:n}},onLoad:function(){this._initNodeInfo(),this._initTargetInfo(),this._registerEvent()},onEnable:function(){this._initTargetInfo(),this._initNodeInfo()},onDisable:function(){},onDestroy:function(){this._unregisterEvent()},_registerEvent:function(){var t=this;t._unregisterEvent(),cc.director.on(cc.Director.EVENT_AFTER_UPDATE,t._onEvAfterUpdate,t),t.node.on(cc.Node.EventType.POSITION_CHANGED,t._initNodeInfo,t),t.node.on(cc.Node.EventType.SIZE_CHANGED,t._initNodeInfo,t),t.target&&(t.target.on(cc.Node.EventType.POSITION_CHANGED,t._onTargetPositionChange,t),t.target.on(cc.Node.EventType.SIZE_CHANGED,t._onTargetSizeChange,t),t.target.on(cc.Node.EventType.ANCHOR_CHANGED,t._onTargetAhchorChange,t))},_unregisterEvent:function(){var t=this;cc.director.off(cc.Director.EVENT_AFTER_UPDATE,t._onEvAfterUpdate,t),t.node.off(cc.Node.EventType.POSITION_CHANGED,t._initNodeInfo,t),t.node.off(cc.Node.EventType.SIZE_CHANGED,t._initNodeInfo,t),t.target&&(t.target.off(cc.Node.EventType.POSITION_CHANGED,t._onTargetPositionChange,t),t.target.off(cc.Node.EventType.SIZE_CHANGED,t._onTargetSizeChange,t),t.target.off(cc.Node.EventType.ANCHOR_CHANGED,t._onTargetAhchorChange,t))},_initNodeInfo:function(){this._myLastPos=this.node.getPosition(),this._myLastSize=this.node.getContentSize()},_initTargetInfo:function(){var t=this;t.target&&(t._targetLastPos=t.target.getPosition(),t._targetLastSize=t.target.getContentSize(),t._targetLastAnchor=t.target.getAnchorPoint())},_onTargetPositionChange:function(t,e){this.enabled&&this.target&&t&&(e||t.x!=this._targetLastPos.x||t.y!=this._targetLastPos.y)&&((this.haveRelation(n.LEFT_LEFT)||this.haveRelation(n.LEFT_CENTER)||this.haveRelation(n.LEFT_RIGHT)||this.haveRelation(n.RIGHT_RIGHT)||this.haveRelation(n.RIGHT_CENTER)||this.haveRelation(n.RIGHT_LEFT)||this.haveRelation(n.HORIZONTAL_CENTER))&&(this.node.x=this._myLastPos.x+(t.x-this._targetLastPos.x)),(this.haveRelation(n.TOP_TOP)||this.haveRelation(n.TOP_CENTER)||this.haveRelation(n.TOP_BOTTOM)||this.haveRelation(n.BOTTOM_BOTTOM)||this.haveRelation(n.BOTTOM_CENTER)||this.haveRelation(n.BOTTOM_TOP)||this.haveRelation(n.VERTICAL_CENTER))&&(this.node.y=this._myLastPos.y+(t.y-this._targetLastPos.y)),this._targetLastPos=t)},_onTargetSizeChange:function(t,e){if(t||(t=this.target.getContentSize()),this.enabled&&this.target&&t&&(e||t.width!=this._targetLastSize.width||t.height!=this._targetLastSize.height)){this.haveRelation(n.WIDTH_WIDTH)&&(this.node.width=this._myLastSize.width+(t.width-this._targetLastSize.width)),this.haveRelation(n.HEIGHT_HEIGHT)&&(this.node.height=this._myLastSize.height+(t.height-this._targetLastSize.height));var i=void 0,s=void 0,o=void 0,r=void 0,a=void 0,c=void 0,l=void 0,h=void 0,u=void 0,d=void 0;(this.haveRelation(n.LEFT_LEFT)||this.haveRelation(n.RIGHT_LEFT))&&(i=this._targetLastPos.x-this._targetLastAnchor.x*this._targetLastSize.width,s=this.target.x-this.target.anchorX*this.target.width,this.node.x=this._myLastPos.x+(s-i)),(this.haveRelation(n.RIGHT_RIGHT)||this.haveRelation(n.LEFT_RIGHT))&&(o=this._targetLastPos.x+(1-this._targetLastAnchor.x)*this._targetLastSize.width,r=this.target.x+(1-this.target.anchorX)*this.target.width,this.node.x=this._myLastPos.x+(r-o)),(this.haveRelation(n.BOTTOM_BOTTOM)||this.haveRelation(n.TOP_BOTTOM))&&(a=this._targetLastPos.y-this._targetLastAnchor.y*this._targetLastSize.height,c=this.target.y-this.target.anchorY*this.target.height,this.node.y=this._myLastPos.y+(c-a)),(this.haveRelation(n.TOP_TOP)||this.haveRelation(n.BOTTOM_TOP))&&(l=this._targetLastPos.y+(1-this._targetLastAnchor.y)*this._targetLastSize.height,h=this.target.y+(1-this.target.anchorY)*this.target.height,this.node.y=this._myLastPos.y+(h-l)),(this.haveRelation(n.LEFT_CENTER)||this.haveRelation(n.RIGHT_CENTER)||this.haveRelation(n.HORIZONTAL_CENTER))&&(u=((i=this._targetLastPos.x-this._targetLastAnchor.x*this._targetLastSize.width)+(o=this._targetLastPos.x+(1-this._targetLastAnchor.x)*this._targetLastSize.width))/2,d=((s=this.target.x-this.target.anchorX*this.target.width)+(r=this.target.x+(1-this.target.anchorX)*this.target.width))/2,this.node.x=this._myLastPos.x+(d-u)),(this.haveRelation(n.TOP_CENTER)||this.haveRelation(n.BOTTOM_CENTER)||this.haveRelation(n.VERTICAL_CENTER))&&(u=((a=this._targetLastPos.y-this._targetLastAnchor.y*this._targetLastSize.height)+(l=this._targetLastPos.y+(1-this._targetLastAnchor.y)*this._targetLastSize.height))/2,d=((c=this.target.y-this.target.anchorY*this.target.height)+(h=this.target.y+(1-this.target.anchorY)*this.target.height))/2,this.node.y=this._myLastPos.y+(d-u)),this._targetLastSize=t}},_onTargetAhchorChange:function(){this.target&&(this._onTargetSizeChange(this.target.getContentSize(),1),this._targetLastAnchor=this.target.getAnchorPoint())},_onEvAfterUpdate:function(){this.target&&(this._onTargetPositionChange(this.target.getPosition()),this._onTargetSizeChange(this.target.getContentSize()))},haveRelation:function(t){return this.relations.indexOf(t)>=0},addRelation:function(t){this.haveRelation(t)||this.relations.push(t)},delRelation:function(t){var e=this.relations.indexOf(t)>=0;e>=0&&this.relations.splice(e,1)}}),cc._RF.pop()},{}],Res:[function(t,e,i){"use strict";cc._RF.push(e,"d337chN+y1CUaC2Hy3z+Wnu","Res");var n=function(){var t=new function(){};return t.countDict={},t}();n.load=function(t,e,i,n){var s=this;cc.loader.loadRes(t,e,function(o,r){var a=void 0;switch(e){case cc.SpriteFrame:a=r._uuid}s.mount(a),i(r,t,n)})},n.mount=function(t){this.countDict.hasOwnProperty(t)?this.countDict[t]++:this.countDict[t]=1},n.degression=function(t){this.countDict.hasOwnProperty(t)&&--this.countDict[t]<1&&n.release(t)},n.release=function(t){cc.loader.release(t)},e.exports=gL.Res=n,cc._RF.pop()},{}],Shake:[function(t,e,i){"use strict";cc._RF.push(e,"ee8e8W/ZuBAgKPYR8fAfwUn","Shake");var n=cc.Enum({VERTICAL:1,HORIZONTAL:2});cc.Class({editor:{menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Shake"},extends:cc.Component,properties:{direction:{default:n.VERTICAL,type:n,tooltip:!1},duration:{default:2,type:cc.Float,min:.2,tooltip:!1},distance:{default:20,type:cc.Integer,min:0,tooltip:!1},times:{default:0,type:cc.Integer,min:0,tooltip:!1},afterDel:{default:!1,tooltip:!1,visible:function(){return this.times>0}},delayDel:{default:0,type:cc.Float,min:0,tooltip:!1}},start:function(){var t=this,e=void 0;switch(t.direction){case n.VERTICAL:t.node.y=t.node.y+t.distance/2,e=new cc.Sequence([new cc.moveBy(t.duration/2,cc.v2(0,-t.distance)).easing(cc.easeInOut(2)),new cc.moveBy(t.duration/2,cc.v2(0,t.distance)).easing(cc.easeInOut(2))]);break;case n.HORIZONTAL:t.node.x=t.node.x-t.distance/2,e=new cc.Sequence([new cc.moveBy(t.duration/2,cc.v2(t.distance,0)).easing(cc.easeInOut(2)),new cc.moveBy(t.duration/2,cc.v2(-t.distance,0)).easing(cc.easeInOut(2))])}var i=void 0;t.times>0?(i=cc.repeat(e,t.times),t.node.runAction(new cc.Sequence([i,new cc.callFunc(function(){t.afterDel&&(t.node.removeFromParent(),t.node.destroy())})]))):(i=cc.repeatForever(e),t.node.runAction(i)),t.delayDel>0&&t.scheduleOnce(function(){t.node.removeFromParent(),t.node.destroy()},t.delayDel)},onDestroy:function(){this.node&&this.node.stopAllActions(),this.unscheduleAllCallbacks()}}),cc._RF.pop()},{}],SoundManager:[function(t,e,i){"use strict";cc._RF.push(e,"6751cKAceFKN6efZbswlB7U","SoundManager");var n=t("LocalStorage"),s=t("Path"),o=function(){return new function(){this._audioDict={},this._bmgAudioId=null,this._bmgUrl=null,this._insertBmgUrl=null,this._effectDict={},this._isHide=!1}}();o.onGameHide=function(){1!=this._isHide&&(this._isHide=!0,this.stopBmg())},o.onGameShow=function(){0!=this._isHide&&(this._isHide=!1,this._updateBmgVolume())},o.loadAutio=function(t,e){var i=this._audioDict[t];if(i){if("loading"==i)return;e&&e(i)}else{this._audioDict[t]="loading";var n=this;gL.loader.load(t,function(i,s){if(i)return console.warn("load clip error ",i),void delete n._audioDict[t];var o=cc.audioEngine.play(s,!1,0),r=void 0;(r=cc.audioEngine._id2audio[o]).off("ended"),r.off("stop"),r._myId=o,r._myUrl=t,n._audioDict[t]=r,e&&e(r)})}},o.playBmg=function(t){if(t&&""!=t){var e=s.getSoundBmgPath(t);if(e!=this._bmgUrl){o.stopBmg(),this._release(this._bmgUrl),this._bmgUrl=e;var i=this;this.loadAutio(this._bmgUrl,function(t){t._myUrl==i._bmgUrl?(cc.audioEngine.setLoop(t._myId,!0),cc.audioEngine.setVolume(t._myId,i._getRealBmgVolume())):i._release(t._myUrl)})}else{var n=this._audioDict[e];n&&"loading"!=n&&cc.audioEngine.setVolume(n._myId,this._getRealBmgVolume())}}},o.stopBmg=function(){var t=this._audioDict[this._bmgUrl];t&&"loading"!=t&&cc.audioEngine.setVolume(t._myId,0)},o.playInsertBmg=function(t){this.stopBmg(),this._release(this._insertBmgUrl);var e=this;this._insertBmgUrl=s.getSoundBmgPath(t),this.loadAutio(this._insertBmgUrl,function(t){e._insertBmgUrl?(cc.audioEngine.setLoop(t._myId,!0),cc.audioEngine.setVolume(t._myId,e._getRealBmgVolume())):e._release(t._myUrl)})},o.stopInsertBmg=function(){this._release(this._insertBmgUrl),this._insertBmgUrl=null,this._updateBmgVolume()},o.setBmgVolume=function(t){(t<0||t>1)&&(t=1),n.setItem("bgm_volume",t),this._updateBmgVolume()},o.getBmgVolume=function(){var t=n.getItem("bgm_volume");return t||(t=.4,n.setItem("bgm_volume",t)),t},o.setBmgSilience=function(t){t=t?1:0,n.setItem("bgm_silience",t),this._updateBmgVolume()},o.getBmgSilience=function(){var t=n.getItem("bgm_silience");return!!parseInt(t)},o._getRealBmgVolume=function(){return this._isHide?0:this.getBmgSilience()?0:.5*this.getBmgVolume()},o._updateBmgVolume=function(){var t=this._audioDict[this._bmgUrl];t&&"loading"!=t&&cc.audioEngine.setVolume(t._myId,this._getRealBmgVolume())},o.playEffect=function(t,e){if(t&&""!=t){var i=this._getRealEffectVolume();if(0!=i){var n=s.getSoundEffectPath(t);this.loadAutio(n,function(n){var s=n._myId;cc.audioEngine.setLoop(s,!1),cc.audioEngine.setVolume(s,i),cc.audioEngine.getState(s)==cc.audioEngine.AudioState.PAUSED&&(cc.audioEngine.setCurrentTime(n._myId,0),cc.audioEngine.resume(s)),e&&cc.audioEngine.setFinishCallback(s,function(){o.releaseEffect(t)})})}}},o.setEffectVolume=function(t){(t<0||t>1)&&(t=1),n.setItem("effect_volume",t)},o.getEffectVolume=function(){var t=n.getItem("effect_volume");return t||(t=.3,n.setItem("effect_volume",t)),parseFloat(t)},o.setEffectSilience=function(t){t=t?1:0,n.setItem("effect_silience",t)},o.getEffectSilience=function(){var t=n.getItem("effect_silience");return!!parseInt(t)},o._getRealEffectVolume=function(){return this._isHide?0:this.getEffectSilience()?0:this.getEffectVolume()},o.playUIOpen=function(t){this.playEffect("UIOpen")},o.playUIClose=function(t){this.playEffect("UIClose")},o.playUIWin=function(){this.playEffect("UIWin")},o.playUILose=function(){this.playEffect("UILose")},o.playCD=function(){this.playEffect("UIOpen")},o._release=function(t){t&&""!=t&&(cc.audioEngine.uncache({nativeUrl:t}),cc.loader.release(t),delete this._audioDict[t])},o.releaseEffect=function(t){this._release(s.getSoundEffectPath(t))},o.releaseUIWinAndLose=function(){this._release(s.getSoundEffectPath("UIWin")),this._release(s.getSoundEffectPath("UILose"))},e.exports=gL.SoundManager=o,cc._RF.pop()},{LocalStorage:"LocalStorage",Path:"Path"}],SpecificTap:[function(t,e,i){"use strict";cc._RF.push(e,"b4765YtYcJElpZgSkjw0sHd","SpecificTap");var n=cc.Enum({LONG_TAP:0,DOUBLE_TAP:1});cc.Class({editor:{menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Specific Tap"},extends:cc.Component,properties:{type:{default:n.LONG_TAP,type:n,tooltip:!1},longTapDuration:{default:1,type:cc.Float,range:[0,3,.1],tooltip:!1,slide:!0,visible:function(){return this.type==n.LONG_TAP}},longTapInterval:{default:.1,type:cc.Float,range:[0,1,.1],tooltip:!1,slide:!0,visible:function(){return this.type==n.LONG_TAP}},doubleTapDuration:{default:.3,type:cc.Float,range:[0,1,.1],tooltip:!1,slide:!0,visible:function(){return this.type==n.DOUBLE_TAP}},events:{default:[],type:cc.Component.EventHandler,tooltip:!1}},onEnable:function(){this.node.on(cc.Node.EventType.TOUCH_START,this._onTouchStart,this,!1),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._onTouchMove,this,!1),this.node.on(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this,!1),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancel,this,!1)},onDisable:function(){this.node.targetOff()},_onTouchStart:function(t){switch(this.startTapPos=new cc.Vec2(t.currentTouch._point.x,t.currentTouch._point.y),this.type){case n.LONG_TAP:this.longTapCD=this.longTapDuration,this.longTapFirstEv=!0;break;case n.DOUBLE_TAP:this.doubleTapCD?this.doubleTapCount++:(this.doubleTapCD=this.doubleTapDuration,this.doubleTapCount=1)}},_onTouchMove:function(t){this.type==n.LONG_TAP&&this.startTapPos&&this.longTapInterval>0&&t.currentTouch._point.sub(this.startTapPos).mag()>10&&this._onTouchCancel()},_onTouchEnd:function(t){this.doubleTapCD&&this.doubleTapCount>=2&&(this.startTapPos=this.doubleTapCD=this.doubleTapCount=null,this.type==n.DOUBLE_TAP&&cc.Component.EventHandler.emitEvents(this.events,t)),this.startTapPos=this.longTapCD=this.longTapFirstEv=null},_onTouchCancel:function(t){this.startTapPos=this.doubleTapCD=this.longTapCD=this.longTapFirstEv=null},interdict:function(){this._onTouchEnd()},update:function(t){null!=this.longTapCD&&(this.longTapCD-=t,this.longTapCD<=0&&(this.longTapCD=null,this.startTapPos&&(cc.Component.EventHandler.emitEvents(this.events,{target:this.node},null!=this.longTapFirstEv,this.startTapPos),this.longTapInterval>0?this.longTapCD=this.longTapInterval:this.longTapCD=null,this.longTapFirstEv=null))),null!=this.doubleTapCD&&(this.doubleTapCD-=t,this.doubleTapCD<=0&&(this.doubleTapCD=null))}}),cc._RF.pop()},{}],Tab:[function(t,e,i){"use strict";cc._RF.push(e,"6e315NYlEFOTbalL/aZUlbT","Tab");var n=t("List");cc.Class({extends:cc.Component,properties:{list:n,leftLightSF:cc.SpriteFrame,middleLightSF:cc.SpriteFrame,leftDarkSF:cc.SpriteFrame,middleDarkSF:cc.SpriteFrame,switchTextColor:!1,textSelectedColor:{default:cc.color(0,0,0),tooltip:!1,visible:function(){return this.switchTextColor}},controlledNodes:[cc.Node],changeEvent:{default:null,type:cc.Component.EventHandler},checkUnlock:{default:null,type:cc.Component.EventHandler},_selectedId:-1,selectedId:{visible:!1,get:function(){return this._selectedId},set:function(t){var e=this;if(t!=e._selectedId||!this._inited){if(e.lastSelectedId=e._selectedId,e._selectedId=t,e.controlledNodes&&e.controlledNodes.length>0)for(var i=e.controlledNodes.length-1;i>=0;i--)null!=e.controlledNodes[i].active&&(e.controlledNodes[i].active=i==t);this.data&&(e.list.numItems=this.data.length),e.changeEvent&&cc.Component.EventHandler.emitEvents([e.changeEvent],e._selectedId,e.lastSelectedId)}}},_redDotIds:[],redDotIds:{visible:!1,get:function(){return this._redDotIds},set:function(t){this._redDotIds=t,this.updateRedDot()}}},onLoad:function(){this._saveTextNormalColor()},_saveTextNormalColor:function(){if(!this.textNormalColor){var t=this.list._itemTmp,e=void 0;t&&(e=t.getComponentInChildren(cc.Label)),e&&(this.textNormalColor=e.node.color)}},init:function(t,e){var i=this;if(i._inited=null,i._saveTextNormalColor(),i.data=t,i.list.numItems=i.data.length,i.selectedId=null!=e?e:0,null!=e&&i.list.scrollTo(e),i._inited=!0,i.controlledNodes)for(var n=i.controlledNodes.length-1;n>=0;n--)i.controlledNodes[n]._tab=i},onListRender:function(t,e){var i=this;t.bg||gL.Tools.parseNode(t,[["bg",cc.Sprite],["icon","CDNSprite"],["label",cc.Label],"redDot"]);var n=i.data[e],s=void 0,o=1,r=e==i.selectedId;r?(s=i.middleLightSF,e<=0?s=i.leftLightSF:e>=i.list.numItems-1&&(s=i.leftLightSF,o=-1)):(s=i.middleDarkSF,e<=0?s=i.leftDarkSF:e>=i.list.numItems-1&&(s=i.leftDarkSF,o=-1)),t.bg.spriteFrame=s,t.bg.node.scaleX=o,t.icon&&(r&&n.frame&&t.icon.setFrame(n.frame),r||t.icon.setFrame(n.selectedFrame||n.frame)),t.label&&n.name&&(t.label.string=n.name,i.switchTextColor&&(t.label.node.color=r?i.textSelectedColor:i.textNormalColor)),t.redDot&&(t.redDot.active=i.stateDict&&i.stateDict[e])},onClickItem:function(t){var e=this,i=t.target._listId;if(e.checkUnlock){var n=e.checkUnlock.target;if(!cc.isValid(n))return;var s=e.checkUnlock._componentName||e.checkUnlock.component,o=n.getComponent(s);if(!cc.isValid(o))return;var r=o[e.checkUnlock.handler];if("function"!=typeof r)return;if(!r.call(n,i))return}e.selectedId=i}}),cc._RF.pop()},{List:"List"}],Time:[function(t,e,i){"use strict";cc._RF.push(e,"641264lz1ZM1ZX098w939bD","Time");var n=function(){return new function(){this.offsetTimeMs=0,this.openServerTime=0,this.mergeServerTime=0}}();n.getOpenServerDays=function(){var t=this.unixtime();return Math.floor((t-this.openServerTime)/86400)+1},n.getTime=function(){return(new Date).getTime()+this.offsetTimeMs},n.unixtime=function(){return Math.round(this.getTime()/1e3)},n.formatDate=function(t,e,i){t||(t=this.getTime());var n=new Date(t),s=n.getFullYear(),o=n.getMonth()+1,r=n.getDate(),a=n.getHours(),c=n.getMinutes(),l=n.getSeconds(),h=n.getMilliseconds();return e?i?s+"-"+o+"-"+r+" "+this.appendZero(a)+":"+this.appendZero(c)+":"+this.appendZero(l)+"."+h:s+"-"+o+"-"+r+" "+this.appendZero(a)+":"+this.appendZero(c)+":"+this.appendZero(l):s+"-"+o+"-"+r+" "+this.appendZero(a)+":"+this.appendZero(c)},n.formatDate1=function(t,e,i){t||(t=this.getTime());var n=new Date(t),s=(n.getFullYear(),n.getMonth()+1),o=n.getDate(),r=n.getHours(),a=n.getMinutes(),c=n.getSeconds(),l=n.getMilliseconds();return e?i?s+"\u6708"+o+"\u65e5"+this.appendZero(r)+"\u65f6"+this.appendZero(a)+"\u5206"+this.appendZero(c)+"\u79d2."+l:s+"\u6708"+o+"\u65e5"+this.appendZero(r)+"\u65f6"+this.appendZero(a)+"\u5206"+this.appendZero(c)+"\u79d2":s+"\u6708"+o+"\u65e5"+this.appendZero(r)+"\u65f6"+this.appendZero(a)+"\u5206"},n.formatDate2=function(t,e,i){t||(t=this.getTime());var n=new Date(t),s=n.getFullYear(),o=n.getMonth()+1,r=n.getDate(),a=n.getHours(),c=n.getMinutes(),l=n.getSeconds(),h=n.getMilliseconds();return e?i?s+"\u5e74"+o+"\u6708"+r+"\u65e5 "+this.appendZero(a)+"\u65f6"+this.appendZero(c)+"\u5206"+this.appendZero(l)+"\u79d2."+h:s+"\u5e74"+o+"\u6708"+r+"\u65e5 "+this.appendZero(a)+"\u65f6"+this.appendZero(c)+"\u5206"+this.appendZero(l)+"\u79d2":s+"\u5e74"+o+"\u6708"+r+"\u65e5 "+this.appendZero(a)+"\u65f6"+this.appendZero(c)+"\u5206"},n.formatDate3=function(t){t||(t=this.getTime());var e=new Date(t),i=e.getHours(),n=e.getMinutes(),s=e.getSeconds();return this.appendZero(i)+":"+this.appendZero(n)+":"+this.appendZero(s)},n.formatDate4=function(t,e,i,n,s){t||(t=this.getTime());var o=new Date(t),r=o.getFullYear(),a=o.getMonth()+1,c=o.getDate(),l=o.getHours(),h=o.getMinutes(),u=o.getSeconds(),d=o.getMilliseconds();return e?i?n?s?r+"\u5e74"+a+"\u6708"+c+"\u65e5 "+this.appendZero(l)+"\u65f6"+this.appendZero(h)+"\u5206"+this.appendZero(u)+"\u79d2."+d:r+"\u5e74"+a+"\u6708"+c+"\u65e5 "+this.appendZero(l)+"\u65f6"+this.appendZero(h)+"\u5206"+this.appendZero(u)+"\u79d2":r+"\u5e74"+a+"\u6708"+c+"\u65e5 "+this.appendZero(l)+"\u65f6"+this.appendZero(h)+"\u5206":r+"\u5e74"+a+"\u6708"+c+"\u65e5 "+this.appendZero(l)+"\u65f6":r+"\u5e74"+a+"\u6708"+c+"\u65e5"},n.formatDate5=function(t){t||(t=this.getTime());var e=new Date(t),i=e.getMonth()+1,n=e.getDate(),s=e.getHours(),o=e.getMinutes();return i+"-"+n+" "+this.appendZero(s)+":"+this.appendZero(o)},n.parseSeconds=function(t){var e=Math.floor(t/3600),i=Math.floor((t-3600*e)/60),n=Math.floor(t)%60;return{hour:this.appendZero(e),min:this.appendZero(i),second:this.appendZero(n)}},n.formatSeconds=function(t,e,i){var n=Math.floor(t/3600),s=Math.floor((t-3600*n)/60),o=Math.floor(t)%60;return e?this.appendZero(60*n+s)+":"+this.appendZero(o):i?this.appendZero(n)+":"+this.appendZero(s):this.appendZero(n)+":"+this.appendZero(s)+":"+this.appendZero(o)},n.formatSeconds2=function(t){var e=this.parseSeconds(t);return e.hour>0?e.hour+"\u5c0f\u65f6"+e.min+"\u5206"+e.second+"\u79d2":e.min>0?e.min+"\u5206"+e.second+"\u79d2":e.second+"\u79d2"},n.formatSeconds3=function(t){t=this.unixtime()-t;var e=Math.floor(t/3600),i=Math.floor((t-3600*e)/60);return e>0?e+"\u5c0f\u65f6"+i+"\u5206\u949f\u524d":i>0?i+"\u5206\u949f\u524d":"1\u5206\u949f\u5185"},n.formatSeconds4=function(t){var e=Math.floor(t/3600);return{hour:e,min:Math.floor((t-3600*e)/60)}},n.formatSeconds5=function(t){var e=Math.floor(t/86400),i=Math.floor(t/3600),n=i%24,s=Math.floor((t-3600*i)/60),o=Math.floor(t)%60;return e>0?e+"\u5929":n>0?n+"\u5c0f\u65f6":s>0?s+"\u5206\u949f":o+"\u79d2"},n.formatSeconds6=function(t){var e=Math.floor(t/86400),i=Math.floor(t/3600),n=i%24,s=Math.floor((t-3600*i)/60),o=Math.floor(t)%60;return e>0?e+"\u5929"+this.appendZero(n)+"\u5c0f\u65f6"+this.appendZero(s)+"\u5206":this.appendZero(n)+"\u5c0f\u65f6"+this.appendZero(s)+"\u5206"+this.appendZero(o)+"\u79d2"},n.formatSeconds7=function(t){var e=Math.floor(t/3600),i=Math.floor(t/60);return i<10?Math.floor(t)+"\u79d2":e<2?i+"\u5206\u949f":e<48?e+"\u5c0f\u65f6":Math.floor(t/86400)+"\u5929"},n.appendZero=function(t){return t<10?"0"+t:t},n.checkBtnEventCD=function(t,e){var i=this.getTime();return!(t._lastTouchTime&&i-t._lastTouchTime<e)&&(t._lastTouchTime=i,!0)},n.getTimeLeft=function(t,e){var i=e-t;return this.formatSeconds4(i)},n.getTimeLeft2=function(t,e){var i=Math.abs(e-t);return this.parseSeconds(i)},n.getDays=function(t){return Math.ceil(t/86400)},n.isToday=function(t){var e=new Date(this.getTime()),i=new Date(t);return e.getFullYear()==i.getFullYear()&&(e.getMonth()==i.getMonth()&&e.getDate()==i.getDate())},gL.Time=e.exports=n,cc._RF.pop()},{}],Tools:[function(t,e,i){"use strict";cc._RF.push(e,"1d91cpdFolKZ4QmdGMumBFe","Tools");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=t("BigNumber"),o=function(){return new function(){}}();o.setGray=function(t,e){t&&(e=e?1:0,t.setState(e))},o.numZh=["\u96f6","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341"],o.numZheStr=function(t,e){if(e){for(var i="",n=(t+="").length-1;n>=0;n--)i=o.numZh[parseInt(t[n])]+i;return i}if(t<10)return o.numZh[t];var s=Math.floor(t/10),r=t%10;return(s>1?o.numZh[s]:"")+"\u5341"+(r>0?o.numZh[r]:"")},o.deepCopy=function(t,e){e=e||(t.constructor===Array?[]:{});for(var i in t)t.hasOwnProperty(i)&&("object"===n(t[i])?(e[i]=t[i].constructor===Array?[]:{},o.deepCopy(t[i],e[i])):e[i]=t[i]);return e},o.clamp=function(t,e,i){return t<e?e:t>i?i:t},o.randomFloat=function(t,e){var i=e-t;return t+Math.random()*i},o.randomInt=function(t,e){var i=e-t,n=Math.random();return t+Math.round(n*i)},o.rand=o.randomInt,o.randomOZ=function(){return this.randomInt(0,1)},o.randomTF=function(){return!!this.randomInt(0,1)},o.randomPM=function(){return this.randomInt(0,1)?1:-1},o.getListRand=function(t){return t[this.randomInt(0,t.length-1)]},o.getListRandAndSplice=function(t){var e=this.randomInt(0,t.length-1),i=t[e];return t.splice(e,1),i},o.getListRandN=function(t,e){for(var i=this.deepCopy(t),n=[],s=0;s<e;s++){var o=this.randomInt(0,i.length-1);n.push(i[o]),i.splice(o,1)}return n},o.randValueToList=function(t,e){for(var i=[],n=0,s=0;s<e;s++){var o=this.rand(100,3e3);i.push(o),n+=o}for(var r=[],a=0,c=e-1;c>=0;c--){var l=i[c],h=Math.floor(t*l/n);r.push(h),a+=h}return a<t&&r.push(t-a),r},o.patch0=function(t){return function(e,i){return 0>=(i-=e.toString().length)?e:(t[i]||(t[i]=Array(i+1).join(0)))+e}}([]),o.Erl2Json=function(t){return"string"!=typeof t?t:JSON.parse(t.replace(/{/gm,"[").replace(/}/gm,"]").replace(/([\w]+)/gm,'"$1"'))},o.formatNumber=function(t){var e=t.toString(),i="";i=e.substring(e.length-3,e.length);for(var n=e.length-3;n>0;n-=3){var s=n-3>0?n-3:0;i=e.substring(n,s)+","+i}return i},o.toDecimal=function(t,e){var i=parseFloat(t);if(isNaN(i))return"0";var n=Math.pow(10,e),s=(i=Math.floor(i*n)/n).toString(),o=s.indexOf(".");for(o<0&&(o=s.length,s+=".");s.length<=o+e;)s+="0";return s},o.toDecimalNoZero=function(t,e){var i=parseFloat(t);if(isNaN(i))return"0";var n=Math.pow(10,e);return Math.round(i*n)/n},o.showBigNumber=function(t){var e=t instanceof s?t:s(t);return e.gt(1e20)?e.dividedBy(1e20).toFixed(1)+"\u4ebf\u5146":e.gt(1e16)?e.dividedBy(1e16).toFixed(1)+"\u4e07\u5146":e.gt(999999999999)?e.dividedBy(1e12).toFixed(1)+"\u5146":e.gt(99999999)?e.dividedBy(1e8).toFixed(1)+"\u4ebf":e.gt(99999)?e.dividedBy(1e4).toFixed(1)+"\u4e07":e.toFixed(0)},o.format=function(t,e){if(arguments.length>0){if(1==arguments.length)return t;if(2==arguments.length&&"object"==(void 0===e?"undefined":n(e))){for(var i=0;i<e.length;i++)if(null!=e[i]){var s=new RegExp("([\u3010{]"+i+"[\u3011}])","g");t=t.replace(s,e[i])}}else for(i=1;i<arguments.length;i++)if(null!=arguments[i]){s=new RegExp("([\u3010{]"+(i-1)+"[\u3011}])","g");t=t.replace(s,arguments[i])}return t}return""},o.getStrLength=function(t){return t.replace(/[\u0391-\uFFE5]/g,"aa").length},o.makeSpriteAtlas=function(t,e){var i=cc.js.createMap(!0);for(var n in t){var s=t[n],o=new cc.Rect(s.r[0],s.r[1],s.r[2],s.r[3]);(s.r[2]<0||s.r[3]<0)&&(o=new cc.Rect(0,0,1,1));var r=new cc.Vec2(s.o[0],s.o[1]),a=new cc.Size(s.s[0],s.s[1]),c=1===s.rotated,l=new cc.SpriteFrame(e,o,c,r,a);i[n]=l}return i},o.calcTextureMem=function(t){return t.width*t.height*4/1048576},o.findNodeByName=function(t,e){if(t.name===e)return t;for(var i=0;i<t.children.length;i++){var n=this.findNodeByName(t.children[i],e);if(null!==n)return n}return null},o.getQueryString=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(e);return null!=i?unescape(i[2]):null},o.arrayGroup=function(t,e){for(var i={},n=t.length-1;n>=0;n--){var s=t[n],o=s[e];null!=o&&(o in i||(i[o]=[]),i[o].unshift(s))}return i},o.obj2Array=function(t){var e=[];for(var i in t)e.push(t[i]);return e},o.formatTalkContent=function(e){return e.replace("[\u73a9\u5bb6\u540d\u516d\u4e2a\u5b57]",t("RoleModel").nickname)},o.getColorStr=function(t,e){return"<color="+t+">"+e+"</c>"},o.clipboard=function(t){var e=document.createElement("textarea");e.style.position="fixed",e.style.top=0,e.style.left=0,e.style.border="none",e.style.outline="none",e.style.resize="none",e.style.background="transparent",e.style.color="transparent",e.value=t,document.body.appendChild(e),e.select();try{var i=document.execCommand("copy")?"successful":"unsuccessful";console.log(i)}catch(t){console.log("unable to copy",t)}document.body.removeChild(e)},o.bubbleSort=function(t,e,i){if(i=null==i?1:i){for(var n=0;n<t.length-1;n++)for(var s=0;s<t.length-1-n;s++)if(t[s][e]>t[s+1][e]){var o=t[s];t[s]=t[s+1],t[s+1]=o}}else for(var r=0;r<t.length-1;r++)for(var a=0;a<t.length-1-r;a++)if(t[a][e]<t[a+1][e]){var c=t[a];t[a]=t[a+1],t[a+1]=c}},o.str2V=function(t){for(var e="",i=t.length,n=0;n<i-1;n++)e+=t[n]+"\n";return e+t[i-1]},o.strSpace=function(t){for(var e="",i=0,n=t.length;i<n;i++)e=e+t[i]+" ";return e.substring(0,e.length-1)},o.getStrNum=function(t){var e=t.match(/\d+/g);if(e){for(var i=e.length-1;i>=0;i--)e[i]=+e[i];return 1==e.length?e[0]:e}},o.parseNode=function(t,e,i,n,s){Array.isArray(e)||(e=[e]),n||(n=t);for(var o={},r=e.length,a=0;a<r;a++){var c=e[a],l=Array.isArray(c)?c[0]:c;0,o[l]=a+1}for(var h=[].concat(t.children);h.length;){var u=h.shift(),d=o[u._name];if(d){var f=e[d-1],p=Array.isArray(f)?f[1]:null;if(n[u._name]=p?u.getComponent(p):u,delete o[u._name],!--r)break}i&&h.push.apply(h,u.children)}if(s&&r)for(var m in r)cc.error('Not find "'+m+'" node!')},o.createEvt=function(t,e,i){if(t.isValid){t.comName=t.comName||t.name.match(/\<(.*?)\>/g).pop().replace(/\<|>/g,"");var n=new cc.Component.EventHandler;return n.target=i||t.node,n.component=t.comName,n.handler=e,n}},o.propClone=function(t,e){for(var i in e)t[i]=e[i]},o.kv2Sub=function(t){for(var e=[],i=t.length-1;i>=0;i--)e.unshift([t[i].key,t[i].val]);return e},o.sub2KV=function(t){for(var e=[],i=t.length-1;i>=0;i--)e.unshift({key:t[i][0],val:t[i][1]});return e},o.p2Dis=function(t,e){return t.sub(e).mag()},o.calcCubicBezierPoint=function(t,e){for(var i=[],n=void 0,s=void 0,o=void 0,r=void 0,a=void 0,c=void 0,l=void 0,h=void 0,u=void 0,d=void 0,f=1/(e-1),p=0;p<e;p++)u=p*f,o=3*(t[1].x-t[0].x),s=3*(t[2].x-t[1].x)-o,n=t[3].x-t[0].x-o-s,c=3*(t[1].y-t[0].y),a=3*(t[2].y-t[1].y)-c,r=t[3].y-t[0].y-c-a,h=(l=u*u)*u,d=cc.v2(n*h+s*l+o*u+t[0].x,r*h+a*l+c*u+t[0].y),i.push(d);return i},e.exports=gL.Tools=o,cc._RF.pop()},{BigNumber:"BigNumber",RoleModel:void 0}],UIController:[function(t,e,i){"use strict";cc._RF.push(e,"58af74om9FAoYGof1QjpcAI","UIController"),cc.Class({editor:{disallowMultiple:!1,executeInEditMode:!0,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/UI Controller"},extends:cc.Component,properties:function(){return{_subscribers:{default:[],type:t("UISubscriber"),tooltip:!1},state:{default:0,type:cc.Integer,min:0,step:1,tooltip:!1,notify:function(){0}}}},onLoad:function(){for(var t=this._subscribers.length-1;t>=0;t--)this._subscribers[t]||this._subscribers.splice(t,1)},setState:function(t){this.state<0?console.error("\u72b6\u6001\u9519\u8bef",this.state):(this.state=t,this.publish())},subscribe:function(t,e){for(var i=this._subscribers.length-1;i>=0;i--){if(t==this._subscribers[i])return void(e&&this._subscribers.splice(i,1))}e||this._subscribers.push(t)},publish:function(){for(var t=0;t<this._subscribers.length;t++)this._subscribers[t]&&this._subscribers[t].isValid&&this._subscribers[t].node?this._subscribers[t].setState(this.state):(this._subscribers.splice(t,1),t--)}}),cc._RF.pop()},{UISubscriber:"UISubscriber"}],UILayer:[function(t,e,i){"use strict";cc._RF.push(e,"cd359tctzVBAZdnJ8vyblsC","UILayer"),cc.Class({extends:cc.Component,properties:{sceneNode:cc.Node,mainUI:cc.Node,mainUISub:cc.Node,mainUITips:cc.Node,windowNode:cc.Node,tipsNode:cc.Node,tMask:cc.Node,bMask:cc.Node,fontList:[cc.Font]},onLoad:function(){gL.ui=this,this._uiDict={},this._mainUIDict={},this._windowList=[],this._nowWindow=null,this._tipsDict={},this._tipsKeepDict={},this._resDict={},this.guideDict={},this.showLoadingWindowFlagList={},this.loadingView.node.active=!1,this.feedbackList=[]},showErrMessage:function(t,e){if(this.messageView)this.messageView.addMessage(t,e);else{var i=[1,t,e];this.messageViewWaitList?this.messageViewWaitList.push(i):(this.messageViewWaitList=[i],this.loadMessageView())}},showRewardMessage:function(t){if(this.messageView)t.length&&this.messageView.addRewardList(t);else{var e=[2,t];this.messageViewWaitList?this.messageViewWaitList.push(e):(this.messageViewWaitList=[e],this.loadMessageView())}},loadMessageView:function(){var t=this;this.loadUI("tips/MessageView",function(e){t.tipsNode.addChild(e),t.messageView=e.getComponent("MessageView");for(var i=0;i<t.messageViewWaitList.length;i++){var n=t.messageViewWaitList[i];1==n[0]?t.messageView.addMessage(n[1],n[2]):2===n[0]&&t.messageView.addRewardList(n[1])}delete t.messageViewWaitList})},showLoadingWindow:function(t){this.showLoadingWindowFlagList[t]||(this.showLoadingWindowFlagList[t]=!0,"login/NoticeTips"!=t&&(this.loadingView.node.active=!0,this.loadingView.resetProgress()))},delLoadingWindow:function(){1==this.loadingView.node.active&&(this.loadingView.node.active=!1)},alert:function(t){if(!t||null!=t.dnd&&!t.where)return!1;if(t.where&&LoginModel.getThisLoginBoolean(t.where))return void(t.okCB&&t.okCB());this.addTips("other/AlertTips",t)},showHelperTips:function(t){var e=HelperConfig.get(t);if(e)gL.ui.alert({title:e.title,content:e.desc,align:cc.RichText.HorizontalAlign.LEFT,btns:[]});else{if(!(e=KVConfig[t]))return cc.warn("Not find module '"+t+"'");gL.ui.addTips("other/HelperTips",e)}},showGuide:function(t){var e=this;if(e.guideUI){var i=cc.instantiate(e.guideUI).getComponent("Guide");i.init(t),t.where&&(e.delGuide(t.where),e.guideDict[t.where]=i.node)}else gL.ui.loadUI("other/Guide",function(i){e.guideUI=i,e.showGuide(t)})},delGuide:function(t){var e=this;if(t){var i=e.guideDict[t];i&&i.destroy&&i.destroy(),delete e.guideDict[t]}else e.guideDict.forEach(function(t){t&&t.destroy&&t.destroy()}),e.guideDict={}},addTips:function(t,e,i){var n=this;this.showLoadingWindow(t),this.loadUI(t,function(s){n.delLoadingWindow(),s._myParam=e,n._showTips(t,s,i)})},_showTips:function(t,e,i){this.delTips(t),this.delKeepTips(t);var n=this.mainUITips,s=1e3;1==LoginModel.Game.LoadingHelper.workFlag?n=LoginModel.Game.LoadNode:"task/StandbyView"==t?s=-1:this._nowWindow&&(n=this._nowWindow),n.addChild(e,s),i?this._tipsKeepDict[t]=e:this._tipsDict[t]=e},delKeepTips:function(t){this._tipsKeepDict[t]&&(this._tipsKeepDict[t].destroy(),delete this._tipsKeepDict[t],this.hideChatOpt())},delTips:function(t){this._tipsDict[t]&&(this._tipsDict[t].removeFromParent(),this._tipsDict[t].destroy(),delete this._tipsDict[t],this.hideChatOpt())},delAllTips:function(){for(var t in this._tipsDict)this.delTips(t);this._tipsDict={}},isOpenWindow:function(t){return this._nowWindow&&this._nowWindow.myKey==t},addWindow:function(t,e,i,n){if(0!=i&&(i=!0),this._nowWindow&&this._nowWindow.myKey==t&&1==i)this.delWindow();else{var s=this;if(n)if(this.baseWindow)this._formatWindow(t,e);else{this.showLoadingWindow("BaseWindow");var o=this;this.loadUI("window/BaseWindow",function(i){o.delLoadingWindow(),o.baseWindow=i,o._formatWindow(t,e)})}else this.showLoadingWindow(t),this.loadUI(t,function(t){s.delLoadingWindow(),t._myParam=e,s._showWindow(t)})}},addBaseWindow:function(t,e,i){this.addWindow(t,e,i,!0)},_formatWindow:function(t,e){var i=cc.instantiate(this.baseWindow);i._myParam=e,i.addComponent(t),this._showWindow(i)},delWindow:function(){this._nowWindow&&(this._nowWindow.destroy(),this._nowWindow=null,this._popWindow(),null==this._nowWindow&&this.tryShowMainUI(),this.hideChatOpt())},delAllWindow:function(){for(var t=0;this.delWindow(),null!=this._nowWindow;t++);},_showWindow:function(t){this.tryHideMainUI(),this._pushWindow(this._nowWindow),this._nowWindow=t,t.parent?t.active=!0:this.windowNode.addChild(t)},_pushWindow:function(t){t&&(this._windowList.push(t),t.active=!1)},_popWindow:function(){if(0==this._windowList.length)return null;var t=this._windowList.pop();this._showWindow(t)},isShowWindow:function(){return null!=this._nowWindow},loadUI:function(t,e,i){var n=function(i){var n=cc.instantiate(i);n.myKey=t,n.myData=i,e&&e(n)},s=this._uiDict[t];s?n(s):this.loadUIFromWeb(t,n,i)},loadUIFromWeb:function(t,e,i){var n=this;cc.loader.loadRes("UI/"+t,cc.Prefab,function(i,s){i||(s.myKey=t,n._uiDict[t]=s,e&&e(s))})}}),cc._RF.pop()},{}],UISubscriber:[function(t,e,i){"use strict";cc._RF.push(e,"dff0d8EA61FNYe1fW3kM/VH","UISubscriber");var n=cc.Class({name:"ActiveType",properties:{ctrIndex:{default:0,type:cc.Integer,min:0,step:1},active:!0}}),s=cc.Class({name:"PositionType",properties:{ctrIndex:{default:0,type:cc.Integer,min:0,step:1},pos:cc.Vec2}}),o=cc.Class({name:"SpriteFrameType",properties:{ctrIndex:{default:0,type:cc.Integer,min:0,step:1},spriteFrame:cc.SpriteFrame}}),r=cc.Class({name:"CDNSpriteType",properties:{ctrIndex:{default:0,type:cc.Integer,min:0,step:1},frame:""}}),a=cc.Class({name:"ColorType",properties:{ctrIndex:{default:0,type:cc.Integer,min:0,step:1},color:cc.Color.WHITE,opacity:{default:255,type:cc.Float,range:[0,255,.1],slide:!0,tooltip:!1}}}),c=cc.Class({name:"StringType",properties:{ctrIndex:{default:0,type:cc.Integer,min:0,step:1},string:""}}),l=cc.Class({name:"Subscriber",properties:{target:cc.Node,activeSwitch:{default:!1,notify:function(){this.activeSwitch||(this.actives.length=0)}},defaultAct:{default:!0,visible:function(){return this.activeSwitch},notify:function(){}},actives:{default:[],type:n,visible:function(){return this.activeSwitch},notify:function(){}},positionSwitch:{default:!1,notify:function(){this.positionSwitch||(this.positions.length=0)}},_defaultPos:cc.Vec2,defaultPos:{type:cc.Vec2,visible:function(){return this.positionSwitch},get:function(){return this._defaultPos},set:function(t){this._defaultPos=t}},positions:{default:[],type:s,visible:function(){return this.positionSwitch},notify:function(){}},spriteFrameSwitch:{default:!1,notify:function(){this.spriteFrameSwitch||(this.defaultFrame=null,this.spriteFrames.length=0)}},_defaultFrame:cc.SpriteFrame,defaultFrame:{type:cc.SpriteFrame,visible:function(){return this.spriteFrameSwitch},get:function(){return this._defaultFrame},set:function(t){this._defaultFrame=t}},spriteFrames:{default:[],type:o,visible:function(){return this.spriteFrameSwitch},notify:function(){}},cdnsSwitch:{default:!1,notify:function(){this.cdnsSwitch||(this.defaultCDNFrame=null,this.cdnFrames.length=0)}},_defaultCDNFrame:"",defaultCDNFrame:{type:"",visible:function(){return this.cdnsSwitch},get:function(){return this._defaultCDNFrame},set:function(t){this._defaultCDNFrame=t}},cdnFrames:{default:[],type:r,visible:function(){return this.cdnsSwitch},notify:function(){}},colorSwitch:{default:!1,notify:function(){this.colorSwitch||(this.colors.length=0)}},defaultColor:{default:cc.Color.WHITE,visible:function(){return this.colorSwitch},notify:function(){}},defaultOpacity:{default:255,visible:function(){return this.colorSwitch},notify:function(){}},colors:{default:[],type:a,visible:function(){return this.colorSwitch},notify:function(){}},stringSwitch:{default:!1,notify:function(){this.stringSwitch||(this.strings.length=0)}},defaultStr:{default:"",visible:function(){return this.stringSwitch},notify:function(){}},strings:{default:[],type:c,visible:function(){return this.stringSwitch},notify:function(){}}},setState:function(t){var e=void 0,i=void 0,n=void 0;if(this.activeSwitch){e=this.actives.length,n=!1;for(var s=0;s<e;s++)if((i=this.actives[s]).ctrIndex==t){this.target.active=i.active,n=!0;break}n||(this.target.active=this.defaultAct)}if(this.positionSwitch){e=this.positions.length,n=!1;for(var o=0;o<e;o++)if((i=this.positions[o]).ctrIndex==t){this.target.setPosition(i.pos),n=!0;break}n||this.target.setPosition(this.defaultPos)}if(this.spriteFrameSwitch){var r=this.target.getComponent(cc.Sprite);if(r){e=this.spriteFrames.length,n=!1;for(var a=0;a<e;a++)if((i=this.spriteFrames[a]).ctrIndex==t){r.spriteFrame=i.spriteFrame,n=!0;break}n||(r.spriteFrame=this.defaultFrame)}}if(this.cdnsSwitch){var c=this.target.getComponent("CDNSprite");if(c){e=this.cdnFrames.length,n=!1;for(var l=0;l<e;l++)if((i=this.cdnFrames[l]).ctrIndex==t){var h=i.frame.split(",");c.setFrame(h[0],h[1]),n=!0;break}if(!n){var u=this.defaultCDNFrame.split(",");c.setFrame(u[0],u[1])}}}if(this.colorSwitch){e=this.colors.length,n=!1;for(var d=0;d<e;d++)if((i=this.colors[d]).ctrIndex==t){this.target.color=i.color,this.target.opacity=i.opacity,n=!0;break}n||(this.target.color=this.defaultColor,this.target.opacity=this.defaultOpacity)}if(this.stringSwitch){var f=this.target.getComponent(cc.Label)||this.target.getComponent(cc.RichText);if(f){n=!1,e=this.strings.length;for(var p=0;p<e;p++)if((i=this.strings[p]).ctrIndex==t){f.string=i.string,n=!0;break}n||(f.string=this.defaultStr)}}}});cc.Class({extends:cc.Component,editor:{disallowMultiple:!0,executeInEditMode:!0,menu:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6/UI Subscriber"},properties:function(){return{ctr:{default:null,type:t("UIController"),notify:function(){this.ctr&&this.ctr.subscribe(this)}},subscribers:[l]}},onLoad:function(){this.ctr&&this.setState(this.ctr.state)},setState:function(t){t=t||0;for(var e=0;e<this.subscribers.length;e++)this.subscribers[e].setState(t)}}),cc._RF.pop()},{UIController:"UIController"}],md5:[function(t,e,i){"use strict";function n(t,e){return t<<e|t>>>32-e}function s(t,e){var i,n,s,o,r;return s=2147483648&t,o=2147483648&e,r=(1073741823&t)+(1073741823&e),(i=1073741824&t)&(n=1073741824&e)?2147483648^r^s^o:i|n?1073741824&r?3221225472^r^s^o:1073741824^r^s^o:r^s^o}function o(t,e,i){return t&e|~t&i}function r(t,e,i){return t&i|e&~i}function a(t,e,i){return t^e^i}function c(t,e,i){return e^(t|~i)}function l(t,e,i,r,a,c,l){return s(n(t=s(t,s(s(o(e,i,r),a),l)),c),e)}function h(t,e,i,o,a,c,l){return s(n(t=s(t,s(s(r(e,i,o),a),l)),c),e)}function u(t,e,i,o,r,c,l){return s(n(t=s(t,s(s(a(e,i,o),r),l)),c),e)}function d(t,e,i,o,r,a,l){return s(n(t=s(t,s(s(c(e,i,o),r),l)),a),e)}function f(t){for(var e,i=t.length,n=i+8,s=16*((n-n%64)/64+1),o=Array(s-1),r=0,a=0;a<i;)r=a%4*8,o[e=(a-a%4)/4]=o[e]|t.charCodeAt(a)<<r,a++;return r=a%4*8,o[e=(a-a%4)/4]=o[e]|128<<r,o[s-2]=i<<3,o[s-1]=i>>>29,o}function p(t){var e,i="",n="";for(e=0;e<=3;e++)i+=(n="0"+(t>>>8*e&255).toString(16)).substr(n.length-2,2);return i}function m(t){for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e+=String.fromCharCode(n):n>127&&n<2048?(e+=String.fromCharCode(n>>6|192),e+=String.fromCharCode(63&n|128)):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128),e+=String.fromCharCode(63&n|128))}return e}cc._RF.push(e,"d42faq/sqFKAoTiXlrdBYcQ","md5"),e.exports={hex_md5:function(t){var e,i,n,o,r,a,c,_,g,v=Array();for(v=f(t=m(t)),a=1732584193,c=4023233417,_=2562383102,g=271733878,e=0;e<v.length;e+=16)i=a,n=c,o=_,r=g,c=d(c=d(c=d(c=d(c=u(c=u(c=u(c=u(c=h(c=h(c=h(c=h(c=l(c=l(c=l(c=l(c,_=l(_,g=l(g,a=l(a,c,_,g,v[e+0],7,3614090360),c,_,v[e+1],12,3905402710),a,c,v[e+2],17,606105819),g,a,v[e+3],22,3250441966),_=l(_,g=l(g,a=l(a,c,_,g,v[e+4],7,4118548399),c,_,v[e+5],12,1200080426),a,c,v[e+6],17,2821735955),g,a,v[e+7],22,4249261313),_=l(_,g=l(g,a=l(a,c,_,g,v[e+8],7,1770035416),c,_,v[e+9],12,2336552879),a,c,v[e+10],17,4294925233),g,a,v[e+11],22,2304563134),_=l(_,g=l(g,a=l(a,c,_,g,v[e+12],7,1804603682),c,_,v[e+13],12,4254626195),a,c,v[e+14],17,2792965006),g,a,v[e+15],22,1236535329),_=h(_,g=h(g,a=h(a,c,_,g,v[e+1],5,4129170786),c,_,v[e+6],9,3225465664),a,c,v[e+11],14,643717713),g,a,v[e+0],20,3921069994),_=h(_,g=h(g,a=h(a,c,_,g,v[e+5],5,3593408605),c,_,v[e+10],9,38016083),a,c,v[e+15],14,3634488961),g,a,v[e+4],20,3889429448),_=h(_,g=h(g,a=h(a,c,_,g,v[e+9],5,568446438),c,_,v[e+14],9,3275163606),a,c,v[e+3],14,4107603335),g,a,v[e+8],20,1163531501),_=h(_,g=h(g,a=h(a,c,_,g,v[e+13],5,2850285829),c,_,v[e+2],9,4243563512),a,c,v[e+7],14,1735328473),g,a,v[e+12],20,2368359562),_=u(_,g=u(g,a=u(a,c,_,g,v[e+5],4,4294588738),c,_,v[e+8],11,2272392833),a,c,v[e+11],16,1839030562),g,a,v[e+14],23,4259657740),_=u(_,g=u(g,a=u(a,c,_,g,v[e+1],4,2763975236),c,_,v[e+4],11,1272893353),a,c,v[e+7],16,4139469664),g,a,v[e+10],23,3200236656),_=u(_,g=u(g,a=u(a,c,_,g,v[e+13],4,681279174),c,_,v[e+0],11,3936430074),a,c,v[e+3],16,3572445317),g,a,v[e+6],23,76029189),_=u(_,g=u(g,a=u(a,c,_,g,v[e+9],4,3654602809),c,_,v[e+12],11,3873151461),a,c,v[e+15],16,530742520),g,a,v[e+2],23,3299628645),_=d(_,g=d(g,a=d(a,c,_,g,v[e+0],6,4096336452),c,_,v[e+7],10,1126891415),a,c,v[e+14],15,2878612391),g,a,v[e+5],21,4237533241),_=d(_,g=d(g,a=d(a,c,_,g,v[e+12],6,1700485571),c,_,v[e+3],10,2399980690),a,c,v[e+10],15,4293915773),g,a,v[e+1],21,2240044497),_=d(_,g=d(g,a=d(a,c,_,g,v[e+8],6,1873313359),c,_,v[e+15],10,4264355552),a,c,v[e+6],15,2734768916),g,a,v[e+13],21,1309151649),_=d(_,g=d(g,a=d(a,c,_,g,v[e+4],6,4149444226),c,_,v[e+11],10,3174756917),a,c,v[e+2],15,718787259),g,a,v[e+9],21,3951481745),a=s(a,i),c=s(c,n),_=s(_,o),g=s(g,r);return(p(a)+p(c)+p(_)+p(g)).toLowerCase()}},cc._RF.pop()},{}]},{},["Debug","Game","Global","Res","UILayer","ImageManager","SoundManager","BigNumber","HtmlTextParser","HttpRequest","LocalStorage","MemoryDetector","Path","Time","Tools","md5","AdjustPos","AutoInstantiate","AutoLayout","Breath","ChatTouchEventHandler","Drag","Gesture","Keypad","List","ListItem","Menu","MyButton","MyLabel","MyRichText","NodeParser","ProgressBar","Relation","Shake","SpecificTap","Tab","UIController","UISubscriber"]);